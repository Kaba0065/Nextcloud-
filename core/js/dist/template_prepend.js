!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29)},function(e,t){var n;(n=jQuery).widget("oc.ocdialog",{options:{width:"auto",height:"auto",closeButton:!0,closeOnEscape:!0,modal:!1},_create:function(){var e=this;this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,height:this.element[0].style.height},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this.$dialog=n('<div class="oc-dialog" />').attr({tabIndex:-1,role:"dialog"}).insertBefore(this.element),this.$dialog.append(this.element.detach()),this.element.removeAttr("title").addClass("oc-dialog-content").appendTo(this.$dialog),this.$dialog.css({display:"inline-block",position:"fixed"}),this.enterCallback=null,n(document).on("keydown keyup",function(t){if(t.target===e.$dialog.get(0)||0!==e.$dialog.find(n(t.target)).length){if(27===t.keyCode&&"keydown"===t.type&&e.options.closeOnEscape)return t.stopImmediatePropagation(),e.close(),!1;if(13===t.keyCode){if(t.stopImmediatePropagation(),null!==e.enterCallback)return e.enterCallback(),t.preventDefault(),!1;if("keyup"===t.type)return t.preventDefault(),!1;if(e.$buttonrow&&0===e.$buttonrow.find(n(t.target)).length){var i=e.$buttonrow.find("button.primary");i&&!i.prop("disabled")&&i.trigger("click")}else e.$buttonrow&&n(t.target).trigger("click");return!1}}}),this._setOptions(this.options),this._createOverlay()},_init:function(){this.$dialog.focus(),this._trigger("open")},_setOption:function(e,t){var i=this;switch(e){case"title":if(this.$title)this.$title.text(t);else{var a=n('<h2 class="oc-dialog-title">'+t+"</h2>");this.$title=a.prependTo(this.$dialog)}this._setSizes();break;case"buttons":if(this.$buttonrow)this.$buttonrow.empty();else{var o=n('<div class="oc-dialog-buttonrow" />');this.$buttonrow=o.appendTo(this.$dialog)}1===t.length?this.$buttonrow.addClass("onebutton"):2===t.length?this.$buttonrow.addClass("twobuttons"):3===t.length&&this.$buttonrow.addClass("threebuttons"),n.each(t,function(e,t){var a=n("<button>").text(t.text);t.classes&&a.addClass(t.classes),t.defaultButton&&(a.addClass("primary"),i.$defaultButton=a),i.$buttonrow.append(a),a.click(function(){t.click.apply(i.element[0],arguments)})}),this.$buttonrow.find("button").on("focus",function(e){i.$buttonrow.find("button").removeClass("primary"),n(this).addClass("primary")}),this._setSizes();break;case"style":void 0!==t.buttons&&this.$buttonrow.addClass(t.buttons);break;case"closeButton":if(t){var s=n('<a class="oc-dialog-close"></a>');this.$dialog.prepend(s),s.on("click",function(){i.close()})}else this.$dialog.find(".oc-dialog-close").remove();break;case"width":this.$dialog.css("width",t);break;case"height":this.$dialog.css("height",t);break;case"close":this.closeCB=t}n.Widget.prototype._setOption.apply(this,arguments)},_setOptions:function(e){n.Widget.prototype._setOptions.apply(this,arguments)},_setSizes:function(){var e=0;this.$title&&(e+=this.$title.outerHeight(!0)),this.$buttonrow&&(e+=this.$buttonrow.outerHeight(!0)),this.element.css({height:"calc(100% - "+e+"px)"})},_createOverlay:function(){if(this.options.modal){var e=this;this.overlay=n("<div>").addClass("oc-dialog-dim").appendTo(n("#content")),this.overlay.on("click keydown keyup",function(t){if(t.target!==e.$dialog.get(0)&&0===e.$dialog.find(n(t.target)).length)return t.preventDefault(),void t.stopPropagation()})}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(this.overlay.off("click keydown keyup"),this.overlay.remove(),this.overlay=null)},widget:function(){return this.$dialog},setEnterCallback:function(e){this.enterCallback=e},unsetEnterCallback:function(){this.enterCallback=null},close:function(){this._destroyOverlay();var e=this;setTimeout(function(){e._trigger("close",e)},200),e.$dialog.remove(),this.destroy()},destroy:function(){this.$title&&this.$title.remove(),this.$buttonrow&&this.$buttonrow.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),this.element.removeClass("oc-dialog-content").css(this.originalCss).detach().insertBefore(this.$dialog),this.$dialog.remove()}})},function(e,t){},function(e,i){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,s=document.getElementsByTagName("head")[0].getAttribute("data-user"),r=document.getElementsByTagName("head")[0].getAttribute("data-requesttoken");if(window.oc_config=window.oc_config||{},void 0===o){var c=(o=location.pathname).indexOf("/index.php/");o=-1!==c?o.substr(0,c):o.substr(0,o.lastIndexOf("/"))}if("undefined"==typeof console||void 0===console.log){window.console||(window.console={});for(var l=function(){},d=["log","debug","warn","info","error","assert","time","timeEnd"],u=0;u<d.length;u++)console[d[u]]=l}var p={PERMISSION_NONE:0,PERMISSION_CREATE:4,PERMISSION_READ:1,PERMISSION_UPDATE:2,PERMISSION_DELETE:8,PERMISSION_SHARE:16,PERMISSION_ALL:31,TAG_FAVORITE:"_$!<Favorite>!$_",webroot:o,_capabilities:window.oc_capabilities||null,appswebroots:"undefined"!=typeof oc_appswebroots&&oc_appswebroots,currentUser:void 0!==s&&s,config:window.oc_config,appConfig:window.oc_appconfig||{},theme:window.oc_defaults||{},coreApps:["","admin","log","core/search","settings","core","3rdparty"],requestToken:r,menuSpeed:50,linkTo:function(e,t){return p.filePath(e,"",t)},linkToRemoteBase:function(e){return p.getRootPath()+"/remote.php/"+e},linkToRemote:function(e){return window.location.protocol+"//"+window.location.host+p.linkToRemoteBase(e)},linkToOCS:function(e,t){return t=2!==t?1:2,window.location.protocol+"//"+window.location.host+p.getRootPath()+"/ocs/v"+t+".php/"+e+"/"},generateUrl:function(e,t,n){var i=n||{};_.defaults(i,{escape:!0});var a=function(e,t){return t=t||[],e.replace(/{([^{}]*)}/g,function(e,n){var a=t[n];return i.escape?"string"==typeof a||"number"==typeof a?encodeURIComponent(a):encodeURIComponent(e):"string"==typeof a||"number"==typeof a?a:e})};return"/"!==e.charAt(0)&&(e="/"+e),1==oc_config.modRewriteWorking?p.getRootPath()+a(e,t):p.getRootPath()+"/index.php"+a(e,t)},filePath:function(e,t,n){var i=-1!==p.coreApps.indexOf(e),a=p.getRootPath();return"php"!==n.substring(n.length-3)||i?"php"===n.substring(n.length-3)||i?(a+="settings"!=e&&"core"!=e&&"search"!=e||"ajax"!=t?"/":"/index.php/",i||(a+="apps/"),""!==e&&(a+=e+="/"),t&&(a+=t+"/"),a+=n):(a=p.appswebroots[e],t&&(a+="/"+t+"/"),"/"!==a.substring(a.length-1)&&(a+="/"),a+=n):(a+="/index.php/apps/"+e,"index.php"!=n&&(a+="/",t&&(a+=encodeURI(t+"/")),a+=n)),a},fileIsBlacklisted:function(e){return!!e.match(oc_config.blacklist_files_regex)},redirect:function(e){window.location=e},reload:function(){window.location.reload()},getProtocol:function(){return window.location.protocol.split(":")[0]},getHost:function(){return window.location.host},getHostName:function(){return window.location.hostname},getPort:function(){return window.location.port},getRootPath:function(){return p.webroot},getCapabilities:function(){return p._capabilities},getCurrentUser:function(){return _.isUndefined(this._currentUserDisplayName)&&(this._currentUserDisplayName=document.getElementsByTagName("head")[0].getAttribute("data-user-displayname")),{uid:this.currentUser,displayName:this._currentUserDisplayName}},imagePath:function(e,t){return-1==t.indexOf(".")&&(t+=".svg"),p.filePath(e,"img",t)},encodePath:function(e){if(!e)return e;for(var t=e.split("/"),n=[],i=0;i<t.length;i++)n.push(encodeURIComponent(t[i]));return n.join("/")},addScript:function(e,t,n){var i,a=p.filePath(e,"js",t+".js");return p.addScript.loaded[a]?n&&n():(i=$.Deferred(),$.getScript(a,function(){i.resolve()}),p.addScript.loaded[a]=i),p.addScript.loaded[a]},addStyle:function(e,t){var n=p.filePath(e,"css",t+".css");-1===p.addStyle.loaded.indexOf(n)&&(p.addStyle.loaded.push(n),document.createStyleSheet?document.createStyleSheet(n):(t=$('<link rel="stylesheet" type="text/css" href="'+n+'"/>'),$("head").append(t)))},addTranslations:function(e,t){return p.L10N.load(e,t)},basename:function(e){return e.replace(/\\/g,"/").replace(/.*\//,"")},dirname:function(e){return e.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")},isSamePath:function(e,t){var n=function(e){return"."!==e},i=_.filter((e||"").split("/"),n),a=_.filter((t||"").split("/"),n);return(e=p.joinPaths.apply(p,i))===(t=p.joinPaths.apply(p,a))},joinPaths:function(){if(arguments.length<1)return"";var e="",t=Array.prototype.slice.call(arguments);if((t=_.filter(t,function(e){return e.length>0})).length<1)return"";var n,i=t[t.length-1],a="/"===t[0].charAt(0),o="/"===i.charAt(i.length-1),s=[];for(n=0;n<t.length;n++)s=s.concat(t[n].split("/"));var r=!a;for(n=0;n<s.length;n++)""!==s[n]&&(r?r=!1:e+="/",e+=s[n]);return o&&(e+="/"),e},search:function(e){p.Search.search(e,null,0,30)},dialogs:OCdialogs,parseQueryString:function(e){var t,n,i,a,o={};if(!e)return null;(n=e.indexOf("?"))>=0&&(e=e.substr(n+1)),t=e.replace(/\+/g,"%20").split("&");for(var s=0;s<t.length;s++){var r=t[s];(i=(n=r.indexOf("="))>=0?[r.substr(0,n),r.substr(n+1)]:[r]).length&&((a=decodeURIComponent(i[0]))&&(i.length>1?o[a]=decodeURIComponent(i[1]):o[a]=null))}return o},buildQueryString:function(e){return e?$.map(e,function(e,t){var n=encodeURIComponent(t);return null!=e&&(n+="="+encodeURIComponent(e)),n}).join("&"):""},appSettings:function(e){if(void 0===e||void 0===e.appid)throw{name:"MissingParameter",message:"The parameter appid is missing"};var n={scriptName:"settings.php",cache:!0};$.extend(n,e);var i=$("#appsettings");if(0===i.length)throw{name:"MissingDOMElement",message:'There has be be an element with id "appsettings" for the popup to show.'};var a=$("#appsettings_popup");if(0===a.length&&($("body").prepend('<div class="popup hidden" id="appsettings_popup"></div>'),(a=$("#appsettings_popup")).addClass(i.hasClass("topright")?"topright":"bottomleft")),a.is(":visible"))a.hide().remove();else{var o=i.hasClass("topright")?"up":"left";$.get(p.filePath(n.appid,"",n.scriptName),function(e){a.html(e).ready(function(){if(a.prepend('<span class="arrow '+o+'"></span><h2>'+t("core","Settings")+'</h2><a class="close"></a>').show(),a.find(".close").bind("click",function(){a.remove()}),void 0!==n.loadJS){var e;if(!0===n.loadJS)e="settings.js";else{if("string"!=typeof n.loadJS)throw{name:"InvalidParameter",message:'The "loadJS" parameter must be either boolean or a string.'};e=n.loadJS}n.cache&&$.ajaxSetup({cache:!0}),$.getScript(p.filePath(n.appid,"js",e)).fail(function(e,t,n){throw n})}}).show()},"html")}},registerMenu:function(e,t,n,i){var a=this;t.addClass("menu"),e.on("A"===e.prop("tagName")?"click.menu":"click.menu keyup.menu",function(o){o.preventDefault(),o.key&&"Enter"!==o.key||(t.is(p._currentMenu)?a.hideMenus():(p._currentMenu&&a.hideMenus(),!0===i&&t.parent().addClass("openedMenu"),e.attr("aria-expanded",!0),t.slideToggle(p.menuSpeed,n),p._currentMenu=t,p._currentMenuToggle=e))})},unregisterMenu:function(e,t){t.is(p._currentMenu)&&this.hideMenus(),e.off("click.menu").removeClass("menutoggle"),t.removeClass("menu")},hideMenus:function(e){if(p._currentMenu){var t=p._currentMenu;p._currentMenu.trigger(new $.Event("beforeHide")),p._currentMenu.slideUp(p.menuSpeed,function(){t.trigger(new $.Event("afterHide")),e&&e.apply(this,arguments)})}$(".menutoggle").attr("aria-expanded",!1),$(".openedMenu").removeClass("openedMenu"),p._currentMenu=null,p._currentMenuToggle=null},showMenu:function(e,t,n){t.is(p._currentMenu)||(this.hideMenus(),p._currentMenu=t,p._currentMenuToggle=e,t.trigger(new $.Event("beforeShow")),t.show(),t.trigger(new $.Event("afterShow")),_.isFunction(n)&&n())},_matchMedia:function(e){return!!window.matchMedia&&window.matchMedia(e)},getCanonicalLocale:function(){var e=this.getLocale();return"string"==typeof e?e.replace(/_/g,"-"):e},getLocale:function(){return $("html").data("locale")},getLanguage:function(){return $("html").prop("lang")},isUserAdmin:function(){return oc_isadmin},_ajaxConnectionLostHandler:_.throttle(function(){p.Notification.showTemporary(t("core","Connection to server lost"))},7e3,{trailing:!1}),_processAjaxError:function(e){var t=this;(0!==e.status||"abort"!==e.statusText&&"timeout"!==e.statusText&&!t._reloadCalled)&&(_.contains([302,303,307,401],e.status)&&p.currentUser?setTimeout(function(){if(!t._userIsNavigatingAway&&!t._reloadCalled){var e=0,i=setInterval(function(){p.Notification.showUpdate(n("core","Problem loading page, reloading in %n second","Problem loading page, reloading in %n seconds",5-e)),e>=5&&(clearInterval(i),p.reload()),e++},1e3);t._reloadCalled=!0}},100):0===e.status&&setTimeout(function(){t._userIsNavigatingAway||t._reloadCalled||t._ajaxConnectionLostHandler()},100))},registerXHRForErrorProcessing:function(e){e.addEventListener&&(e.addEventListener("load",function(){4===e.readyState&&(e.status>=200&&e.status<300||304===e.status||$(document).trigger(new $.Event("ajaxError"),e))}),e.addEventListener("error",function(){$(document).trigger(new $.Event("ajaxError"),e)}))}};p.Plugins={_plugins:{},register:function(e,t){var n=this._plugins[e];n||(n=this._plugins[e]=[]),n.push(t)},getPlugins:function(e){return this._plugins[e]||[]},attach:function(e,t,n){for(var i=this.getPlugins(e),a=0;a<i.length;a++)i[a].attach&&i[a].attach(t,n)},detach:function(e,t,n){for(var i=this.getPlugins(e),a=0;a<i.length;a++)i[a].detach&&i[a].detach(t,n)}},p.search.customResults={},p.search.resultTypes={},p.addStyle.loaded=[],p.addScript.loaded=[],p.msg={startSaving:function(e){this.startAction(e,t("core","Saving..."))},startAction:function(e,t){$(e).text(t).removeClass("success").removeClass("error").stop(!0,!0).show()},finishedSaving:function(e,t){this.finishedAction(e,t)},finishedAction:function(e,t){"success"===t.status?this.finishedSuccess(e,t.data.message):this.finishedError(e,t.data.message)},finishedSuccess:function(e,t){$(e).text(t).addClass("success").removeClass("error").stop(!0,!0).delay(3e3).fadeOut(900).show()},finishedError:function(e,t){$(e).text(t).addClass("error").removeClass("success").show()}},p.Notification={queuedNotifications:[],getDefaultNotificationFunction:null,notificationTimers:[],setDefault:function(e){p.Notification.getDefaultNotificationFunction=e},hide:function(e,t){var n=this,i=$("#notification");if(_.isFunction(e)&&(t=e,e=void 0),e||(console.warn("Missing argument $row in OC.Notification.hide() call, caller needs to be adjusted to only dismiss its own notification"),e=i.find(".row:first")),e&&i.find(".row").length>1)return e.remove(),void(t&&t.call());_.defer(function(){i.find(".row").length>1?e.remove():i.fadeOut("400",function(){n.isHidden()&&n.getDefaultNotificationFunction&&n.getDefaultNotificationFunction.call(),t&&t.call(),i.empty()})})},showHtml:function(e,n){n=n||{},_.defaults(n,{timeout:0});var i=this,a=$("#notification");this.isHidden()&&a.fadeIn().css("display","inline-block");var o=$('<div class="row"></div>');if(n.type&&o.addClass("type-"+n.type),"error"===n.type){var s=$('<a class="action close icon-close" href="#"></a>');s.attr("alt",t("core","Dismiss")),o.append(s),s.one("click",function(){return i.hide(o),!1}),o.addClass("closeable")}return o.prepend(e),a.append(o),n.timeout>0&&this.notificationTimers.push(setTimeout(function(){i.hide(o)},1e3*n.timeout)),o},show:function(e,t){return this.showHtml($("<div/>").text(e).html(),t)},showUpdate:function(e){var t=$("#notification"),n=$("<div/>").text(e).html();if(e&&0==t.find(".row").length)return this.showHtml(n);var i=$('<div class="row"></div>').prepend(n);return t.html(i),i},showTemporary:function(e,t){return t=t||{},_.defaults(t,{isHTML:!1,timeout:7}),t.isHTML?this.showHtml(e,t):this.show(e,t)},isHidden:function(){return!$("#notification").find(".row").length}},p.PasswordConfirmation={callback:null,pageLoadTime:null,init:function(){$(".password-confirm-required").on("click",_.bind(this.requirePasswordConfirmation,this)),this.pageLoadTime=moment.now()},requiresPasswordConfirmation:function(){var e=this.pageLoadTime-1e3*nc_pageLoad,t=moment.now()-(e+1e3*nc_lastLogin);return backendAllowsPasswordConfirmation&&t>18e5},requirePasswordConfirmation:function(e,n,i){n=void 0!==n?n:{};var a={title:t("core","Authentication required"),text:t("core","This action requires you to confirm your password"),confirm:t("core","Confirm"),label:t("core","Password"),error:""},o=_.extend(a,n),s=this;this.requiresPasswordConfirmation()&&p.dialogs.prompt(o.text,o.title,function(e,t){e&&""!==t?s._confirmPassword(t,o):_.isFunction(i)&&i()},!0,o.label,!0).then(function(){var e=$(".oc-dialog:visible");if(e.find(".ui-icon").remove(),e.addClass("password-confirmation"),""!==o.error)var t=$("<p></p>").addClass("msg warning").text(o.error);e.find(".oc-dialog-content").append(t),e.find(".oc-dialog-buttonrow").addClass("aside");var n=e.find("button");n.eq(0).hide(),n.eq(1).text(o.confirm)}),this.callback=e},_confirmPassword:function(e,n){var i=this;$.ajax({url:p.generateUrl("/login/confirm"),data:{password:e},type:"POST",success:function(e){nc_lastLogin=e.lastLogin,_.isFunction(i.callback)&&i.callback()},error:function(){n.error=t("core","Failed to authenticate, try again"),p.PasswordConfirmation.requirePasswordConfirmation(i.callback,n)}})}},$(document).ready(function(){$.ajaxSetup({contents:{script:!1}}),jQuery.globalEval=function(){},moment.locale(p.getLocale());var e,t=window.navigator.userAgent,n=t.indexOf("MSIE "),i=t.indexOf("Trident/"),a=t.indexOf("Edge/");n>0||i>0?$("html").addClass("ie"):a>0&&$("html").addClass("edge"),(n>0||i>0)&&cssVars(),$(window).on("unload.main",function(){p._unloadCalled=!0}),$(window).on("beforeunload.main",function(){setTimeout(function(){p._userIsNavigatingAway=!0,setTimeout(function(){p._unloadCalled||(p._userIsNavigatingAway=!1)},1e4)},1)}),$(document).on("ajaxError.main",function(e,t,n){n&&n.allowAuthErrors||p._processAjaxError(t)}),(void 0===oc_config.session_keepalive||oc_config.session_keepalive)&&function(){var e=NaN;oc_config.session_lifetime&&(e=Math.floor(oc_config.session_lifetime/2)),e=isNaN(e)?900:e,e=Math.max(60,e),e=Math.min(86400,e);var t=p.generateUrl("/csrftoken");setInterval(function(){$.ajax(t).then(function(e){r=e.token,p.requestToken=e.token}).fail(function(e){console.error("session heartbeat failed",e)})},1e3*e)}(),p.registerMenu($("#expand"),$("#expanddiv"),!1,!0),$(document).on("mouseup.closemenus",function(e){var t=$(e.target);if(t.closest(".menu").length||t.closest(".menutoggle").length)return!1;p.hideMenus()}),function(){p.registerMenu($("#more-apps > a"),$("#navigation"));var e=$("#header .header-appname-container"),t=$("#navigation"),n=$("#appmenu");p.registerMenu(e,t),e.data("oldhref",e.attr("href")),e.attr("href","#"),t.hide(),t.delegate("a","click",function(e){var t=$(e.target);t.is("a")||(t=t.closest("a")),1!==e.which||e.ctrlKey||e.metaKey?p.hideMenus(function(){return!1}):t.addClass("app-loading")}),t.delegate("a","mouseup",function(e){2===e.which&&p.hideMenus(function(){return!1})}),n.delegate("a","click",function(e){var t=$(e.target);t.is("a")||(t=t.closest("a")),1!==e.which||e.ctrlKey||e.metaKey?p.hideMenus(function(){return!1}):t.addClass("app-loading")})}(),(e=$("#header #settings")).delegate("a","click",function(e){var t=$(e.target);t.is("a")||(t=t.closest("a")),1!==e.which||e.ctrlKey||e.metaKey?p.hideMenus(function(){return!1}):(t.find("img").remove(),t.find("div").remove(),t.prepend($("<div/>").addClass("icon-loading-small")))}),e.delegate("a","mouseup",function(e){2===e.which&&p.hideMenus(function(){return!1})}),new p.ContactsMenu({el:$("#contactsmenu .menu"),trigger:$("#contactsmenu .menutoggle")}),$("#navigation").length&&($("#header #nextcloud + .menutoggle").on("click",function(){$("#menu-css-helper").remove();var e=$(".header-appname + .icon-caret").offset().left-2;e>255||$("head").append('<style id="menu-css-helper">#navigation:after { left: '+e+"px; }</style>")}),$("#header #appmenu .menutoggle").on("click",function(){$("#appmenu").toggleClass("menu-open"),$("#appmenu").is(":visible")&&$("#menu-css-helper").remove()}));var o=function(){var e=$("#appmenu li"),t=$(".header-right").outerWidth(),n=$("header").outerWidth()-$("#nextcloud").outerWidth()-(t>210?t:210),i=$(window).width()<768;i||(n*=.33);var a,o=Math.floor(n/$(e).width());i&&o>8&&(o=8),!i&&o<8&&(o=8),e.length-1-o>=1&&o--,$("#more-apps a").removeClass("active");for(var s=0;s<e.length-1;s++){var r=$(e[s]).data("id");s<o?($(e[s]).removeClass("hidden"),$("#apps li[data-id="+r+"]").addClass("in-header"),a=e[s]):($(e[s]).addClass("hidden"),$("#apps li[data-id="+r+"]").removeClass("in-header"),o>0&&$(e[s]).children("a").hasClass("active")&&($(a).addClass("hidden"),$("#apps li[data-id="+$(a).data("id")+"]").removeClass("in-header"),$(e[s]).removeClass("hidden"),$("#apps li[data-id="+r+"]").addClass("in-header")))}0===$("#apps li:not(.in-header)").length?($("#more-apps").hide(),$("#navigation").hide()):$("#more-apps").show()};if($(window).resize(o),setTimeout(o,0),$("#app-navigation").length&&!$("html").hasClass("lte9")){var s=new Snap({element:document.getElementById("app-content"),disable:"right",maxPosition:300,minDragDistance:100});$("#app-content").prepend('<div id="app-navigation-toggle" class="icon-menu" style="display:none;" tabindex="0"></div>');var c=function(){"left"==s.state().state?s.close():s.open("left")};$("#app-navigation-toggle").click(function(){c()}),$("#app-navigation-toggle").keypress(function(e){13==e.which&&c()}),$("#app-navigation").delegate("a, :button","click",function(e){var t=$(e.target);t.is(".app-navigation-noclose")||t.closest(".app-navigation-noclose").length||t.is(".app-navigation-entry-utils-menu-button")||t.closest(".app-navigation-entry-utils-menu-button").length||t.is(".add-new")||t.closest(".add-new").length||t.is("#app-settings")||t.closest("#app-settings").length||s.close()});var l=!1,d=!0,u=!1;p.allowNavigationBarSlideGesture=function(){d=!0,u&&(s.enable(),l=!0,u=!1)},p.disallowNavigationBarSlideGesture=function(){d=!1,l&&(s.disable(!0),l=!1,u=!0)};var f=function(){$(window).width()>768?(s.close(),s.disable(),l=!1,u=!1):d?(s.enable(),l=!0,u=!1):u=!0};$(window).resize(_.debounce(f,250)),f()}setInterval(function(){$(".live-relative-timestamp").each(function(){$(this).text(p.Util.relativeModifiedDate(parseInt($(this).attr("data-timestamp"),10)))})},3e4),p.PasswordConfirmation.init()}),$.fn.filterAttr=function(e,t){return this.filter(function(){return $(this).attr(e)===t})},p.Util={humanFileSize:function(e,t){var n=["B","KB","MB","GB","TB"],i=e>0?Math.floor(Math.log(e)/Math.log(1024)):0,a=n[i=Math.min(n.length-1,i)],o=(e/Math.pow(1024,i)).toFixed(1);return!0===t&&0===i?"0.0"!==o?"< 1 KB":"0 KB":(o=i<2?parseFloat(o).toFixed(0):".0"===o.substr(o.length-2,2)?o.substr(0,o.length-2):parseFloat(o).toLocaleString(p.getCanonicalLocale()))+" "+a},computerFileSize:function(e){if("string"!=typeof e)return null;var t=e.toLowerCase().trim(),n=null,i=t.match(/^[\s+]?([0-9]*)(\.([0-9]+))?( +)?([kmgtp]?b?)$/i);return null===i?null:(n=parseFloat(t),isFinite(n)?(i[5]&&(n*={b:1,k:1024,kb:1024,mb:1048576,m:1048576,gb:1073741824,g:1073741824,tb:1099511627776,t:1099511627776,pb:0x4000000000000,p:0x4000000000000}[i[5]]),n=Math.round(n)):null)},formatDate:function(e,t){return t=t||"LLL",moment(e).format(t)},relativeModifiedDate:function(e){var n=moment().diff(moment(e));return n>=0&&n<45e3?t("core","seconds ago"):moment(e).fromNow()},isIE:function(){return $("html").hasClass("ie")},getScrollBarWidth:function(){if(this._scrollBarWidth)return this._scrollBarWidth;var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return n===i&&(i=t.clientWidth),document.body.removeChild(t),this._scrollBarWidth=n-i,this._scrollBarWidth},stripTime:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_chunkify:function(e){for(var t,n=[],i=0,a=-1,o=0;i<e.length;){t=e.charAt(i);var s=!o&&"."===t||t>="0"&&t<="9";s!==o&&(n[++a]="",o=s),n[a]+=t,i++}return n},naturalSortCompare:function(e,t){var n,i=p.Util._chunkify(e),a=p.Util._chunkify(t);for(n=0;i[n]&&a[n];n++)if(i[n]!==a[n]){var o=Number(i[n]),s=Number(a[n]);return o==i[n]&&s==a[n]?o-s:i[n].localeCompare(a[n],"en")}return i.length-a.length},waitFor:function(e,t){!function n(){!0!==e()&&setTimeout(n,t)}()},isCookieSetToValue:function(e,t){for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=n[i].split("=");if(a[0].trim()===e&&a[1].trim()===t)return!0}return!1}},p.Util.History={_handlers:[],_pushState:function(e,t,n){var i;if(i="string"==typeof e?e:p.buildQueryString(e),window.history.pushState){if(t=t||location.pathname+"?"+i,navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&parseInt(navigator.userAgent.split("/").pop())<51)for(var a,o=document.querySelectorAll('[fill^="url(#"], [stroke^="url(#"], [filter^="url(#invert"]'),s=0,r=o.length;s<r;s++)(a=o[s]).style.fill=a.style.fill,a.style.stroke=a.style.stroke,a.removeAttribute("filter"),a.setAttribute("filter","url(#invert)");n?window.history.replaceState(e,"",t):window.history.pushState(e,"",t)}else window.location.hash="?"+i,this._cancelPop=!0},pushState:function(e,t){return this._pushState(e,t,!1)},replaceState:function(e,t){return this._pushState(e,t,!0)},addOnPopStateHandler:function(e){this._handlers.push(e)},_parseHashQuery:function(){var e=window.location.hash,t=e.indexOf("?");return t>=0?e.substr(t+1):e.length?e.substr(1):""},_decodeQuery:function(e){return e.replace(/\+/g," ")},parseUrlQuery:function(){var e,t=this._parseHashQuery();return t&&(e=p.parseQueryString(this._decodeQuery(t))),(e=_.extend(e||{},p.parseQueryString(this._decodeQuery(location.search))))||{}},_onPopState:function(e){var t;if(this._cancelPop)this._cancelPop=!1;else if(this._handlers.length){t=e&&e.state,_.isString(t)?t=p.parseQueryString(t):t||(t=this.parseUrlQuery()||{});for(var n=0;n<this._handlers.length;n++)this._handlers[n](t)}}},window.history.pushState?window.onpopstate=_.bind(p.Util.History._onPopState,p.Util.History):$(window).on("hashchange",_.bind(p.Util.History._onPopState,p.Util.History)),p.get=function(e){for(var t=e.split("."),n=t.pop(),i=window,a=0;a<t.length;a++)if(!(i=i[t[a]]))return!1;return i[n]},p.set=function(e,t){for(var n=e.split("."),i=n.pop(),a=window,o=0;o<n.length;o++)a[n[o]]||(a[n[o]]={}),a=a[n[o]];a[i]=t},function(){if("-ms-user-select"in document.documentElement.style&&navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(e)}}(),window.OCA={},jQuery.fn.selectRange=function(e,t){return this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(e,t);else if(this.createTextRange){var n=this.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}})},jQuery.fn.exists=function(){return this.length>0},jQuery.fn.tipsy=function(e){if(console.warn("Deprecation warning: tipsy is deprecated. Use tooltip instead."),"object"===a(e)&&null!==e){var t={placement:"bottom",delay:{show:0,hide:0},trigger:"hover",html:!1,container:"body"};if(e.gravity)switch(e.gravity){case"n":case"nw":case"ne":t.placement="bottom";break;case"s":case"sw":case"se":t.placement="top";break;case"w":t.placement="right";break;case"e":t.placement="left"}e.trigger&&(t.trigger=e.trigger),e.delayIn&&(t.delay.show=e.delayIn),e.delayOut&&(t.delay.hide=e.delayOut),e.html&&(t.html=!0),e.fallback&&(t.title=e.fallback),jQuery.fn.tooltip.call(this,"destroy"),jQuery.fn.tooltip.call(this,t)}else this.tooltip(e),jQuery.fn.tooltip.call(this,e);return this}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}OC.L10N={_bundles:{},_pluralFunctions:{},load:function(e,t){if(this._bundles[e]||"en"===OC.getLocale()){var n=$.Deferred(),i=n.promise();return i.then(t),n.resolve(),i}var a=this,o=OC.filePath(e,"l10n",OC.getLocale()+".json");return $.get(o).then(function(t){t.translations&&a.register(e,t.translations,t.pluralForm)}).then(t)},register:function(e,t,n){_.isUndefined(this._bundles[e])?(this._bundles[e]=t||{},this._pluralFunctions[e]=this._getPlural):_.extend(this._bundles[e],t)},translate:function(e,t,i,a,o){var s=o||{};_.defaults(s,{escape:!0});var r=t,c=(this._bundles[e]||{})[t];return void 0!==c&&(r=c),"object"===n(i)||void 0!==a?DOMPurify.sanitize(function(e,t,n){return e.replace(/%n/g,n).replace(/{([^{}]*)}/g,function(e,n){var i=t[n];return"string"==typeof i||"number"==typeof i?s.escape?DOMPurify.sanitize(escapeHTML(i)):DOMPurify.sanitize(i):DOMPurify.sanitize(e)})}(r,i,a)):DOMPurify.sanitize(r)},translatePlural:function(e,t,n,i,a,o){var s="_"+t+"_::_"+n+"_",r=(this._bundles[e]||{})[s];if(void 0!==r){var c=r;if($.isArray(c)){var l=this._pluralFunctions[e](i);return this.translate(e,c[l],a,i,o)}}return 1===i?this.translate(e,t,a,i,o):this.translate(e,n,a,i,o)},_getPlural:function(e){var t=OC.getLocale();if("pt_BR"===t&&(t="xbr"),void 0===t)return 1==e?0:1;switch(t.length>3&&(t=t.substring(0,t.lastIndexOf("_"))),t){case"az":case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"oc":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1==e?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"hy":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0==e||1==e?0:1;case"be":case"bs":case"hr":case"ru":case"sh":case"sr":case"uk":return 1==e%10&&11!=e%100?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1==e?0:e>=2&&e<=4?1:2;case"ga":return 1==e?0:2==e?1:2;case"lt":return 1==e%10&&11!=e%100?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":return 1==e%100?0:2==e%100?1:3==e%100||4==e%100?2:3;case"mk":return 1==e%10?0:1;case"mt":return 1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":return 0==e?0:1==e%10&&11!=e%100?1:2;case"pl":return 1==e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":return 1==e?0:2==e?1:8==e||11==e?2:3;case"ro":return 1==e?0:0==e||e%100>0&&e%100<20?1:2;case"ar":return 0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11&&e%100<=99?4:5;default:return 0}}},window.t=_.bind(OC.L10N.translate,OC.L10N),window.n=_.bind(OC.L10N.translatePlural,OC.L10N),Handlebars.registerHelper("t",function(e,t){return OC.L10N.translate(e,t)})},function(e,t){var n,i;n=jQuery,i={init:function(e,t,i){this.vars=e,this.options=n.extend({},this.options,t),this.elem=i;if("function"==typeof this.options.escapeFunction)for(var a=Object.keys(this.vars),o=0;o<a.length;o++)"string"==typeof this.vars[a[o]]&&(this.vars[a[o]]=this.options.escapeFunction(this.vars[a[o]]));var s=this._build(this.vars);return n(s)},_build:function(e){var t="text/template"===this.elem.attr("type")?this.elem.html():this.elem.get(0).outerHTML;try{return t.replace(/{([^{}]*)}/g,function(t,n){var i=e[n];return"string"==typeof i||"number"==typeof i?i:t})}catch(e){console.error(e,"data:",t)}},options:{escapeFunction:escapeHTML}},n.fn.octemplate=function(e,t){if(e=e||{},this.length)return Object.create(i).init(e,t,this)}},function(e,t){OC.EventSource=function(e,t){var n,i,a="";if(this.typelessListeners=[],this.closed=!1,this.listeners={},t)for(n in t)a+=n+"="+encodeURIComponent(t[n])+"&";if(a+="requesttoken="+encodeURIComponent(oc_requesttoken),this.useFallBack||"undefined"==typeof EventSource){var o="oc_eventsource_iframe_"+OC.EventSource.iframeCount;OC.EventSource.fallBackSources[OC.EventSource.iframeCount]=this,this.iframe=$("<iframe/>"),this.iframe.attr("id",o),this.iframe.hide(),i="&",-1===e.indexOf("?")&&(i="?"),this.iframe.attr("src",e+i+"fallback=true&fallback_id="+OC.EventSource.iframeCount+"&"+a),$("body").append(this.iframe),this.useFallBack=!0,OC.EventSource.iframeCount++}else i="&",-1===e.indexOf("?")&&(i="?"),this.source=new EventSource(e+i+a),this.source.onmessage=function(e){for(var t=0;t<this.typelessListeners.length;t++)this.typelessListeners[t](JSON.parse(e.data))}.bind(this);this.listen("__internal__",function(e){"close"===e&&this.close()}.bind(this))},OC.EventSource.fallBackSources=[],OC.EventSource.iframeCount=0,OC.EventSource.fallBackCallBack=function(e,t,n){OC.EventSource.fallBackSources[e].fallBackCallBack(t,n)},OC.EventSource.prototype={typelessListeners:[],iframe:null,listeners:{},useFallBack:!1,fallBackCallBack:function(e,t){var n;if(!this.closed)if(e){if(void 0!==this.listeners.done)for(n=0;n<this.listeners[e].length;n++)this.listeners[e][n](t)}else for(n=0;n<this.typelessListeners.length;n++)this.typelessListeners[n](t)},lastLength:0,listen:function(e,t){t&&t.call&&(e?this.useFallBack?(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)):this.source.addEventListener(e,function(e){void 0!==e.data?t(JSON.parse(e.data)):t("")},!1):this.typelessListeners.push(t))},close:function(){this.closed=!0,void 0!==this.source&&this.source.close()}}},function(e,t){
/**
 * @copyright Copyright (c) 2016 Joas Schilling <coding@schilljs.com>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
OCP.AppConfig={_call:function(e,t,n){"post"!==e&&"delete"!==e||!OC.PasswordConfirmation.requiresPasswordConfirmation()?(n=n||{},$.ajax({type:e.toUpperCase(),url:OC.linkToOCS("apps/provisioning_api/api/v1",2)+"config/apps"+t,data:n.data||{},success:n.success,error:n.error})):OC.PasswordConfirmation.requirePasswordConfirmation(_.bind(this._call,this,e,t,n))},getApps:function(e){this._call("get","",e)},getKeys:function(e,t){this._call("get","/"+e,t)},getValue:function(e,t,n,i){(i=i||{}).data={defaultValue:n},this._call("get","/"+e+"/"+t,i)},setValue:function(e,t,n,i){(i=i||{}).data={value:n},this._call("post","/"+e+"/"+t,i)},deleteKey:function(e,t,n){this._call("delete","/"+e+"/"+t,n)}}},function(e,t){!function(e){"use strict";e.Comments={urlRegex:/(\s|^)(https?:\/\/)?((?:[-A-Z0-9+_]+\.)+[-A-Z]+(?:\/[-A-Z0-9+&@#%?=~_|!:,.;()]*)*)(\s|$)/gi,plainToRich:function(e){return e=this.formatLinksRich(e)},richToPlain:function(e){return e=this.formatLinksPlain(e)},formatLinksRich:function(e){return e.replace(this.urlRegex,function(e,t,n,i,a){var o=i;return n?"http://"===n&&(o=n+i):n="https://",t+'<a class="external" target="_blank" rel="noopener noreferrer" href="'+n+i+'">'+o+"</a>"+a})},formatLinksPlain:function(e){var t=$("<div></div>").html(e);return t.find("a").each(function(){var e=$(this);e.html(e.attr("href"))}),t.html()}}}(OCP)},function(e,n){!function(e){"use strict";e.WhatsNew={query:function(t){var n=(t=t||{}).dismiss||{};$.ajax({type:"GET",url:t.url||OC.linkToOCS("core",2)+"whatsnew?format=json",success:t.success||function(t,i,a){e.WhatsNew._onQuerySuccess(t,i,a,n)},error:t.error||this._onQueryError})},dismiss:function(e,t){t=t||{},$.ajax({type:"POST",url:t.url||OC.linkToOCS("core",2)+"whatsnew",data:{version:encodeURIComponent(e)},success:t.success||this._onDismissSuccess,error:t.error||this._onDismissError}),$(".whatsNewPopover").remove()},_onQuerySuccess:function(n,i,a,o){if(console.debug("querying Whats New data was successful: "+i),console.debug(n),200===a.status){var s,r,c,l,d=document.createElement("div");d.classList.add("popovermenu","open","whatsNewPopover","menu-left");var u=document.createElement("ul");for(var p in s=document.createElement("li"),(r=document.createElement("span")).className="menuitem",(c=document.createElement("span")).innerText=t("core","New in")+" "+n.ocs.data.product,c.className="caption",r.appendChild(c),(l=document.createElement("span")).className="icon-close",l.onclick=function(){e.WhatsNew.dismiss(n.ocs.data.version,o)},r.appendChild(l),s.appendChild(r),u.appendChild(s),n.ocs.data.whatsNew.regular){var f=n.ocs.data.whatsNew.regular[p];s=document.createElement("li"),(r=document.createElement("span")).className="menuitem",(l=document.createElement("span")).className="icon-checkmark",r.appendChild(l),(c=document.createElement("p")).innerHTML=_.escape(f),r.appendChild(c),s.appendChild(r),u.appendChild(s)}_.isUndefined(n.ocs.data.changelogURL)||(s=document.createElement("li"),(r=document.createElement("a")).href=n.ocs.data.changelogURL,r.rel="noreferrer noopener",r.target="_blank",(l=document.createElement("span")).className="icon-link",r.appendChild(l),(c=document.createElement("span")).innerText=t("core","View changelog"),r.appendChild(c),s.appendChild(r),u.appendChild(s)),d.appendChild(u),document.body.appendChild(d)}},_onQueryError:function(e,t,n){console.debug("querying Whats New Data resulted in an error: "+t+n),console.debug(e)},_onDismissSuccess:function(e){},_onDismissError:function(e){console.debug("dismissing Whats New data resulted in an error: "+e)}}}(OCP)},function(e,t){
/**
 * @copyright Copyright (c) 2016 Joas Schilling <coding@schilljs.com>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
OC.AppConfig={getValue:function(e,t,n,i){OCP.AppConfig.getValue(e,t,n,{success:i})},setValue:function(e,t,n){OCP.AppConfig.setValue(e,t,n)},getApps:function(e){OCP.AppConfig.getApps({success:e})},getKeys:function(e,t){OCP.AppConfig.getKeys(e,{success:t})},deleteKey:function(e,t){OCP.AppConfig.deleteKey(e,t)}}},function(e,t){$(document).on("ajaxSend",function(e,t,n){!1===n.crossDomain&&(t.setRequestHeader("requesttoken",oc_requesttoken),t.setRequestHeader("OCS-APIREQUEST","true"))})},function(e,t){!function(e,t,n){"use strict";var i=!1;n.Apps={enableDynamicSlideToggle:function(){i=!0}},n.Apps.showAppSidebar=function(e){(e||t("#app-sidebar")).removeClass("disappear").show("slide",{direction:"right"},300),t("#app-content").trigger(new t.Event("appresized"))},n.Apps.hideAppSidebar=function(e){var n=e||t("#app-sidebar");n.hide("slide",{direction:"right"},300,function(){n.addClass("disappear")}),t("#app-content").trigger(new t.Event("appresized"))};t(e).ready(function(){var n;0===(n=t("[data-apps-slide-toggle]")).length&&t("#app-navigation").addClass("without-app-settings"),t(e).click(function(e){i&&(n=t("[data-apps-slide-toggle]")),n.each(function(n,i){var a=t(i).data("apps-slide-toggle"),o=t(a);function s(){o.slideUp(4*OC.menuSpeed,function(){o.trigger(new t.Event("hide"))}),o.removeClass("opened"),t(i).removeClass("opened")}if(!o.is(":animated"))if(t(i).is(t(e.target).closest("[data-apps-slide-toggle]")))o.is(":visible")?s():function(){o.slideDown(4*OC.menuSpeed,function(){o.trigger(new t.Event("show"))}),o.addClass("opened"),t(i).addClass("opened");var e=t(a+" [autofocus]");1===e.length&&e.focus()}();else{var r=t(e.target).closest(a);o.is(":visible")&&r[0]!==o[0]&&s()}})})})}(document,jQuery,OC)},function(e,t){
/**
 * @author Roeland Jago Douma <roeland@famdouma.nl>
 *
 * @copyright Copyright (c) 2015, ownCloud, Inc.
 * @license AGPL-3.0
 *
 * This code is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License, version 3,
 * as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License, version 3,
 * along with this program.  If not, see <http://www.gnu.org/licenses/>
 *
 */
OC.MimeType={_mimeTypeIcons:{},_getFile:function(e,t){var n=e.replace(new RegExp("/","g"),"-");return"dir"===e&&-1!==$.inArray("folder",t)?"folder":"dir-encrypted"===e&&-1!==$.inArray("folder-encrypted",t)?"folder-encrypted":"dir-shared"===e&&-1!==$.inArray("folder-shared",t)?"folder-shared":"dir-public"===e&&-1!==$.inArray("folder-public",t)?"folder-public":"dir-external"===e&&-1!==$.inArray("folder-external",t)?"folder-external":-1!==$.inArray(n,t)?n:-1!==$.inArray(n.split("-")[0],t)?n.split("-")[0]:-1!==$.inArray("file",t)?"file":null},getIconUrl:function(e){if(!_.isUndefined(e)){for(;e in OC.MimeTypeList.aliases;)e=OC.MimeTypeList.aliases[e];if(e in OC.MimeType._mimeTypeIcons)return OC.MimeType._mimeTypeIcons[e];var t=null,n="";if(""!==OC.theme.folder&&$.isArray(OC.MimeTypeList.themes[OC.theme.folder])){n=OC.getRootPath()+"/themes/"+OC.theme.folder+"/core/img/filetypes/";var i=OC.MimeType._getFile(e,OC.MimeTypeList.themes[OC.theme.folder]);null!==i&&(t=!0,n+=i)}return OCA.Theming&&null===t&&(n=OC.generateUrl("/apps/theming/img/core/filetypes/"),n+=OC.MimeType._getFile(e,OC.MimeTypeList.files),t=!0),null===t&&(n=OC.getRootPath()+"/core/img/filetypes/",n+=OC.MimeType._getFile(e,OC.MimeTypeList.files)),n+=".svg",OCA.Theming&&(n+="?v="+OCA.Theming.cacheBuster),OC.MimeType._mimeTypeIcons[e]=n,n}}}},function(e,t){OC.MimeTypeList={aliases:{"application/coreldraw":"image","application/epub+zip":"text","application/font-sfnt":"image","application/font-woff":"image","application/gpx+xml":"location","application/illustrator":"image","application/javascript":"text/code","application/json":"text/code","application/msaccess":"file","application/msexcel":"x-office/spreadsheet","application/msonenote":"x-office/document","application/mspowerpoint":"x-office/presentation","application/msword":"x-office/document","application/octet-stream":"file","application/postscript":"image","application/rss+xml":"application/xml","application/vnd.android.package-archive":"package/x-generic","application/vnd.lotus-wordpro":"x-office/document","application/vnd.garmin.tcx+xml":"location","application/vnd.google-earth.kml+xml":"location","application/vnd.google-earth.kmz":"location","application/vnd.ms-excel":"x-office/spreadsheet","application/vnd.ms-excel.addin.macroEnabled.12":"x-office/spreadsheet","application/vnd.ms-excel.sheet.binary.macroEnabled.12":"x-office/spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"x-office/spreadsheet","application/vnd.ms-excel.template.macroEnabled.12":"x-office/spreadsheet","application/vnd.ms-fontobject":"image","application/vnd.ms-powerpoint":"x-office/presentation","application/vnd.ms-powerpoint.addin.macroEnabled.12":"x-office/presentation","application/vnd.ms-powerpoint.presentation.macroEnabled.12":"x-office/presentation","application/vnd.ms-powerpoint.slideshow.macroEnabled.12":"x-office/presentation","application/vnd.ms-powerpoint.template.macroEnabled.12":"x-office/presentation","application/vnd.ms-visio.drawing.macroEnabled.12":"application/vnd.visio","application/vnd.ms-visio.drawing":"application/vnd.visio","application/vnd.ms-visio.stencil.macroEnabled.12":"application/vnd.visio","application/vnd.ms-visio.stencil":"application/vnd.visio","application/vnd.ms-visio.template.macroEnabled.12":"application/vnd.visio","application/vnd.ms-visio.template":"application/vnd.visio","application/vnd.ms-word.document.macroEnabled.12":"x-office/document","application/vnd.ms-word.template.macroEnabled.12":"x-office/document","application/vnd.oasis.opendocument.presentation":"x-office/presentation","application/vnd.oasis.opendocument.presentation-template":"x-office/presentation","application/vnd.oasis.opendocument.spreadsheet":"x-office/spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template":"x-office/spreadsheet","application/vnd.oasis.opendocument.text":"x-office/document","application/vnd.oasis.opendocument.text-master":"x-office/document","application/vnd.oasis.opendocument.text-template":"x-office/document","application/vnd.oasis.opendocument.text-web":"x-office/document","application/vnd.openxmlformats-officedocument.presentationml.presentation":"x-office/presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"x-office/presentation","application/vnd.openxmlformats-officedocument.presentationml.template":"x-office/presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"x-office/spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"x-office/spreadsheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"x-office/document","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"x-office/document","application/vnd.visio":"x-office/document","application/vnd.wordperfect":"x-office/document","application/x-7z-compressed":"package/x-generic","application/x-bzip2":"package/x-generic","application/x-cbr":"text","application/x-compressed":"package/x-generic","application/x-dcraw":"image","application/x-deb":"package/x-generic","application/x-fictionbook+xml":"text","application/x-font":"image","application/x-gimp":"image","application/x-gzip":"package/x-generic","application/x-iwork-keynote-sffkey":"x-office/presentation","application/x-iwork-numbers-sffnumbers":"x-office/spreadsheet","application/x-iwork-pages-sffpages":"x-office/document","application/x-mobipocket-ebook":"text","application/x-perl":"text/code","application/x-photoshop":"image","application/x-php":"text/code","application/x-rar-compressed":"package/x-generic","application/x-tar":"package/x-generic","application/x-tex":"text","application/xml":"text/html","application/yaml":"text/code","application/zip":"package/x-generic",database:"file","httpd/unix-directory":"dir","text/css":"text/code","text/csv":"x-office/spreadsheet","text/html":"text/code","text/x-c":"text/code","text/x-c++src":"text/code","text/x-h":"text/code","text/x-java-source":"text/code","text/x-ldif":"text/code","text/x-python":"text/code","text/x-shellscript":"text/code",web:"text/code","application/internet-shortcut":"link"},files:["application","application-pdf","audio","file","folder","folder-drag-accept","folder-encrypted","folder-external","folder-public","folder-shared","folder-starred","image","link","location","package-x-generic","text","text-calendar","text-code","text-vcard","video","x-office-document","x-office-presentation","x-office-spreadsheet"],themes:[]}},function(e,t){_.isUndefined(Backbone)||(OC.Backbone=Backbone.noConflict())},function(e,t){!function(e){var t=e.class.multi.prototype.findHighlightableChoices;e.class.multi.prototype.findHighlightableChoices=function(){return this.opts.toggleSelect?this.results.find(".select2-result-selectable:not(.select2-disabled)"):t.apply(this,arguments)};var n=e.class.multi.prototype.triggerSelect;e.class.multi.prototype.triggerSelect=function(e){if(this.opts.toggleSelect&&-1!==this.val().indexOf(this.id(e))){var t=this,i=this.id(e),a=this.container.find(".select2-search-choice").filter(function(){return t.id($(this).data("select2-data"))===i});return this.unselect(a)&&(this.results.find(".select2-result.select2-selected").each(function(){var e=$(this);t.id(e.data("select2-data"))===i&&e.removeClass("select2-selected")}),this.clearSearch()),!1}return n.apply(this,arguments)}}(Select2)},function(e,t){var n;n=jQuery,String.prototype.toRgb=function(){var e=this.toLowerCase();function t(e,t,n){this.r=e,this.g=t,this.b=n}function n(e,n,i){var a=new Array;a.push(n);for(var o=function(e,t){var n=new Array(3);return n[0]=(t[1].r-t[0].r)/e,n[1]=(t[1].g-t[0].g)/e,n[2]=(t[1].b-t[0].b)/e,n}(e,[n,i]),s=1;s<e;s++){var r=parseInt(n.r+o[0]*s),c=parseInt(n.g+o[1]*s),l=parseInt(n.b+o[2]*s);a.push(new t(r,c,l))}return a}null===e.match(/^([0-9a-f]{4}-?){8}$/)&&(e=md5(e)),e=e.replace(/[^0-9a-f]/g,"");var i=new t(182,70,157),a=new t(221,203,85),o=new t(0,130,201),s=n(6,i,a),r=n(6,a,o),c=n(6,o,i);return s.concat(r).concat(c)[function(e,t){for(var n=0,i=Array(),a=0;a<e.length;a++)i.push(parseInt(e.charAt(a),16)%16);for(var o in i)n+=i[o];return parseInt(parseInt(n)%t)}(e,18)]},n.fn.imageplaceholder=function(e,t,n){t=t||e;var i=e.toRgb();this.css("background-color","rgb("+i.r+", "+i.g+", "+i.b+")");var a=this.height()||n||32;this.height(a),this.width(a),this.css("color","#fff"),this.css("font-weight","normal"),this.css("text-align","center"),this.css("line-height",a+"px"),this.css("font-size",.55*a+"px"),null!==e&&e.length&&this.html(t[0].toUpperCase())},n.fn.clearimageplaceholder=function(){this.css("background-color",""),this.css("color",""),this.css("font-weight",""),this.css("text-align",""),this.css("line-height",""),this.css("font-size",""),this.html(""),this.removeClass("icon-loading"),this.removeClass("icon-loading-small")}},function(e,t){jQuery.fn.avatar=function(e,t,n,i,a,o){var s=function(e){e.imageplaceholder("?"),e.css("background-color","#b9b9b9")};if(void 0!==e&&(e=String(e)),void 0!==o&&(o=String(o)),void 0===t&&(t=this.height()>0?this.height():this.data("size")>0?this.data("size"):64),this.height(t),this.width(t),void 0===e){if(void 0===this.data("user"))return void s(this);e=this.data("user")}e=String(e).replace(/\//g,"");var r,c=this;r=e===OC.getCurrentUser().uid?OC.generateUrl("/avatar/{user}/{size}?v={version}",{user:e,size:Math.ceil(t*window.devicePixelRatio),version:oc_userconfig.avatar.version}):OC.generateUrl("/avatar/{user}/{size}",{user:e,size:Math.ceil(t*window.devicePixelRatio)});var l=new Image;l.onload=function(){c.clearimageplaceholder(),c.append(l),"function"==typeof a&&a()},l.onerror=function(){c.clearimageplaceholder(),void 0!==o?c.imageplaceholder(e,o):s(c),"function"==typeof a&&a()},t<32?c.addClass("icon-loading-small"):c.addClass("icon-loading"),l.width=t,l.height=t,l.src=r,l.alt=""}},function(e,n){var i;(i=jQuery).fn.contactsMenu=function(e,n,a){if(-1!==[0,4,6].indexOf(n)){var o=this;a.append('<div class="menu popovermenu menu-left hidden contactsmenu-popover">    <ul>        <li>            <a>                <span class="icon-loading-small"></span>            </a>        </li>    </ul></div>');var s=a.find("div.contactsmenu-popover");o.click(function(){if(!s.hasClass("hidden"))return s.addClass("hidden"),void s.hide();s.removeClass("hidden"),s.show(),s.hasClass("loaded")||(s.addClass("loaded"),i.ajax(OC.generateUrl("/contactsmenu/findOne"),{method:"POST",data:{shareType:n,shareWith:e}}).then(function(e){var n;s.find("ul").find("li").addClass("hidden"),(n=e.topAction?[e.topAction].concat(e.actions):[{hyperlink:"#",title:t("core","No action available")}]).forEach(function(e){var t=OC.ContactsMenu.Templates.jquery_entry;s.find("ul").append(t(e))}),n.length},function(e){var n;s.find("ul").find("li").addClass("hidden"),n=404===e.status?t("core","No action available"):t("core","Error fetching contact actions");var i=OC.ContactsMenu.Templates.jquery_entry;s.find("ul").append(i({hyperlink:"#",title:n}))}))}),i(document).click(function(e){var t=s.has(e.target).length>0,n=o.has(e.target).length>0;o.each(function(){i(this).is(e.target)&&(n=!0)}),t||n||(s.addClass("hidden"),s.hide())})}}}]);
//# sourceMappingURL=template_prepend.js.map