{"version":3,"file":"settings-users-8351.js?v=51c94e3808e3515fd93e","mappings":"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","sources":["webpack:///nextcloud/apps\\settings\\src\\components\\UserList\\UserRow.vue?vue&type=style&index=0&id=dd76953c&prod&scoped=true&lang=scss&","webpack:///nextcloud/apps\\settings\\src\\components\\UserList\\UserRowSimple.vue?vue&type=style&index=0&id=2810f486&prod&lang=scss&","webpack:///nextcloud/apps\\settings\\src\\views\\Users.vue?vue&type=style&index=0&id=7004587b&prod&lang=scss&scoped=true&","webpack:///nextcloud/apps\\settings\\src\\components\\UserList.vue?vue&type=style&index=0&id=09961579&prod&scoped=true&lang=css&","webpack://nextcloud/./apps/settings/src/views/Users.vue?962b","webpack:///nextcloud/apps\\settings\\src\\components\\GroupListItem.vue","webpack:///nextcloud/apps\\settings\\src\\components\\GroupListItem.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/settings/src/components/GroupListItem.vue?7b19","webpack://nextcloud/./apps/settings/src/components/GroupListItem.vue?9f48","webpack:///nextcloud/apps\\settings\\src\\mixins\\UserRowMixin.js","webpack:///nextcloud/apps\\settings\\src\\components\\UserList\\UserRowSimple.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps\\settings\\src\\components\\UserList\\UserRowSimple.vue","webpack://nextcloud/./apps/settings/src/components/UserList/UserRowSimple.vue?0bba","webpack://nextcloud/./apps/settings/src/components/UserList/UserRowSimple.vue?6d7a","webpack://nextcloud/./apps/settings/src/components/UserList/UserRowSimple.vue?1bee","webpack:///nextcloud/apps\\settings\\src\\components\\UserList\\UserRow.vue","webpack:///nextcloud/apps\\settings\\src\\components\\UserList\\UserRow.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/settings/src/components/UserList/UserRow.vue?4263","webpack://nextcloud/./apps/settings/src/components/UserList/UserRow.vue?81d2","webpack://nextcloud/./apps/settings/src/components/UserList/UserRow.vue?829f","webpack:///nextcloud/apps\\settings\\src\\components\\UserList.vue","webpack:///nextcloud/apps\\settings\\src\\components\\UserList.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/settings/src/components/UserList.vue?3de2","webpack://nextcloud/./apps/settings/src/components/UserList.vue?02a4","webpack://nextcloud/./apps/settings/src/components/UserList.vue?c96e","webpack:///nextcloud/apps\\settings\\src\\views\\Users.vue","webpack:///nextcloud/apps\\settings\\src\\views\\Users.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/settings/src/views/Users.vue?b4ec","webpack://nextcloud/./apps/settings/src/views/Users.vue?cf86"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".row--menu-opened[data-v-dd76953c]{z-index:1 !important}.row[data-v-dd76953c] .multiselect__single{z-index:auto !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/settings/src/components/UserList/UserRow.vue\"],\"names\":[],\"mappings\":\"AAEA,mCACC,oBAAA,CAED,2CACC,uBAAA\",\"sourcesContent\":[\"\\n// Force menu to be above other rows\\n.row--menu-opened {\\n\\tz-index: 1 !important;\\n}\\n.row::v-deep .multiselect__single {\\n\\tz-index: auto !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cellText{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.icon-more{background-color:var(--color-main-background);border:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/settings/src/components/UserList/UserRowSimple.vue\"],\"names\":[],\"mappings\":\"AACC,UACC,eAAA,CACA,sBAAA,CACA,kBAAA,CAED,WACC,6CAAA,CACA,QAAA\",\"sourcesContent\":[\"\\n\\t.cellText {\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n}\\n\\t.icon-more {\\n\\t\\tbackground-color: var(--color-main-background);\\n\\t\\tborder: 0;\\n\\t}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".app-navigation__list #addgroup[data-v-7004587b] .app-navigation-entry__utils{display:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/settings/src/views/Users.vue\"],\"names\":[],\"mappings\":\"AAEA,8EACC,YAAA\",\"sourcesContent\":[\"\\r\\n// force hiding the editing action for the add group entry\\r\\n.app-navigation__list #addgroup::v-deep .app-navigation-entry__utils {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.modal-wrapper[data-v-09961579] {\\n\\tmargin: 2vh 0;\\n\\talign-items: flex-start;\\n}\\n.modal__content[data-v-09961579] {\\n\\tdisplay: flex;\\n\\tpadding: 20px;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n\\ttext-align: center;\\n}\\n.modal__item[data-v-09961579] {\\n\\tmargin-bottom: 16px;\\n\\twidth: 100%;\\n}\\n.modal__item[data-v-09961579]:not(:focus):not(:active) {\\n\\tborder-color: var(--color-border-dark);\\n}\\n.modal__item[data-v-09961579] .multiselect {\\n\\twidth: 100%;\\n}\\n.user-actions[data-v-09961579] {\\n\\tmargin-top: 20px;\\n}\\n.modal__content[data-v-09961579] .multiselect__single {\\n\\ttext-align: left;\\n\\tbox-sizing: border-box;\\n}\\n.modal__content[data-v-09961579] .multiselect__content-wrapper {\\n\\tbox-sizing: border-box;\\n}\\n.row[data-v-09961579] .multiselect__single {\\n\\tz-index: auto !important;\\n}\\n\\n/* fake input for groups validation */\\ninput#newgroups[data-v-09961579] {\\n\\tposition: absolute;\\n\\topacity: 0;\\n\\t/* The \\\"hidden\\\" input is behind the Multiselect, so in general it does\\n\\t * not receives clicks. However, with Firefox, after the validation\\n\\t * fails, it will receive the first click done on it, so its width needs\\n\\t * to be set to 0 to prevent that (\\\"pointer-events: none\\\" does not\\n\\t * prevent it). */\\n\\twidth: 0;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/settings/src/components/UserList.vue\"],\"names\":[],\"mappings\":\";AAsoBA;CACA,aAAA;CACA,uBAAA;AACA;AACA;CACA,aAAA;CACA,aAAA;CACA,sBAAA;CACA,mBAAA;CACA,kBAAA;AACA;AACA;CACA,mBAAA;CACA,WAAA;AACA;AACA;CACA,sCAAA;AACA;AACA;CACA,WAAA;AACA;AACA;CACA,gBAAA;AACA;AACA;CACA,gBAAA;CACA,sBAAA;AACA;AACA;CACA,sBAAA;AACA;AACA;CACA,wBAAA;AACA;;AAEA,qCAAA;AACA;CACA,kBAAA;CACA,UAAA;CACA;;;;kBAIA;CACA,QAAA;AACA\",\"sourcesContent\":[\"<!--\\r\\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\\r\\n  -\\r\\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\\r\\n  -\\r\\n  - @license GNU AGPL version 3 or any later version\\r\\n  -\\r\\n  - This program is free software: you can redistribute it and/or modify\\r\\n  - it under the terms of the GNU Affero General Public License as\\r\\n  - published by the Free Software Foundation, either version 3 of the\\r\\n  - License, or (at your option) any later version.\\r\\n  -\\r\\n  - This program is distributed in the hope that it will be useful,\\r\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\r\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\r\\n  - GNU Affero General Public License for more details.\\r\\n  -\\r\\n  - You should have received a copy of the GNU Affero General Public License\\r\\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\\r\\n  -\\r\\n  -->\\r\\n\\r\\n<template>\\r\\n\\t<div id=\\\"app-content\\\" class=\\\"user-list-grid\\\" @scroll.passive=\\\"onScroll\\\">\\r\\n\\t\\t<NcModal v-if=\\\"showConfig.showNewUserForm\\\" size=\\\"small\\\" @close=\\\"closeModal\\\">\\r\\n\\t\\t\\t<form id=\\\"new-user\\\"\\r\\n\\t\\t\\t\\t:disabled=\\\"loading.all\\\"\\r\\n\\t\\t\\t\\tclass=\\\"modal__content\\\"\\r\\n\\t\\t\\t\\t@submit.prevent=\\\"createUser\\\">\\r\\n\\t\\t\\t\\t<h2>{{ t('settings','New user') }}</h2>\\r\\n\\t\\t\\t\\t<input id=\\\"newusername\\\"\\r\\n\\t\\t\\t\\t\\tref=\\\"newusername\\\"\\r\\n\\t\\t\\t\\t\\tv-model=\\\"newUser.id\\\"\\r\\n\\t\\t\\t\\t\\t:disabled=\\\"settings.newUserGenerateUserID\\\"\\r\\n\\t\\t\\t\\t\\t:placeholder=\\\"settings.newUserGenerateUserID\\r\\n\\t\\t\\t\\t\\t\\t? t('settings', 'Will be autogenerated')\\r\\n\\t\\t\\t\\t\\t\\t: t('settings', 'Username')\\\"\\r\\n\\t\\t\\t\\t\\tautocapitalize=\\\"none\\\"\\r\\n\\t\\t\\t\\t\\tautocomplete=\\\"off\\\"\\r\\n\\t\\t\\t\\t\\tautocorrect=\\\"off\\\"\\r\\n\\t\\t\\t\\t\\tclass=\\\"modal__item\\\"\\r\\n\\t\\t\\t\\t\\tname=\\\"username\\\"\\r\\n\\t\\t\\t\\t\\tpattern=\\\"[a-zA-Z0-9 _\\\\.@\\\\-']+\\\"\\r\\n\\t\\t\\t\\t\\trequired\\r\\n\\t\\t\\t\\t\\ttype=\\\"text\\\">\\r\\n\\t\\t\\t\\t<input id=\\\"newdisplayname\\\"\\r\\n\\t\\t\\t\\t\\tv-model=\\\"newUser.displayName\\\"\\r\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('settings', 'Display name')\\\"\\r\\n\\t\\t\\t\\t\\tautocapitalize=\\\"none\\\"\\r\\n\\t\\t\\t\\t\\tautocomplete=\\\"off\\\"\\r\\n\\t\\t\\t\\t\\tautocorrect=\\\"off\\\"\\r\\n\\t\\t\\t\\t\\tclass=\\\"modal__item\\\"\\r\\n\\t\\t\\t\\t\\tname=\\\"displayname\\\"\\r\\n\\t\\t\\t\\t\\ttype=\\\"text\\\">\\r\\n\\t\\t\\t\\t<input id=\\\"newuserpassword\\\"\\r\\n\\t\\t\\t\\t\\tref=\\\"newuserpassword\\\"\\r\\n\\t\\t\\t\\t\\tv-model=\\\"newUser.password\\\"\\r\\n\\t\\t\\t\\t\\t:minlength=\\\"minPasswordLength\\\"\\r\\n\\t\\t\\t\\t\\t:maxlength=\\\"469\\\"\\r\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('settings', 'Password')\\\"\\r\\n\\t\\t\\t\\t\\t:required=\\\"newUser.mailAddress===''\\\"\\r\\n\\t\\t\\t\\t\\tautocapitalize=\\\"none\\\"\\r\\n\\t\\t\\t\\t\\tautocomplete=\\\"new-password\\\"\\r\\n\\t\\t\\t\\t\\tautocorrect=\\\"off\\\"\\r\\n\\t\\t\\t\\t\\tclass=\\\"modal__item\\\"\\r\\n\\t\\t\\t\\t\\tname=\\\"password\\\"\\r\\n\\t\\t\\t\\t\\ttype=\\\"password\\\">\\r\\n\\t\\t\\t\\t<input id=\\\"newemail\\\"\\r\\n\\t\\t\\t\\t\\tv-model=\\\"newUser.mailAddress\\\"\\r\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('settings', 'Email')\\\"\\r\\n\\t\\t\\t\\t\\t:required=\\\"newUser.password==='' || settings.newUserRequireEmail\\\"\\r\\n\\t\\t\\t\\t\\tautocapitalize=\\\"none\\\"\\r\\n\\t\\t\\t\\t\\tautocomplete=\\\"off\\\"\\r\\n\\t\\t\\t\\t\\tautocorrect=\\\"off\\\"\\r\\n\\t\\t\\t\\t\\tclass=\\\"modal__item\\\"\\r\\n\\t\\t\\t\\t\\tname=\\\"email\\\"\\r\\n\\t\\t\\t\\t\\ttype=\\\"email\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"groups modal__item\\\">\\r\\n\\t\\t\\t\\t\\t<!-- hidden input trick for vanilla html5 form validation -->\\r\\n\\t\\t\\t\\t\\t<input v-if=\\\"!settings.isAdmin\\\"\\r\\n\\t\\t\\t\\t\\t\\tid=\\\"newgroups\\\"\\r\\n\\t\\t\\t\\t\\t\\t:class=\\\"{'icon-loading-small': loading.groups}\\\"\\r\\n\\t\\t\\t\\t\\t\\t:required=\\\"!settings.isAdmin\\\"\\r\\n\\t\\t\\t\\t\\t\\t:value=\\\"newUser.groups\\\"\\r\\n\\t\\t\\t\\t\\t\\ttabindex=\\\"-1\\\"\\r\\n\\t\\t\\t\\t\\t\\ttype=\\\"text\\\">\\r\\n\\t\\t\\t\\t\\t<NcMultiselect v-model=\\\"newUser.groups\\\"\\r\\n\\t\\t\\t\\t\\t\\t:close-on-select=\\\"false\\\"\\r\\n\\t\\t\\t\\t\\t\\t:disabled=\\\"loading.groups||loading.all\\\"\\r\\n\\t\\t\\t\\t\\t\\t:multiple=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t:options=\\\"canAddGroups\\\"\\r\\n\\t\\t\\t\\t\\t\\t:placeholder=\\\"t('settings', 'Add user to group')\\\"\\r\\n\\t\\t\\t\\t\\t\\t:tag-width=\\\"60\\\"\\r\\n\\t\\t\\t\\t\\t\\t:taggable=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\tclass=\\\"multiselect-vue\\\"\\r\\n\\t\\t\\t\\t\\t\\tlabel=\\\"name\\\"\\r\\n\\t\\t\\t\\t\\t\\ttag-placeholder=\\\"create\\\"\\r\\n\\t\\t\\t\\t\\t\\ttrack-by=\\\"id\\\"\\r\\n\\t\\t\\t\\t\\t\\t@tag=\\\"createGroup\\\">\\r\\n\\t\\t\\t\\t\\t\\t<!-- If user is not admin, he is a subadmin.\\r\\n\\t\\t\\t\\t\\t\\t\\tSubadmins can't create users outside their groups\\r\\n\\t\\t\\t\\t\\t\\t\\tTherefore, empty select is forbidden -->\\r\\n\\t\\t\\t\\t\\t\\t<span slot=\\\"noResult\\\">{{ t('settings', 'No results') }}</span>\\r\\n\\t\\t\\t\\t\\t</NcMultiselect>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div v-if=\\\"subAdminsGroups.length>0 && settings.isAdmin\\\"\\r\\n\\t\\t\\t\\t\\tclass=\\\"subadmins modal__item\\\">\\r\\n\\t\\t\\t\\t\\t<NcMultiselect v-model=\\\"newUser.subAdminsGroups\\\"\\r\\n\\t\\t\\t\\t\\t\\t:close-on-select=\\\"false\\\"\\r\\n\\t\\t\\t\\t\\t\\t:multiple=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t:options=\\\"subAdminsGroups\\\"\\r\\n\\t\\t\\t\\t\\t\\t:placeholder=\\\"t('settings', 'Set user as admin for')\\\"\\r\\n\\t\\t\\t\\t\\t\\t:tag-width=\\\"60\\\"\\r\\n\\t\\t\\t\\t\\t\\tclass=\\\"multiselect-vue\\\"\\r\\n\\t\\t\\t\\t\\t\\tlabel=\\\"name\\\"\\r\\n\\t\\t\\t\\t\\t\\ttrack-by=\\\"id\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span slot=\\\"noResult\\\">{{ t('settings', 'No results') }}</span>\\r\\n\\t\\t\\t\\t\\t</NcMultiselect>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"quota modal__item\\\">\\r\\n\\t\\t\\t\\t\\t<NcMultiselect v-model=\\\"newUser.quota\\\"\\r\\n\\t\\t\\t\\t\\t\\t:allow-empty=\\\"false\\\"\\r\\n\\t\\t\\t\\t\\t\\t:options=\\\"quotaOptions\\\"\\r\\n\\t\\t\\t\\t\\t\\t:placeholder=\\\"t('settings', 'Select user quota')\\\"\\r\\n\\t\\t\\t\\t\\t\\t:taggable=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\tclass=\\\"multiselect-vue\\\"\\r\\n\\t\\t\\t\\t\\t\\tlabel=\\\"label\\\"\\r\\n\\t\\t\\t\\t\\t\\ttrack-by=\\\"id\\\"\\r\\n\\t\\t\\t\\t\\t\\t@tag=\\\"validateQuota\\\" />\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div v-if=\\\"showConfig.showLanguages\\\" class=\\\"languages modal__item\\\">\\r\\n\\t\\t\\t\\t\\t<NcMultiselect v-model=\\\"newUser.language\\\"\\r\\n\\t\\t\\t\\t\\t\\t:allow-empty=\\\"false\\\"\\r\\n\\t\\t\\t\\t\\t\\t:options=\\\"languages\\\"\\r\\n\\t\\t\\t\\t\\t\\t:placeholder=\\\"t('settings', 'Default language')\\\"\\r\\n\\t\\t\\t\\t\\t\\tclass=\\\"multiselect-vue\\\"\\r\\n\\t\\t\\t\\t\\t\\tgroup-label=\\\"label\\\"\\r\\n\\t\\t\\t\\t\\t\\tgroup-values=\\\"languages\\\"\\r\\n\\t\\t\\t\\t\\t\\tlabel=\\\"name\\\"\\r\\n\\t\\t\\t\\t\\t\\ttrack-by=\\\"code\\\" />\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div v-if=\\\"showConfig.showStoragePath\\\" class=\\\"storageLocation\\\" />\\r\\n\\t\\t\\t\\t<div v-if=\\\"showConfig.showUserBackend\\\" class=\\\"userBackend\\\" />\\r\\n\\t\\t\\t\\t<div v-if=\\\"showConfig.showLastLogin\\\" class=\\\"lastLogin\\\" />\\r\\n\\t\\t\\t\\t<div class=\\\"user-actions\\\">\\r\\n\\t\\t\\t\\t\\t<NcButton id=\\\"newsubmit\\\"\\r\\n\\t\\t\\t\\t\\t\\ttype=\\\"primary\\\"\\r\\n\\t\\t\\t\\t\\t\\tnative-type=\\\"submit\\\"\\r\\n\\t\\t\\t\\t\\t\\tvalue=\\\"\\\">\\r\\n\\t\\t\\t\\t\\t\\t{{ t('settings', 'Add a new user') }}\\r\\n\\t\\t\\t\\t\\t</NcButton>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</form>\\r\\n\\t\\t</NcModal>\\r\\n\\t\\t<div id=\\\"grid-header\\\"\\r\\n\\t\\t\\t:class=\\\"{'sticky': scrolled && !showConfig.showNewUserForm}\\\"\\r\\n\\t\\t\\tclass=\\\"row\\\">\\r\\n\\t\\t\\t<div id=\\\"headerAvatar\\\" class=\\\"avatar\\\" />\\r\\n\\t\\t\\t<div id=\\\"headerName\\\" class=\\\"name\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"subtitle\\\">\\r\\n\\t\\t\\t\\t\\t<strong>\\r\\n\\t\\t\\t\\t\\t\\t{{ t('settings', 'Display name') }}\\r\\n\\t\\t\\t\\t\\t</strong>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t{{ t('settings', 'Username') }}\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div id=\\\"headerPassword\\\" class=\\\"password\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Password') }}\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div id=\\\"headerAddress\\\" class=\\\"mailAddress\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Email') }}\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div id=\\\"headerGroups\\\" class=\\\"groups\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Groups') }}\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div v-if=\\\"subAdminsGroups.length>0 && settings.isAdmin\\\"\\r\\n\\t\\t\\t\\tid=\\\"headerSubAdmins\\\"\\r\\n\\t\\t\\t\\tclass=\\\"subadmins\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Group admin for') }}\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div id=\\\"headerQuota\\\" class=\\\"quota\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Quota') }}\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div v-if=\\\"showConfig.showLanguages\\\"\\r\\n\\t\\t\\t\\tid=\\\"headerLanguages\\\"\\r\\n\\t\\t\\t\\tclass=\\\"languages\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Language') }}\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<div v-if=\\\"showConfig.showUserBackend || showConfig.showStoragePath\\\"\\r\\n\\t\\t\\t\\tclass=\\\"headerUserBackend userBackend\\\">\\r\\n\\t\\t\\t\\t<div v-if=\\\"showConfig.showUserBackend\\\" class=\\\"userBackend\\\">\\r\\n\\t\\t\\t\\t\\t{{ t('settings', 'User backend') }}\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div v-if=\\\"showConfig.showStoragePath\\\"\\r\\n\\t\\t\\t\\t\\tclass=\\\"subtitle storageLocation\\\">\\r\\n\\t\\t\\t\\t\\t{{ t('settings', 'Storage location') }}\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div v-if=\\\"showConfig.showLastLogin\\\"\\r\\n\\t\\t\\t\\tclass=\\\"headerLastLogin lastLogin\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Last login') }}\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<div class=\\\"userActions\\\" />\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<user-row v-for=\\\"user in filteredUsers\\\"\\r\\n\\t\\t\\t:key=\\\"user.id\\\"\\r\\n\\t\\t\\t:external-actions=\\\"externalActions\\\"\\r\\n\\t\\t\\t:groups=\\\"groups\\\"\\r\\n\\t\\t\\t:languages=\\\"languages\\\"\\r\\n\\t\\t\\t:quota-options=\\\"quotaOptions\\\"\\r\\n\\t\\t\\t:settings=\\\"settings\\\"\\r\\n\\t\\t\\t:show-config=\\\"showConfig\\\"\\r\\n\\t\\t\\t:sub-admins-groups=\\\"subAdminsGroups\\\"\\r\\n\\t\\t\\t:user=\\\"user\\\"\\r\\n\\t\\t\\t:is-dark-theme=\\\"isDarkTheme\\\" />\\r\\n\\t\\t<InfiniteLoading ref=\\\"infiniteLoading\\\" @infinite=\\\"infiniteHandler\\\">\\r\\n\\t\\t\\t<div slot=\\\"spinner\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"users-icon-loading icon-loading\\\" />\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div slot=\\\"no-more\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"users-list-end\\\" />\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div slot=\\\"no-results\\\">\\r\\n\\t\\t\\t\\t<div id=\\\"emptycontent\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"icon-contacts-dark\\\" />\\r\\n\\t\\t\\t\\t\\t<h2>{{ t('settings', 'No users in here') }}</h2>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</InfiniteLoading>\\r\\n\\t</div>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nimport { subscribe, unsubscribe } from '@nextcloud/event-bus'\\r\\nimport InfiniteLoading from 'vue-infinite-loading'\\r\\nimport Vue from 'vue'\\r\\nimport NcModal from '@nextcloud/vue/dist/Components/NcModal'\\r\\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton'\\r\\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\\r\\n\\r\\nimport userRow from './UserList/UserRow'\\r\\n\\r\\nconst unlimitedQuota = {\\r\\n\\tid: 'none',\\r\\n\\tlabel: t('settings', 'Unlimited'),\\r\\n}\\r\\nconst defaultQuota = {\\r\\n\\tid: 'default',\\r\\n\\tlabel: t('settings', 'Default quota'),\\r\\n}\\r\\nconst newUser = {\\r\\n\\tid: '',\\r\\n\\tdisplayName: '',\\r\\n\\tpassword: '',\\r\\n\\tmailAddress: '',\\r\\n\\tgroups: [],\\r\\n\\tsubAdminsGroups: [],\\r\\n\\tquota: defaultQuota,\\r\\n\\tlanguage: {\\r\\n\\t\\tcode: 'en',\\r\\n\\t\\tname: t('settings', 'Default language'),\\r\\n\\t},\\r\\n}\\r\\n\\r\\nexport default {\\r\\n\\tname: 'UserList',\\r\\n\\tcomponents: {\\r\\n\\t\\tNcModal,\\r\\n\\t\\tuserRow,\\r\\n\\t\\tNcMultiselect,\\r\\n\\t\\tInfiniteLoading,\\r\\n\\t\\tNcButton,\\r\\n\\t},\\r\\n\\tprops: {\\r\\n\\t\\tusers: {\\r\\n\\t\\t\\ttype: Array,\\r\\n\\t\\t\\tdefault: () => [],\\r\\n\\t\\t},\\r\\n\\t\\tshowConfig: {\\r\\n\\t\\t\\ttype: Object,\\r\\n\\t\\t\\trequired: true,\\r\\n\\t\\t},\\r\\n\\t\\tselectedGroup: {\\r\\n\\t\\t\\ttype: String,\\r\\n\\t\\t\\tdefault: null,\\r\\n\\t\\t},\\r\\n\\t\\texternalActions: {\\r\\n\\t\\t\\ttype: Array,\\r\\n\\t\\t\\tdefault: () => [],\\r\\n\\t\\t},\\r\\n\\t},\\r\\n\\tdata() {\\r\\n\\t\\treturn {\\r\\n\\t\\t\\tunlimitedQuota,\\r\\n\\t\\t\\tdefaultQuota,\\r\\n\\t\\t\\tloading: {\\r\\n\\t\\t\\t\\tall: false,\\r\\n\\t\\t\\t\\tgroups: false,\\r\\n\\t\\t\\t},\\r\\n\\t\\t\\tscrolled: false,\\r\\n\\t\\t\\tsearchQuery: '',\\r\\n\\t\\t\\tnewUser: Object.assign({}, newUser),\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\tcomputed: {\\r\\n\\t\\tsettings() {\\r\\n\\t\\t\\treturn this.$store.getters.getServerData\\r\\n\\t\\t},\\r\\n\\t\\tselectedGroupDecoded() {\\r\\n\\t\\t\\treturn decodeURIComponent(this.selectedGroup)\\r\\n\\t\\t},\\r\\n\\t\\tfilteredUsers() {\\r\\n\\t\\t\\tif (this.selectedGroup === 'disabled') {\\r\\n\\t\\t\\t\\treturn this.users.filter(user => user.enabled === false)\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tif (!this.settings.isAdmin) {\\r\\n\\t\\t\\t\\t// we don't want subadmins to edit themselves\\r\\n\\t\\t\\t\\treturn this.users.filter(user => user.enabled !== false)\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\treturn this.users.filter(user => user.enabled !== false)\\r\\n\\t\\t},\\r\\n\\t\\tgroups() {\\r\\n\\t\\t\\t// data provided php side + remove the disabled group\\r\\n\\t\\t\\treturn this.$store.getters.getGroups\\r\\n\\t\\t\\t\\t.filter(group => group.id !== 'disabled')\\r\\n\\t\\t\\t\\t.sort((a, b) => a.name.localeCompare(b.name))\\r\\n\\t\\t},\\r\\n\\t\\tcanAddGroups() {\\r\\n\\t\\t\\t// disabled if no permission to add new users to group\\r\\n\\t\\t\\treturn this.groups.map(group => {\\r\\n\\t\\t\\t\\t// clone object because we don't want\\r\\n\\t\\t\\t\\t// to edit the original groups\\r\\n\\t\\t\\t\\tgroup = Object.assign({}, group)\\r\\n\\t\\t\\t\\tgroup.$isDisabled = group.canAdd === false\\r\\n\\t\\t\\t\\treturn group\\r\\n\\t\\t\\t})\\r\\n\\t\\t},\\r\\n\\t\\tsubAdminsGroups() {\\r\\n\\t\\t\\t// data provided php side\\r\\n\\t\\t\\treturn this.$store.getters.getSubadminGroups\\r\\n\\t\\t},\\r\\n\\t\\tquotaOptions() {\\r\\n\\t\\t\\t// convert the preset array into objects\\r\\n\\t\\t\\tconst quotaPreset = this.settings.quotaPreset.reduce((acc, cur) => acc.concat({\\r\\n\\t\\t\\t\\tid: cur,\\r\\n\\t\\t\\t\\tlabel: cur,\\r\\n\\t\\t\\t}), [])\\r\\n\\t\\t\\t// add default presets\\r\\n\\t\\t\\tif (this.settings.allowUnlimitedQuota) {\\r\\n\\t\\t\\t\\tquotaPreset.unshift(this.unlimitedQuota)\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tquotaPreset.unshift(this.defaultQuota)\\r\\n\\t\\t\\treturn quotaPreset\\r\\n\\t\\t},\\r\\n\\t\\tminPasswordLength() {\\r\\n\\t\\t\\treturn this.$store.getters.getPasswordPolicyMinLength\\r\\n\\t\\t},\\r\\n\\t\\tusersOffset() {\\r\\n\\t\\t\\treturn this.$store.getters.getUsersOffset\\r\\n\\t\\t},\\r\\n\\t\\tusersLimit() {\\r\\n\\t\\t\\treturn this.$store.getters.getUsersLimit\\r\\n\\t\\t},\\r\\n\\t\\tusersCount() {\\r\\n\\t\\t\\treturn this.users.length\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\t/* LANGUAGES */\\r\\n\\t\\tlanguages() {\\r\\n\\t\\t\\treturn [\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tlabel: t('settings', 'Common languages'),\\r\\n\\t\\t\\t\\t\\tlanguages: this.settings.languages.commonLanguages,\\r\\n\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tlabel: t('settings', 'Other languages'),\\r\\n\\t\\t\\t\\t\\tlanguages: this.settings.languages.otherLanguages,\\r\\n\\t\\t\\t\\t},\\r\\n\\t\\t\\t]\\r\\n\\t\\t},\\r\\n\\t\\tisDarkTheme() {\\r\\n\\t\\t\\treturn window.getComputedStyle(this.$el)\\r\\n\\t\\t\\t\\t.getPropertyValue('--background-invert-if-dark') === 'invert(100%)'\\r\\n\\t\\t},\\r\\n\\t},\\r\\n\\twatch: {\\r\\n\\t\\t// watch url change and group select\\r\\n\\t\\tselectedGroup(val, old) {\\r\\n\\t\\t\\t// if selected is the disabled group but it's empty\\r\\n\\t\\t\\tthis.redirectIfDisabled()\\r\\n\\t\\t\\tthis.$store.commit('resetUsers')\\r\\n\\t\\t\\tthis.$refs.infiniteLoading.stateChanger.reset()\\r\\n\\t\\t\\tthis.setNewUserDefaultGroup(val)\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\t// make sure the infiniteLoading state is changed if we manually\\r\\n\\t\\t// add/remove data from the store\\r\\n\\t\\tusersCount(val, old) {\\r\\n\\t\\t\\t// deleting the last user, reset the list\\r\\n\\t\\t\\tif (val === 0 && old === 1) {\\r\\n\\t\\t\\t\\tthis.$refs.infiniteLoading.stateChanger.reset()\\r\\n\\t\\t\\t\\t// adding the first user, warn the infiniteLoader that\\r\\n\\t\\t\\t\\t// the list is not empty anymore (we don't fetch the newly\\r\\n\\t\\t\\t\\t// added user as we already have all the info we need)\\r\\n\\t\\t\\t} else if (val === 1 && old === 0) {\\r\\n\\t\\t\\t\\tthis.$refs.infiniteLoading.stateChanger.loaded()\\r\\n\\t\\t\\t}\\r\\n\\t\\t},\\r\\n\\t},\\r\\n\\r\\n\\tmounted() {\\r\\n\\t\\tif (!this.settings.canChangePassword) {\\r\\n\\t\\t\\tOC.Notification.showTemporary(t('settings', 'Password change is disabled because the master key is disabled'))\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t/**\\r\\n\\t\\t * Reset and init new user form\\r\\n\\t\\t */\\r\\n\\t\\tthis.resetForm()\\r\\n\\r\\n\\t\\t/**\\r\\n\\t\\t * Register search\\r\\n\\t\\t */\\r\\n\\t\\tsubscribe('nextcloud:unified-search.search', this.search)\\r\\n\\t\\tsubscribe('nextcloud:unified-search.reset', this.resetSearch)\\r\\n\\r\\n\\t\\t/**\\r\\n\\t\\t * If disabled group but empty, redirect\\r\\n\\t\\t */\\r\\n\\t\\tthis.redirectIfDisabled()\\r\\n\\t},\\r\\n\\tbeforeDestroy() {\\r\\n\\t\\tunsubscribe('nextcloud:unified-search.search', this.search)\\r\\n\\t\\tunsubscribe('nextcloud:unified-search.reset', this.resetSearch)\\r\\n\\t},\\r\\n\\r\\n\\tmethods: {\\r\\n\\t\\tonScroll(event) {\\r\\n\\t\\t\\tthis.scrolled = event.target.scrollTo > 0\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\t/**\\r\\n\\t\\t * Validate quota string to make sure it's a valid human file size\\r\\n\\t\\t *\\r\\n\\t\\t * @param {string} quota Quota in readable format '5 GB'\\r\\n\\t\\t * @return {object}\\r\\n\\t\\t */\\r\\n\\t\\tvalidateQuota(quota) {\\r\\n\\t\\t\\t// only used for new presets sent through @Tag\\r\\n\\t\\t\\tconst validQuota = OC.Util.computerFileSize(quota)\\r\\n\\t\\t\\tif (validQuota !== null && validQuota >= 0) {\\r\\n\\t\\t\\t\\t// unify format output\\r\\n\\t\\t\\t\\tquota = OC.Util.humanFileSize(OC.Util.computerFileSize(quota))\\r\\n\\t\\t\\t\\tthis.newUser.quota = { id: quota, label: quota }\\r\\n\\t\\t\\t\\treturn this.newUser.quota\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\t// Default is unlimited\\r\\n\\t\\t\\tthis.newUser.quota = this.quotaOptions[0]\\r\\n\\t\\t\\treturn this.quotaOptions[0]\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\tinfiniteHandler($state) {\\r\\n\\t\\t\\tthis.$store.dispatch('getUsers', {\\r\\n\\t\\t\\t\\toffset: this.usersOffset,\\r\\n\\t\\t\\t\\tlimit: this.usersLimit,\\r\\n\\t\\t\\t\\tgroup: this.selectedGroup !== 'disabled' ? this.selectedGroup : '',\\r\\n\\t\\t\\t\\tsearch: this.searchQuery,\\r\\n\\t\\t\\t})\\r\\n\\t\\t\\t\\t.then((usersCount) => {\\r\\n\\t\\t\\t\\t\\tif (usersCount > 0) {\\r\\n\\t\\t\\t\\t\\t\\t$state.loaded()\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\tif (usersCount < this.usersLimit) {\\r\\n\\t\\t\\t\\t\\t\\t$state.complete()\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\t/* SEARCH */\\r\\n\\t\\tsearch({ query }) {\\r\\n\\t\\t\\tthis.searchQuery = query\\r\\n\\t\\t\\tthis.$store.commit('resetUsers')\\r\\n\\t\\t\\tthis.$refs.infiniteLoading.stateChanger.reset()\\r\\n\\t\\t},\\r\\n\\t\\tresetSearch() {\\r\\n\\t\\t\\tthis.search({ query: '' })\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\tresetForm() {\\r\\n\\t\\t\\t// revert form to original state\\r\\n\\t\\t\\tthis.newUser = Object.assign({}, newUser)\\r\\n\\r\\n\\t\\t\\t/**\\r\\n\\t\\t\\t * Init default language from server data. The use of this.settings\\r\\n\\t\\t\\t * requires a computed variable, which break the v-model binding of the form,\\r\\n\\t\\t\\t * this is a much easier solution than getter and setter on a computed var\\r\\n\\t\\t\\t */\\r\\n\\t\\t\\tif (this.settings.defaultLanguage) {\\r\\n\\t\\t\\t\\tVue.set(this.newUser.language, 'code', this.settings.defaultLanguage)\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t/**\\r\\n\\t\\t\\t * In case the user directly loaded the user list within a group\\r\\n\\t\\t\\t * the watch won't be triggered. We need to initialize it.\\r\\n\\t\\t\\t */\\r\\n\\t\\t\\tthis.setNewUserDefaultGroup(this.selectedGroup)\\r\\n\\r\\n\\t\\t\\tthis.loading.all = false\\r\\n\\t\\t},\\r\\n\\t\\tcreateUser() {\\r\\n\\t\\t\\tthis.loading.all = true\\r\\n\\t\\t\\tthis.$store.dispatch('addUser', {\\r\\n\\t\\t\\t\\tuserid: this.newUser.id,\\r\\n\\t\\t\\t\\tpassword: this.newUser.password,\\r\\n\\t\\t\\t\\tdisplayName: this.newUser.displayName,\\r\\n\\t\\t\\t\\temail: this.newUser.mailAddress,\\r\\n\\t\\t\\t\\tgroups: this.newUser.groups.map(group => group.id),\\r\\n\\t\\t\\t\\tsubadmin: this.newUser.subAdminsGroups.map(group => group.id),\\r\\n\\t\\t\\t\\tquota: this.newUser.quota.id,\\r\\n\\t\\t\\t\\tlanguage: this.newUser.language.code,\\r\\n\\t\\t\\t})\\r\\n\\t\\t\\t\\t.then(() => {\\r\\n\\t\\t\\t\\t\\tthis.resetForm()\\r\\n\\t\\t\\t\\t\\tthis.$refs.newusername.focus()\\r\\n\\t\\t\\t\\t\\tthis.closeModal()\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t\\t\\t.catch((error) => {\\r\\n\\t\\t\\t\\t\\tthis.loading.all = false\\r\\n\\t\\t\\t\\t\\tif (error.response && error.response.data && error.response.data.ocs && error.response.data.ocs.meta) {\\r\\n\\t\\t\\t\\t\\t\\tconst statuscode = error.response.data.ocs.meta.statuscode\\r\\n\\t\\t\\t\\t\\t\\tif (statuscode === 102) {\\r\\n\\t\\t\\t\\t\\t\\t\\t// wrong username\\r\\n\\t\\t\\t\\t\\t\\t\\tthis.$refs.newusername.focus()\\r\\n\\t\\t\\t\\t\\t\\t} else if (statuscode === 107) {\\r\\n\\t\\t\\t\\t\\t\\t\\t// wrong password\\r\\n\\t\\t\\t\\t\\t\\t\\tthis.$refs.newuserpassword.focus()\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t},\\r\\n\\t\\tsetNewUserDefaultGroup(value) {\\r\\n\\t\\t\\tif (value && value.length > 0) {\\r\\n\\t\\t\\t\\t// setting new user default group to the current selected one\\r\\n\\t\\t\\t\\tconst currentGroup = this.groups.find(group => group.id === value)\\r\\n\\t\\t\\t\\tif (currentGroup) {\\r\\n\\t\\t\\t\\t\\tthis.newUser.groups = [currentGroup]\\r\\n\\t\\t\\t\\t\\treturn\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\t// fallback, empty selected group\\r\\n\\t\\t\\tthis.newUser.groups = []\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\t/**\\r\\n\\t\\t * Create a new group\\r\\n\\t\\t *\\r\\n\\t\\t * @param {string} gid Group id\\r\\n\\t\\t * @return {Promise}\\r\\n\\t\\t */\\r\\n\\t\\tcreateGroup(gid) {\\r\\n\\t\\t\\tthis.loading.groups = true\\r\\n\\t\\t\\tthis.$store.dispatch('addGroup', gid)\\r\\n\\t\\t\\t\\t.then((group) => {\\r\\n\\t\\t\\t\\t\\tthis.newUser.groups.push(this.groups.find(group => group.id === gid))\\r\\n\\t\\t\\t\\t\\tthis.loading.groups = false\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t\\t\\t.catch(() => {\\r\\n\\t\\t\\t\\t\\tthis.loading.groups = false\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t\\treturn this.$store.getters.getGroups[this.groups.length]\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\t/**\\r\\n\\t\\t * If the selected group is the disabled group but the count is 0\\r\\n\\t\\t * redirect to the all users page.\\r\\n\\t\\t * we only check for 0 because we don't have the count on ldap\\r\\n\\t\\t * and we therefore set the usercount to -1 in this specific case\\r\\n\\t\\t */\\r\\n\\t\\tredirectIfDisabled() {\\r\\n\\t\\t\\tconst allGroups = this.$store.getters.getGroups\\r\\n\\t\\t\\tif (this.selectedGroup === 'disabled'\\r\\n\\t\\t\\t\\t\\t\\t&& allGroups.findIndex(group => group.id === 'disabled' && group.usercount === 0) > -1) {\\r\\n\\t\\t\\t\\t// disabled group is empty, redirection to all users\\r\\n\\t\\t\\t\\tthis.$router.push({ name: 'users' })\\r\\n\\t\\t\\t\\tthis.$refs.infiniteLoading.stateChanger.reset()\\r\\n\\t\\t\\t}\\r\\n\\t\\t},\\r\\n\\t\\tcloseModal() {\\r\\n\\t\\t\\t// eslint-disable-next-line vue/no-mutating-props\\r\\n\\t\\t\\tthis.showConfig.showNewUserForm = false\\r\\n\\t\\t},\\r\\n\\t},\\r\\n}\\r\\n</script>\\r\\n<style scoped>\\r\\n\\t.modal-wrapper {\\r\\n\\t\\tmargin: 2vh 0;\\r\\n\\t\\talign-items: flex-start;\\r\\n\\t}\\r\\n\\t.modal__content {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tpadding: 20px;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\ttext-align: center;\\r\\n\\t}\\r\\n\\t.modal__item {\\r\\n\\t\\tmargin-bottom: 16px;\\r\\n\\t\\twidth: 100%;\\r\\n\\t}\\r\\n\\t.modal__item:not(:focus):not(:active) {\\r\\n\\t\\tborder-color: var(--color-border-dark);\\r\\n\\t}\\r\\n\\t.modal__item::v-deep .multiselect {\\r\\n\\t\\twidth: 100%;\\r\\n\\t}\\r\\n\\t.user-actions {\\r\\n\\t\\tmargin-top: 20px;\\r\\n\\t}\\r\\n\\t.modal__content::v-deep .multiselect__single {\\r\\n\\t\\ttext-align: left;\\r\\n\\t\\tbox-sizing: border-box;\\r\\n\\t}\\r\\n\\t.modal__content::v-deep .multiselect__content-wrapper {\\r\\n\\t\\tbox-sizing: border-box;\\r\\n\\t}\\r\\n\\t.row::v-deep .multiselect__single {\\r\\n\\t\\tz-index: auto !important;\\r\\n\\t}\\r\\n\\r\\n\\t/* fake input for groups validation */\\r\\n\\tinput#newgroups {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\topacity: 0;\\r\\n\\t\\t/* The \\\"hidden\\\" input is behind the Multiselect, so in general it does\\r\\n\\t\\t * not receives clicks. However, with Firefox, after the validation\\r\\n\\t\\t * fails, it will receive the first click done on it, so its width needs\\r\\n\\t\\t * to be set to 0 to prevent that (\\\"pointer-events: none\\\" does not\\r\\n\\t\\t * prevent it). */\\r\\n\\t\\twidth: 0;\\r\\n\\t}\\r\\n</style>\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcContent',{attrs:{\"app-name\":\"settings\",\"navigation-class\":{ 'icon-loading': _vm.loadingAddGroup }}},[_c('NcAppNavigation',{scopedSlots:_vm._u([{key:\"list\",fn:function(){return [_c('NcAppNavigationItem',{ref:\"addGroup\",attrs:{\"id\":\"addgroup\",\"edit-placeholder\":_vm.t('settings', 'Enter group name'),\"editable\":true,\"loading\":_vm.loadingAddGroup,\"title\":_vm.t('settings', 'Add group'),\"icon\":\"icon-add\"},on:{\"click\":_vm.showAddGroupForm,\"update:title\":_vm.createGroup}}),_vm._v(\" \"),_c('NcAppNavigationItem',{attrs:{\"id\":\"everyone\",\"exact\":true,\"title\":_vm.t('settings', 'Active users'),\"to\":{ name: 'users' },\"icon\":\"icon-contacts-dark\"}},[(_vm.userCount > 0)?_c('NcAppNavigationCounter',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.userCount)+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),(_vm.settings.isAdmin)?_c('NcAppNavigationItem',{attrs:{\"id\":\"admin\",\"exact\":true,\"title\":_vm.t('settings', 'Admins'),\"to\":{ name: 'group', params: { selectedGroup: 'admin' } },\"icon\":\"icon-user-admin\"}},[(_vm.adminGroupMenu.count)?_c('NcAppNavigationCounter',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.adminGroupMenu.count)+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.disabledGroupMenu.usercount > 0 || _vm.disabledGroupMenu.usercount === -1)?_c('NcAppNavigationItem',{attrs:{\"id\":\"disabled\",\"exact\":true,\"title\":_vm.t('settings', 'Disabled users'),\"to\":{ name: 'group', params: { selectedGroup: 'disabled' } },\"icon\":\"icon-disabled-users\"}},[(_vm.disabledGroupMenu.usercount > 0)?_c('NcAppNavigationCounter',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.disabledGroupMenu.usercount)+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.groupList.length > 0)?_c('NcAppNavigationCaption',{attrs:{\"title\":_vm.t('settings', 'Groups')}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.groupList),function(group){return _c('GroupListItem',{key:group.id,attrs:{\"id\":group.id,\"title\":group.title,\"count\":group.count}})})]},proxy:true},{key:\"footer\",fn:function(){return [_c('NcAppNavigationSettings',[_c('div',[_c('p',[_vm._v(_vm._s(_vm.t('settings', 'Default quota:')))]),_vm._v(\" \"),_c('NcMultiselect',{attrs:{\"value\":_vm.defaultQuota,\"options\":_vm.quotaOptions,\"tag-placeholder\":\"create\",\"placeholder\":_vm.t('settings', 'Select default quota'),\"label\":\"label\",\"track-by\":\"id\",\"allow-empty\":false,\"taggable\":true},on:{\"tag\":_vm.validateQuota,\"input\":_vm.setDefaultQuota}})],1),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showLanguages),expression:\"showLanguages\"}],staticClass:\"checkbox\",attrs:{\"id\":\"showLanguages\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showLanguages)?_vm._i(_vm.showLanguages,null)>-1:(_vm.showLanguages)},on:{\"change\":function($event){var $$a=_vm.showLanguages,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showLanguages=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showLanguages=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showLanguages=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showLanguages\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show Languages')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showLastLogin),expression:\"showLastLogin\"}],staticClass:\"checkbox\",attrs:{\"id\":\"showLastLogin\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showLastLogin)?_vm._i(_vm.showLastLogin,null)>-1:(_vm.showLastLogin)},on:{\"change\":function($event){var $$a=_vm.showLastLogin,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showLastLogin=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showLastLogin=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showLastLogin=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showLastLogin\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show last login')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showUserBackend),expression:\"showUserBackend\"}],staticClass:\"checkbox\",attrs:{\"id\":\"showUserBackend\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showUserBackend)?_vm._i(_vm.showUserBackend,null)>-1:(_vm.showUserBackend)},on:{\"change\":function($event){var $$a=_vm.showUserBackend,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showUserBackend=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showUserBackend=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showUserBackend=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showUserBackend\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show user backend')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showStoragePath),expression:\"showStoragePath\"}],staticClass:\"checkbox\",attrs:{\"id\":\"showStoragePath\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showStoragePath)?_vm._i(_vm.showStoragePath,null)>-1:(_vm.showStoragePath)},on:{\"change\":function($event){var $$a=_vm.showStoragePath,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showStoragePath=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showStoragePath=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showStoragePath=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showStoragePath\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show storage path')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sendWelcomeMail),expression:\"sendWelcomeMail\"}],staticClass:\"checkbox\",attrs:{\"id\":\"sendWelcomeMail\",\"disabled\":_vm.loadingSendMail,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.sendWelcomeMail)?_vm._i(_vm.sendWelcomeMail,null)>-1:(_vm.sendWelcomeMail)},on:{\"change\":function($event){var $$a=_vm.sendWelcomeMail,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.sendWelcomeMail=$$a.concat([$$v]))}else{$$i>-1&&(_vm.sendWelcomeMail=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.sendWelcomeMail=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"sendWelcomeMail\"}},[_vm._v(_vm._s(_vm.t('settings', 'Send email to new user')))])])])]},proxy:true}])},[_c('NcAppNavigationNew',{attrs:{\"button-id\":\"new-user-button\",\"text\":_vm.t('settings','New user'),\"button-class\":\"icon-add\"},on:{\"click\":_vm.showNewUserMenu,\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.showNewUserMenu.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"]))return null;return _vm.showNewUserMenu.apply(null, arguments)}]}})],1),_vm._v(\" \"),_c('NcAppContent',[_c('UserList',{attrs:{\"users\":_vm.users,\"show-config\":_vm.showConfig,\"selected-group\":_vm.selectedGroupDecoded,\"external-actions\":_vm.externalActions}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n  - @copyright Copyright (c) 2021 Martin Jänel <spammemore@posteo.de>\r\n  -\r\n  - @author Martin Jänel <spammemore@posteo.de>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n  -\r\n  -->\r\n\r\n<template>\r\n\t<NcAppNavigationItem :key=\"id\"\r\n\t\t:exact=\"true\"\r\n\t\t:title=\"title\"\r\n\t\t:to=\"{ name: 'group', params: { selectedGroup: encodeURIComponent(id) } }\"\r\n\t\ticon=\"icon-group\"\r\n\t\t:loading=\"loadingRenameGroup\"\r\n\t\t:menu-open=\"openGroupMenu\"\r\n\t\t@update:menuOpen=\"handleGroupMenuOpen\">\r\n\t\t<template #counter>\r\n\t\t\t<NcCounterBubble v-if=\"count\">\r\n\t\t\t\t{{ count }}\r\n\t\t\t</NcCounterBubble>\r\n\t\t</template>\r\n\t\t<template #actions>\r\n\t\t\t<NcActionInput v-if=\"id !== 'admin' && id !== 'disabled' && settings.isAdmin\"\r\n\t\t\t\tref=\"displayNameInput\"\r\n\t\t\t\ticon=\"icon-edit\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\t:value=\"title\"\r\n\t\t\t\t@submit=\"renameGroup(id)\">\r\n\t\t\t\t{{ t('settings', 'Rename group') }}\r\n\t\t\t</NcActionInput>\r\n\t\t\t<NcActionButton v-if=\"id !== 'admin' && id !== 'disabled' && settings.isAdmin\"\r\n\t\t\t\ticon=\"icon-delete\"\r\n\t\t\t\t@click=\"removeGroup(id)\">\r\n\t\t\t\t{{ t('settings', 'Remove group') }}\r\n\t\t\t</NcActionButton>\r\n\t\t</template>\r\n\t</NcAppNavigationItem>\r\n</template>\r\n\r\n<script>\r\nimport NcActionInput from '@nextcloud/vue/dist/Components/NcActionInput'\r\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton'\r\nimport NcCounterBubble from '@nextcloud/vue/dist/Components/NcCounterBubble'\r\nimport NcAppNavigationItem from '@nextcloud/vue/dist/Components/NcAppNavigationItem'\r\n\r\nexport default {\r\n\tname: 'GroupListItem',\r\n\tcomponents: {\r\n\t\tNcActionInput,\r\n\t\tNcActionButton,\r\n\t\tNcCounterBubble,\r\n\t\tNcAppNavigationItem,\r\n\t},\r\n\tprops: {\r\n\t\tid: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tcount: {\r\n\t\t\ttype: Number,\r\n\t\t\trequired: false,\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloadingRenameGroup: false,\r\n\t\t\topenGroupMenu: false,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tsettings() {\r\n\t\t\treturn this.$store.getters.getServerData\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\thandleGroupMenuOpen() {\r\n\t\t\tthis.openGroupMenu = true\r\n\t\t},\r\n\t\tasync renameGroup(gid) {\r\n\t\t\t// check if group id is valid\r\n\t\t\tif (gid.trim() === '') {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst displayName = this.$refs.displayNameInput.$el.querySelector('input[type=\"text\"]').value\r\n\r\n\t\t\t// check if group name is valid\r\n\t\t\tif (displayName.trim() === '') {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tthis.openGroupMenu = false\r\n\t\t\t\tthis.loadingRenameGroup = true\r\n\t\t\t\tawait this.$store.dispatch('renameGroup', {\r\n\t\t\t\t\tgroupid: gid.trim(),\r\n\t\t\t\t\tdisplayName: displayName.trim(),\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.loadingRenameGroup = false\r\n\t\t\t} catch {\r\n\t\t\t\tthis.openGroupMenu = true\r\n\t\t\t\tthis.loadingRenameGroup = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveGroup(groupid) {\r\n\t\t\tconst self = this\r\n\t\t\t// TODO migrate to a vue js confirm dialog component\r\n\t\t\tOC.dialogs.confirm(\r\n\t\t\t\tt('settings', 'You are about to remove the group {group}. The users will NOT be deleted.', { group: groupid }),\r\n\t\t\t\tt('settings', 'Please confirm the group removal '),\r\n\t\t\t\tfunction(success) {\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tself.$store.dispatch('removeGroup', groupid)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GroupListItem.vue?vue&type=template&id=03bc8784&\"\nimport script from \"./GroupListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcAppNavigationItem',{key:_vm.id,attrs:{\"exact\":true,\"title\":_vm.title,\"to\":{ name: 'group', params: { selectedGroup: encodeURIComponent(_vm.id) } },\"icon\":\"icon-group\",\"loading\":_vm.loadingRenameGroup,\"menu-open\":_vm.openGroupMenu},on:{\"update:menuOpen\":_vm.handleGroupMenuOpen},scopedSlots:_vm._u([{key:\"counter\",fn:function(){return [(_vm.count)?_c('NcCounterBubble',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.count)+\"\\n\\t\\t\")]):_vm._e()]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.id !== 'admin' && _vm.id !== 'disabled' && _vm.settings.isAdmin)?_c('NcActionInput',{ref:\"displayNameInput\",attrs:{\"icon\":\"icon-edit\",\"type\":\"text\",\"value\":_vm.title},on:{\"submit\":function($event){return _vm.renameGroup(_vm.id)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Rename group'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.id !== 'admin' && _vm.id !== 'disabled' && _vm.settings.isAdmin)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.removeGroup(_vm.id)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Remove group'))+\"\\n\\t\\t\")]):_vm._e()]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\r\n *\r\n * @author Greta Doci <gretadoci@gmail.com>\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n * @author Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport { generateUrl } from '@nextcloud/router'\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tuser: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({}),\r\n\t\t},\r\n\t\tgroups: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\tsubAdminsGroups: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\tquotaOptions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\tshowConfig: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({}),\r\n\t\t},\r\n\t\tlanguages: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\texternalActions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\t/* GROUPS MANAGEMENT */\r\n\t\tuserGroups() {\r\n\t\t\tconst userGroups = this.groups.filter(group => this.user.groups.includes(group.id))\r\n\t\t\treturn userGroups\r\n\t\t},\r\n\t\tuserSubAdminsGroups() {\r\n\t\t\tconst userSubAdminsGroups = this.subAdminsGroups.filter(group => this.user.subadmin.includes(group.id))\r\n\t\t\treturn userSubAdminsGroups\r\n\t\t},\r\n\t\tavailableGroups() {\r\n\t\t\treturn this.groups.map((group) => {\r\n\t\t\t\t// clone object because we don't want\r\n\t\t\t\t// to edit the original groups\r\n\t\t\t\tconst groupClone = Object.assign({}, group)\r\n\r\n\t\t\t\t// two settings here:\r\n\t\t\t\t// 1. user NOT in group but no permission to add\r\n\t\t\t\t// 2. user is in group but no permission to remove\r\n\t\t\t\tgroupClone.$isDisabled\r\n\t\t\t\t\t= (group.canAdd === false\r\n\t\t\t\t\t\t&& !this.user.groups.includes(group.id))\r\n\t\t\t\t\t|| (group.canRemove === false\r\n\t\t\t\t\t\t&& this.user.groups.includes(group.id))\r\n\t\t\t\treturn groupClone\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/* QUOTA MANAGEMENT */\r\n\t\tusedSpace() {\r\n\t\t\tif (this.user.quota.used) {\r\n\t\t\t\treturn t('settings', '{size} used', { size: OC.Util.humanFileSize(this.user.quota.used) })\r\n\t\t\t}\r\n\t\t\treturn t('settings', '{size} used', { size: OC.Util.humanFileSize(0) })\r\n\t\t},\r\n\t\tusedQuota() {\r\n\t\t\tlet quota = this.user.quota.quota\r\n\t\t\tif (quota > 0) {\r\n\t\t\t\tquota = Math.min(100, Math.round(this.user.quota.used / quota * 100))\r\n\t\t\t} else {\r\n\t\t\t\tconst usedInGB = this.user.quota.used / (10 * Math.pow(2, 30))\r\n\t\t\t\t// asymptotic curve approaching 50% at 10GB to visualize used stace with infinite quota\r\n\t\t\t\tquota = 95 * (1 - (1 / (usedInGB + 1)))\r\n\t\t\t}\r\n\t\t\treturn isNaN(quota) ? 0 : quota\r\n\t\t},\r\n\t\t// Mapping saved values to objects\r\n\t\tuserQuota() {\r\n\t\t\tif (this.user.quota.quota >= 0) {\r\n\t\t\t\t// if value is valid, let's map the quotaOptions or return custom quota\r\n\t\t\t\tconst humanQuota = OC.Util.humanFileSize(this.user.quota.quota)\r\n\t\t\t\tconst userQuota = this.quotaOptions.find(quota => quota.id === humanQuota)\r\n\t\t\t\treturn userQuota || { id: humanQuota, label: humanQuota }\r\n\t\t\t} else if (this.user.quota.quota === 'default') {\r\n\t\t\t\t// default quota is replaced by the proper value on load\r\n\t\t\t\treturn this.quotaOptions[0]\r\n\t\t\t}\r\n\t\t\treturn this.quotaOptions[1] // unlimited\r\n\t\t},\r\n\r\n\t\t/* PASSWORD POLICY? */\r\n\t\tminPasswordLength() {\r\n\t\t\treturn this.$store.getters.getPasswordPolicyMinLength\r\n\t\t},\r\n\r\n\t\t/* LANGUAGE */\r\n\t\tuserLanguage() {\r\n\t\t\tconst availableLanguages = this.languages[0].languages.concat(this.languages[1].languages)\r\n\t\t\tconst userLang = availableLanguages.find(lang => lang.code === this.user.language)\r\n\t\t\tif (typeof userLang !== 'object' && this.user.language !== '') {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode: this.user.language,\r\n\t\t\t\t\tname: this.user.language,\r\n\t\t\t\t}\r\n\t\t\t} else if (this.user.language === '') {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn userLang\r\n\t\t},\r\n\r\n\t\t/* LAST LOGIN */\r\n\t\tuserLastLoginTooltip() {\r\n\t\t\tif (this.user.lastLogin > 0) {\r\n\t\t\t\treturn OC.Util.formatDate(this.user.lastLogin)\r\n\t\t\t}\r\n\t\t\treturn ''\r\n\t\t},\r\n\t\tuserLastLogin() {\r\n\t\t\tif (this.user.lastLogin > 0) {\r\n\t\t\t\treturn OC.Util.relativeModifiedDate(this.user.lastLogin)\r\n\t\t\t}\r\n\t\t\treturn t('settings', 'Never')\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * Generate avatar url\r\n\t\t *\r\n\t\t * @param {string} user The user name\r\n\t\t * @param {bool} isDarkTheme Whether the avatar should be the dark version\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tgenerateAvatar(user, isDarkTheme) {\r\n\t\t\tif (isDarkTheme) {\r\n\t\t\t\treturn generateUrl(\r\n\t\t\t\t\t'/avatar/{user}/64/dark?v={version}',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuser,\r\n\t\t\t\t\t\tversion: oc_userconfig.avatar.version,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn generateUrl(\r\n\t\t\t\t\t'/avatar/{user}/64?v={version}',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuser,\r\n\t\t\t\t\t\tversion: oc_userconfig.avatar.version,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n}\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRowSimple.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRowSimple.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div class=\"row\"\r\n\t\t:class=\"{'disabled': loading.delete || loading.disable}\"\r\n\t\t:data-id=\"user.id\">\r\n\t\t<div class=\"avatar\" :class=\"{'icon-loading-small': loading.delete || loading.disable || loading.wipe}\">\r\n\t\t\t<img v-if=\"!loading.delete && !loading.disable && !loading.wipe\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t\twidth=\"32\"\r\n\t\t\t\theight=\"32\"\r\n\t\t\t\t:src=\"generateAvatar(user.id, isDarkTheme)\">\r\n\t\t</div>\r\n\t\t<!-- dirty hack to ellipsis on two lines -->\r\n\t\t<div class=\"name\">\r\n\t\t\t<div class=\"displayName subtitle\">\r\n\t\t\t\t<div :title=\"user.displayname.length > 20 ? user.displayname : ''\" class=\"cellText\">\r\n\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t{{ user.displayname }}\r\n\t\t\t\t\t</strong>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{{ user.id }}\r\n\t\t</div>\r\n\t\t<div />\r\n\t\t<div class=\"mailAddress\">\r\n\t\t\t<div :title=\"user.email !== null && user.email.length > 20 ? user.email : ''\" class=\"cellText\">\r\n\t\t\t\t{{ user.email }}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"groups\">\r\n\t\t\t{{ userGroupsLabels }}\r\n\t\t</div>\r\n\t\t<div v-if=\"subAdminsGroups.length > 0 && settings.isAdmin\" class=\"subAdminsGroups\">\r\n\t\t\t{{ userSubAdminsGroupsLabels }}\r\n\t\t</div>\r\n\t\t<div class=\"userQuota\">\r\n\t\t\t<div class=\"quota\">\r\n\t\t\t\t{{ userQuota }} ({{ usedSpace }})\r\n\t\t\t\t<progress class=\"quota-user-progress\"\r\n\t\t\t\t\t:class=\"{'warn': usedQuota > 80}\"\r\n\t\t\t\t\t:value=\"usedQuota\"\r\n\t\t\t\t\tmax=\"100\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div v-if=\"showConfig.showLanguages\" class=\"languages\">\r\n\t\t\t{{ userLanguage.name }}\r\n\t\t</div>\r\n\t\t<div v-if=\"showConfig.showUserBackend || showConfig.showStoragePath\" class=\"userBackend\">\r\n\t\t\t<div v-if=\"showConfig.showUserBackend\" class=\"userBackend\">\r\n\t\t\t\t{{ user.backend }}\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"showConfig.showStoragePath\" :title=\"user.storageLocation\" class=\"storageLocation subtitle\">\r\n\t\t\t\t{{ user.storageLocation }}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div v-if=\"showConfig.showLastLogin\" :title=\"userLastLoginTooltip\" class=\"lastLogin\">\r\n\t\t\t{{ userLastLogin }}\r\n\t\t</div>\r\n\r\n\t\t<div class=\"userActions\">\r\n\t\t\t<div v-if=\"canEdit && !loading.all\" class=\"toggleUserActions\">\r\n\t\t\t\t<NcActions>\r\n\t\t\t\t\t<NcActionButton icon=\"icon-rename\"\r\n\t\t\t\t\t\t:title=\"t('settings', 'Edit User')\"\r\n\t\t\t\t\t\t:aria-label=\"t('settings', 'Edit User')\"\r\n\t\t\t\t\t\t@click=\"toggleEdit\" />\r\n\t\t\t\t</NcActions>\r\n\t\t\t\t<div class=\"userPopoverMenuWrapper\">\r\n\t\t\t\t\t<button v-click-outside=\"hideMenu\"\r\n\t\t\t\t\t\tclass=\"icon-more\"\r\n\t\t\t\t\t\t:aria-label=\"t('settings', 'Toggle user actions menu')\"\r\n\t\t\t\t\t\t@click.prevent=\"toggleMenu\" />\r\n\t\t\t\t\t<div class=\"popovermenu\" :class=\"{ 'open': openedMenu }\" :aria-expanded=\"openedMenu\">\r\n\t\t\t\t\t\t<NcPopoverMenu :menu=\"userActions\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"feedback\" :style=\"{opacity: feedbackMessage !== '' ? 1 : 0}\">\r\n\t\t\t\t<div class=\"icon-checkmark\" />\r\n\t\t\t\t{{ feedbackMessage }}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcPopoverMenu from '@nextcloud/vue/dist/Components/NcPopoverMenu'\r\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions'\r\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton'\r\nimport ClickOutside from 'vue-click-outside'\r\nimport { getCurrentUser } from '@nextcloud/auth'\r\nimport UserRowMixin from '../../mixins/UserRowMixin'\r\nexport default {\r\n\tname: 'UserRowSimple',\r\n\tcomponents: {\r\n\t\tNcPopoverMenu,\r\n\t\tNcActionButton,\r\n\t\tNcActions,\r\n\t},\r\n\tdirectives: {\r\n\t\tClickOutside,\r\n\t},\r\n\tmixins: [UserRowMixin],\r\n\tprops: {\r\n\t\tuser: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tloading: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tshowConfig: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tuserActions: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\topenedMenu: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tfeedbackMessage: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tsubAdminsGroups: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tisDarkTheme: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\tuserGroupsLabels() {\r\n\t\t\treturn this.userGroups\r\n\t\t\t\t.map(group => group.name)\r\n\t\t\t\t.join(', ')\r\n\t\t},\r\n\t\tuserSubAdminsGroupsLabels() {\r\n\t\t\treturn this.userSubAdminsGroups\r\n\t\t\t\t.map(group => group.name)\r\n\t\t\t\t.join(', ')\r\n\t\t},\r\n\t\tusedSpace() {\r\n\t\t\tif (this.user.quota.used) {\r\n\t\t\t\treturn t('settings', '{size} used', { size: OC.Util.humanFileSize(this.user.quota.used) })\r\n\t\t\t}\r\n\t\t\treturn t('settings', '{size} used', { size: OC.Util.humanFileSize(0) })\r\n\t\t},\r\n\t\tcanEdit() {\r\n\t\t\treturn getCurrentUser().uid !== this.user.id || this.settings.isAdmin\r\n\t\t},\r\n\t\tuserQuota() {\r\n\t\t\tlet quota = this.user.quota.quota\r\n\r\n\t\t\tif (quota === 'default') {\r\n\t\t\t\tquota = this.settings.defaultQuota\r\n\t\t\t\tif (quota !== 'none') {\r\n\t\t\t\t\t// convert to numeric value to match what the server would usually return\r\n\t\t\t\t\tquota = OC.Util.computerFileSize(quota)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// when the default quota is unlimited, the server returns -3 here, map it to \"none\"\r\n\t\t\tif (quota === 'none' || quota === -3) {\r\n\t\t\t\treturn t('settings', 'Unlimited')\r\n\t\t\t} else if (quota >= 0) {\r\n\t\t\t\treturn OC.Util.humanFileSize(quota)\r\n\t\t\t}\r\n\t\t\treturn OC.Util.humanFileSize(0)\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\ttoggleMenu() {\r\n\t\t\tthis.$emit('update:openedMenu', !this.openedMenu)\r\n\t\t},\r\n\t\thideMenu() {\r\n\t\t\tthis.$emit('update:openedMenu', false)\r\n\t\t},\r\n\t\ttoggleEdit() {\r\n\t\t\tthis.$emit('update:editing', true)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.cellText {\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n}\r\n\t.icon-more {\r\n\t\tbackground-color: var(--color-main-background);\r\n\t\tborder: 0;\r\n\t}\r\n</style>\r\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRowSimple.vue?vue&type=style&index=0&id=2810f486&prod&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRowSimple.vue?vue&type=style&index=0&id=2810f486&prod&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./UserRowSimple.vue?vue&type=template&id=2810f486&\"\nimport script from \"./UserRowSimple.vue?vue&type=script&lang=js&\"\nexport * from \"./UserRowSimple.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserRowSimple.vue?vue&type=style&index=0&id=2810f486&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row\",class:{'disabled': _vm.loading.delete || _vm.loading.disable},attrs:{\"data-id\":_vm.user.id}},[_c('div',{staticClass:\"avatar\",class:{'icon-loading-small': _vm.loading.delete || _vm.loading.disable || _vm.loading.wipe}},[(!_vm.loading.delete && !_vm.loading.disable && !_vm.loading.wipe)?_c('img',{attrs:{\"alt\":\"\",\"width\":\"32\",\"height\":\"32\",\"src\":_vm.generateAvatar(_vm.user.id, _vm.isDarkTheme)}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_c('div',{staticClass:\"displayName subtitle\"},[_c('div',{staticClass:\"cellText\",attrs:{\"title\":_vm.user.displayname.length > 20 ? _vm.user.displayname : ''}},[_c('strong',[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.user.displayname)+\"\\n\\t\\t\\t\\t\")])])]),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.user.id)+\"\\n\\t\")]),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div',{staticClass:\"mailAddress\"},[_c('div',{staticClass:\"cellText\",attrs:{\"title\":_vm.user.email !== null && _vm.user.email.length > 20 ? _vm.user.email : ''}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.user.email)+\"\\n\\t\\t\")])]),_vm._v(\" \"),_c('div',{staticClass:\"groups\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.userGroupsLabels)+\"\\n\\t\")]),_vm._v(\" \"),(_vm.subAdminsGroups.length > 0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subAdminsGroups\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.userSubAdminsGroupsLabels)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userQuota\"},[_c('div',{staticClass:\"quota\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.userQuota)+\" (\"+_vm._s(_vm.usedSpace)+\")\\n\\t\\t\\t\"),_c('progress',{staticClass:\"quota-user-progress\",class:{'warn': _vm.usedQuota > 80},attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.usedQuota}})])]),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.userLanguage.name)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showUserBackend || _vm.showConfig.showStoragePath)?_c('div',{staticClass:\"userBackend\"},[(_vm.showConfig.showUserBackend)?_c('div',{staticClass:\"userBackend\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.user.backend)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath)?_c('div',{staticClass:\"storageLocation subtitle\",attrs:{\"title\":_vm.user.storageLocation}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.user.storageLocation)+\"\\n\\t\\t\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div',{staticClass:\"lastLogin\",attrs:{\"title\":_vm.userLastLoginTooltip}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.userLastLogin)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"},[(_vm.canEdit && !_vm.loading.all)?_c('div',{staticClass:\"toggleUserActions\"},[_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-rename\",\"title\":_vm.t('settings', 'Edit User'),\"aria-label\":_vm.t('settings', 'Edit User')},on:{\"click\":_vm.toggleEdit}})],1),_vm._v(\" \"),_c('div',{staticClass:\"userPopoverMenuWrapper\"},[_c('button',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideMenu),expression:\"hideMenu\"}],staticClass:\"icon-more\",attrs:{\"aria-label\":_vm.t('settings', 'Toggle user actions menu')},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleMenu.apply(null, arguments)}}}),_vm._v(\" \"),_c('div',{staticClass:\"popovermenu\",class:{ 'open': _vm.openedMenu },attrs:{\"aria-expanded\":_vm.openedMenu}},[_c('NcPopoverMenu',{attrs:{\"menu\":_vm.userActions}})],1)])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"feedback\",style:({opacity: _vm.feedbackMessage !== '' ? 1 : 0})},[_c('div',{staticClass:\"icon-checkmark\"}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.feedbackMessage)+\"\\n\\t\\t\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\r\n  - @copyright Copyright (c) 2019 Gary Kim <gary@garykim.dev>\r\n  -\r\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\r\n  - @author Gary Kim <gary@garykim.dev>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n  -\r\n  -->\r\n\r\n<template>\r\n\t<!-- Obfuscated user: Logged in user does not have permissions to see all of the data -->\r\n\t<div v-if=\"Object.keys(user).length ===1\" :data-id=\"user.id\" class=\"row\">\r\n\t\t<div :class=\"{'icon-loading-small': loading.delete || loading.disable || loading.wipe}\"\r\n\t\t\tclass=\"avatar\">\r\n\t\t\t<img v-if=\"!loading.delete && !loading.disable && !loading.wipe\"\r\n\t\t\t\t:src=\"generateAvatar(user.id, isDarkTheme)\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t\theight=\"32\"\r\n\t\t\t\twidth=\"32\">\r\n\t\t</div>\r\n\t\t<div class=\"name\">\r\n\t\t\t{{ user.id }}\r\n\t\t</div>\r\n\t\t<div class=\"obfuscated\">\r\n\t\t\t{{ t('settings','You do not have permissions to see the details of this user') }}\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<!-- User full data -->\r\n\t<UserRowSimple v-else-if=\"!editing\"\r\n\t\t:editing.sync=\"editing\"\r\n\t\t:feedback-message=\"feedbackMessage\"\r\n\t\t:groups=\"groups\"\r\n\t\t:languages=\"languages\"\r\n\t\t:loading=\"loading\"\r\n\t\t:opened-menu.sync=\"openedMenu\"\r\n\t\t:settings=\"settings\"\r\n\t\t:show-config=\"showConfig\"\r\n\t\t:sub-admins-groups=\"subAdminsGroups\"\r\n\t\t:user-actions=\"userActions\"\r\n\t\t:user=\"user\"\r\n\t\t:is-dark-theme=\"isDarkTheme\"\r\n\t\t:class=\"{'row--menu-opened': openedMenu}\" />\r\n\t<div v-else\r\n\t\t:class=\"{\r\n\t\t\t'disabled': loading.delete || loading.disable,\r\n\t\t\t'row--menu-opened': openedMenu\r\n\t\t}\"\r\n\t\t:data-id=\"user.id\"\r\n\t\tclass=\"row row--editable\">\r\n\t\t<div :class=\"{'icon-loading-small': loading.delete || loading.disable || loading.wipe}\"\r\n\t\t\tclass=\"avatar\">\r\n\t\t\t<img v-if=\"!loading.delete && !loading.disable && !loading.wipe\"\r\n\t\t\t\t:src=\"generateAvatar(user.id, isDarkTheme)\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t\theight=\"32\"\r\n\t\t\t\twidth=\"32\">\r\n\t\t</div>\r\n\t\t<!-- dirty hack to ellipsis on two lines -->\r\n\t\t<div v-if=\"user.backendCapabilities.setDisplayName\" class=\"displayName\">\r\n\t\t\t<form :class=\"{'icon-loading-small': loading.displayName}\"\r\n\t\t\t\tclass=\"displayName\"\r\n\t\t\t\t@submit.prevent=\"updateDisplayName\">\r\n\t\t\t\t<input :id=\"'displayName'+user.id+rand\"\r\n\t\t\t\t\tref=\"displayName\"\r\n\t\t\t\t\t:disabled=\"loading.displayName||loading.all\"\r\n\t\t\t\t\t:value=\"user.displayname\"\r\n\t\t\t\t\tautocapitalize=\"off\"\r\n\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\tautocorrect=\"off\"\r\n\t\t\t\t\tspellcheck=\"false\"\r\n\t\t\t\t\ttype=\"text\">\r\n\t\t\t\t<input class=\"icon-confirm\"\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tvalue=\"\">\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div v-else class=\"name\">\r\n\t\t\t{{ user.id }}\r\n\t\t\t<div class=\"displayName subtitle\">\r\n\t\t\t\t<div :title=\"user.displayname.length > 20 ? user.displayname : ''\" class=\"cellText\">\r\n\t\t\t\t\t{{ user.displayname }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<form v-if=\"settings.canChangePassword && user.backendCapabilities.setPassword\"\r\n\t\t\t:class=\"{'icon-loading-small': loading.password}\"\r\n\t\t\tclass=\"password\"\r\n\t\t\t@submit.prevent=\"updatePassword\">\r\n\t\t\t<input :id=\"'password'+user.id+rand\"\r\n\t\t\t\tref=\"password\"\r\n\t\t\t\t:disabled=\"loading.password || loading.all\"\r\n\t\t\t\t:minlength=\"minPasswordLength\"\r\n\t\t\t\tmaxlength=\"469\"\r\n\t\t\t\t:placeholder=\"t('settings', 'Add new password')\"\r\n\t\t\t\tautocapitalize=\"off\"\r\n\t\t\t\tautocomplete=\"new-password\"\r\n\t\t\t\tautocorrect=\"off\"\r\n\t\t\t\trequired\r\n\t\t\t\tspellcheck=\"false\"\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tvalue=\"\">\r\n\t\t\t<input class=\"icon-confirm\" type=\"submit\" value=\"\">\r\n\t\t</form>\r\n\t\t<div v-else />\r\n\t\t<form :class=\"{'icon-loading-small': loading.mailAddress}\"\r\n\t\t\tclass=\"mailAddress\"\r\n\t\t\t@submit.prevent=\"updateEmail\">\r\n\t\t\t<input :id=\"'mailAddress'+user.id+rand\"\r\n\t\t\t\tref=\"mailAddress\"\r\n\t\t\t\t:disabled=\"loading.mailAddress||loading.all\"\r\n\t\t\t\t:placeholder=\"t('settings', 'Add new email address')\"\r\n\t\t\t\t:value=\"user.email\"\r\n\t\t\t\tautocapitalize=\"off\"\r\n\t\t\t\tautocomplete=\"new-password\"\r\n\t\t\t\tautocorrect=\"off\"\r\n\t\t\t\tspellcheck=\"false\"\r\n\t\t\t\ttype=\"email\">\r\n\t\t\t<input class=\"icon-confirm\" type=\"submit\" value=\"\">\r\n\t\t</form>\r\n\t\t<div :class=\"{'icon-loading-small': loading.groups}\" class=\"groups\">\r\n\t\t\t<NcMultiselect :close-on-select=\"false\"\r\n\t\t\t\t:disabled=\"loading.groups||loading.all\"\r\n\t\t\t\t:limit=\"2\"\r\n\t\t\t\t:multiple=\"true\"\r\n\t\t\t\t:options=\"availableGroups\"\r\n\t\t\t\t:placeholder=\"t('settings', 'Add user to group')\"\r\n\t\t\t\t:tag-width=\"60\"\r\n\t\t\t\t:taggable=\"settings.isAdmin\"\r\n\t\t\t\t:value=\"userGroups\"\r\n\t\t\t\tclass=\"multiselect-vue\"\r\n\t\t\t\tlabel=\"name\"\r\n\t\t\t\ttag-placeholder=\"create\"\r\n\t\t\t\ttrack-by=\"id\"\r\n\t\t\t\t@remove=\"removeUserGroup\"\r\n\t\t\t\t@select=\"addUserGroup\"\r\n\t\t\t\t@tag=\"createGroup\">\r\n\t\t\t\t<span slot=\"noResult\">{{ t('settings', 'No results') }}</span>\r\n\t\t\t</NcMultiselect>\r\n\t\t</div>\r\n\t\t<div v-if=\"subAdminsGroups.length>0 && settings.isAdmin\"\r\n\t\t\t:class=\"{'icon-loading-small': loading.subadmins}\"\r\n\t\t\tclass=\"subadmins\">\r\n\t\t\t<NcMultiselect :close-on-select=\"false\"\r\n\t\t\t\t:disabled=\"loading.subadmins||loading.all\"\r\n\t\t\t\t:limit=\"2\"\r\n\t\t\t\t:multiple=\"true\"\r\n\t\t\t\t:options=\"subAdminsGroups\"\r\n\t\t\t\t:placeholder=\"t('settings', 'Set user as admin for')\"\r\n\t\t\t\t:tag-width=\"60\"\r\n\t\t\t\t:value=\"userSubAdminsGroups\"\r\n\t\t\t\tclass=\"multiselect-vue\"\r\n\t\t\t\tlabel=\"name\"\r\n\t\t\t\ttrack-by=\"id\"\r\n\t\t\t\t@remove=\"removeUserSubAdmin\"\r\n\t\t\t\t@select=\"addUserSubAdmin\">\r\n\t\t\t\t<span slot=\"noResult\">{{ t('settings', 'No results') }}</span>\r\n\t\t\t</NcMultiselect>\r\n\t\t</div>\r\n\t\t<div :title=\"usedSpace\"\r\n\t\t\t:class=\"{'icon-loading-small': loading.quota}\"\r\n\t\t\tclass=\"quota\">\r\n\t\t\t<NcMultiselect :allow-empty=\"false\"\r\n\t\t\t\t:disabled=\"loading.quota||loading.all\"\r\n\t\t\t\t:options=\"quotaOptions\"\r\n\t\t\t\t:placeholder=\"t('settings', 'Select user quota')\"\r\n\t\t\t\t:taggable=\"true\"\r\n\t\t\t\t:value=\"userQuota\"\r\n\t\t\t\tclass=\"multiselect-vue\"\r\n\t\t\t\tlabel=\"label\"\r\n\t\t\t\ttag-placeholder=\"create\"\r\n\t\t\t\ttrack-by=\"id\"\r\n\t\t\t\t@input=\"setUserQuota\"\r\n\t\t\t\t@tag=\"validateQuota\" />\r\n\t\t</div>\r\n\t\t<div v-if=\"showConfig.showLanguages\"\r\n\t\t\t:class=\"{'icon-loading-small': loading.languages}\"\r\n\t\t\tclass=\"languages\">\r\n\t\t\t<NcMultiselect :allow-empty=\"false\"\r\n\t\t\t\t:disabled=\"loading.languages||loading.all\"\r\n\t\t\t\t:options=\"languages\"\r\n\t\t\t\t:placeholder=\"t('settings', 'No language set')\"\r\n\t\t\t\t:value=\"userLanguage\"\r\n\t\t\t\tclass=\"multiselect-vue\"\r\n\t\t\t\tgroup-label=\"label\"\r\n\t\t\t\tgroup-values=\"languages\"\r\n\t\t\t\tlabel=\"name\"\r\n\t\t\t\ttrack-by=\"code\"\r\n\t\t\t\t@input=\"setUserLanguage\" />\r\n\t\t</div>\r\n\r\n\t\t<!-- don't show this on edit mode -->\r\n\t\t<div v-if=\"showConfig.showStoragePath || showConfig.showUserBackend\"\r\n\t\t\tclass=\"storageLocation\" />\r\n\t\t<div v-if=\"showConfig.showLastLogin\" />\r\n\r\n\t\t<div class=\"userActions\">\r\n\t\t\t<div v-if=\"!loading.all\"\r\n\t\t\t\tclass=\"toggleUserActions\">\r\n\t\t\t\t<NcActions>\r\n\t\t\t\t\t<NcActionButton icon=\"icon-checkmark\"\r\n\t\t\t\t\t\t:title=\"t('settings', 'Done')\"\r\n\t\t\t\t\t\t:aria-label=\"t('settings', 'Done')\"\r\n\t\t\t\t\t\t@click=\"editing = false\" />\r\n\t\t\t\t</NcActions>\r\n\t\t\t\t<div v-click-outside=\"hideMenu\" class=\"userPopoverMenuWrapper\">\r\n\t\t\t\t\t<button class=\"icon-more\"\r\n\t\t\t\t\t\t@click.prevent=\"toggleMenu\" />\r\n\t\t\t\t\t<div :class=\"{ 'open': openedMenu }\" class=\"popovermenu\">\r\n\t\t\t\t\t\t<NcPopoverMenu :menu=\"userActions\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div :style=\"{opacity: feedbackMessage !== '' ? 1 : 0}\"\r\n\t\t\t\tclass=\"feedback\">\r\n\t\t\t\t<div class=\"icon-checkmark\" />\r\n\t\t\t\t{{ feedbackMessage }}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport ClickOutside from 'vue-click-outside'\r\n\r\nimport {\r\n\tNcPopoverMenu,\r\n\tNcMultiselect,\r\n\tNcActions,\r\n\tNcActionButton,\r\n} from '@nextcloud/vue'\r\nimport UserRowSimple from './UserRowSimple'\r\nimport UserRowMixin from '../../mixins/UserRowMixin'\r\n\r\nexport default {\r\n\tname: 'UserRow',\r\n\tcomponents: {\r\n\t\tUserRowSimple,\r\n\t\tNcPopoverMenu,\r\n\t\tNcActions,\r\n\t\tNcActionButton,\r\n\t\tNcMultiselect,\r\n\t},\r\n\tdirectives: {\r\n\t\tClickOutside,\r\n\t},\r\n\tmixins: [UserRowMixin],\r\n\tprops: {\r\n\t\tuser: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({}),\r\n\t\t},\r\n\t\tgroups: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\tsubAdminsGroups: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\tquotaOptions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\tshowConfig: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({}),\r\n\t\t},\r\n\t\tlanguages: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\texternalActions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\tisDarkTheme: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\trand: parseInt(Math.random() * 1000),\r\n\t\t\topenedMenu: false,\r\n\t\t\tfeedbackMessage: '',\r\n\t\t\tediting: false,\r\n\t\t\tloading: {\r\n\t\t\t\tall: false,\r\n\t\t\t\tdisplayName: false,\r\n\t\t\t\tpassword: false,\r\n\t\t\t\tmailAddress: false,\r\n\t\t\t\tgroups: false,\r\n\t\t\t\tsubadmins: false,\r\n\t\t\t\tquota: false,\r\n\t\t\t\tdelete: false,\r\n\t\t\t\tdisable: false,\r\n\t\t\t\tlanguages: false,\r\n\t\t\t\twipe: false,\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t/* USER POPOVERMENU ACTIONS */\r\n\t\tuserActions() {\r\n\t\t\tconst actions = [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: 'icon-delete',\r\n\t\t\t\t\ttext: t('settings', 'Delete user'),\r\n\t\t\t\t\taction: this.deleteUser,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: 'icon-delete',\r\n\t\t\t\t\ttext: t('settings', 'Wipe all devices'),\r\n\t\t\t\t\taction: this.wipeUserDevices,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: this.user.enabled ? 'icon-close' : 'icon-add',\r\n\t\t\t\t\ttext: this.user.enabled ? t('settings', 'Disable user') : t('settings', 'Enable user'),\r\n\t\t\t\t\taction: this.enableDisableUser,\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\tif (this.user.email !== null && this.user.email !== '') {\r\n\t\t\t\tactions.push({\r\n\t\t\t\t\ticon: 'icon-mail',\r\n\t\t\t\t\ttext: t('settings', 'Resend welcome email'),\r\n\t\t\t\t\taction: this.sendWelcomeMail,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn actions.concat(this.externalActions)\r\n\t\t},\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t/* MENU HANDLING */\r\n\t\ttoggleMenu() {\r\n\t\t\tthis.openedMenu = !this.openedMenu\r\n\t\t},\r\n\t\thideMenu() {\r\n\t\t\tthis.openedMenu = false\r\n\t\t},\r\n\r\n\t\twipeUserDevices() {\r\n\t\t\tconst userid = this.user.id\r\n\t\t\tOC.dialogs.confirmDestructive(\r\n\t\t\t\tt('settings', 'In case of lost device or exiting the organization, this can remotely wipe the Nextcloud data from all devices associated with {userid}. Only works if the devices are connected to the internet.', { userid }),\r\n\t\t\t\tt('settings', 'Remote wipe of devices'),\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\r\n\t\t\t\t\tconfirm: t('settings', 'Wipe {userid}\\'s devices', { userid }),\r\n\t\t\t\t\tconfirmClasses: 'error',\r\n\t\t\t\t\tcancel: t('settings', 'Cancel'),\r\n\t\t\t\t},\r\n\t\t\t\t(result) => {\r\n\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\tthis.loading.wipe = true\r\n\t\t\t\t\t\tthis.loading.all = true\r\n\t\t\t\t\t\tthis.$store.dispatch('wipeUserDevices', userid)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tthis.loading.wipe = false\r\n\t\t\t\t\t\t\t\tthis.loading.all = false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\t\t},\r\n\r\n\t\tdeleteUser() {\r\n\t\t\tconst userid = this.user.id\r\n\t\t\tOC.dialogs.confirmDestructive(\r\n\t\t\t\tt('settings', 'Fully delete {userid}\\'s account including all their personal files, app data, etc.', { userid }),\r\n\t\t\t\tt('settings', 'Account deletion'),\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\r\n\t\t\t\t\tconfirm: t('settings', 'Delete {userid}\\'s account', { userid }),\r\n\t\t\t\t\tconfirmClasses: 'error',\r\n\t\t\t\t\tcancel: t('settings', 'Cancel'),\r\n\t\t\t\t},\r\n\t\t\t\t(result) => {\r\n\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\tthis.loading.delete = true\r\n\t\t\t\t\t\tthis.loading.all = true\r\n\t\t\t\t\t\treturn this.$store.dispatch('deleteUser', userid)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tthis.loading.delete = false\r\n\t\t\t\t\t\t\t\tthis.loading.all = false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\t\t},\r\n\r\n\t\tenableDisableUser() {\r\n\t\t\tthis.loading.delete = true\r\n\t\t\tthis.loading.all = true\r\n\t\t\tconst userid = this.user.id\r\n\t\t\tconst enabled = !this.user.enabled\r\n\t\t\treturn this.$store.dispatch('enableDisableUser', {\r\n\t\t\t\tuserid,\r\n\t\t\t\tenabled,\r\n\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.loading.delete = false\r\n\t\t\t\t\tthis.loading.all = false\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set user displayName\r\n\t\t *\r\n\t\t * @param {string} displayName The display name\r\n\t\t */\r\n\t\tupdateDisplayName() {\r\n\t\t\tconst displayName = this.$refs.displayName.value\r\n\t\t\tthis.loading.displayName = true\r\n\t\t\tthis.$store.dispatch('setUserData', {\r\n\t\t\t\tuserid: this.user.id,\r\n\t\t\t\tkey: 'displayname',\r\n\t\t\t\tvalue: displayName,\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.loading.displayName = false\r\n\t\t\t\tthis.$refs.displayName.value = displayName\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set user password\r\n\t\t *\r\n\t\t * @param {string} password The email address\r\n\t\t */\r\n\t\tupdatePassword() {\r\n\t\t\tconst password = this.$refs.password.value\r\n\t\t\tthis.loading.password = true\r\n\t\t\tthis.$store.dispatch('setUserData', {\r\n\t\t\t\tuserid: this.user.id,\r\n\t\t\t\tkey: 'password',\r\n\t\t\t\tvalue: password,\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.loading.password = false\r\n\t\t\t\tthis.$refs.password.value = '' // empty & show placeholder\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set user mailAddress\r\n\t\t *\r\n\t\t * @param {string} mailAddress The email address\r\n\t\t */\r\n\t\tupdateEmail() {\r\n\t\t\tconst mailAddress = this.$refs.mailAddress.value\r\n\t\t\tthis.loading.mailAddress = true\r\n\t\t\tthis.$store.dispatch('setUserData', {\r\n\t\t\t\tuserid: this.user.id,\r\n\t\t\t\tkey: 'email',\r\n\t\t\t\tvalue: mailAddress,\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.loading.mailAddress = false\r\n\t\t\t\tthis.$refs.mailAddress.value = mailAddress\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Create a new group and add user to it\r\n\t\t *\r\n\t\t * @param {string} gid Group id\r\n\t\t */\r\n\t\tasync createGroup(gid) {\r\n\t\t\tthis.loading = { groups: true, subadmins: true }\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('addGroup', gid)\r\n\t\t\t\tconst userid = this.user.id\r\n\t\t\t\tawait this.$store.dispatch('addUserGroup', { userid, gid })\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading = { groups: false, subadmins: false }\r\n\t\t\t}\r\n\t\t\treturn this.$store.getters.getGroups[this.groups.length]\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add user to group\r\n\t\t *\r\n\t\t * @param {object} group Group object\r\n\t\t */\r\n\t\tasync addUserGroup(group) {\r\n\t\t\tif (group.canAdd === false) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tthis.loading.groups = true\r\n\t\t\tconst userid = this.user.id\r\n\t\t\tconst gid = group.id\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('addUserGroup', { userid, gid })\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading.groups = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove user from group\r\n\t\t *\r\n\t\t * @param {object} group Group object\r\n\t\t */\r\n\t\tasync removeUserGroup(group) {\r\n\t\t\tif (group.canRemove === false) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\r\n\t\t\tthis.loading.groups = true\r\n\t\t\tconst userid = this.user.id\r\n\t\t\tconst gid = group.id\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('removeUserGroup', {\r\n\t\t\t\t\tuserid,\r\n\t\t\t\t\tgid,\r\n\t\t\t\t})\r\n\t\t\t\tthis.loading.groups = false\r\n\t\t\t\t// remove user from current list if current list is the removed group\r\n\t\t\t\tif (this.$route.params.selectedGroup === gid) {\r\n\t\t\t\t\tthis.$store.commit('deleteUser', userid)\r\n\t\t\t\t}\r\n\t\t\t} catch {\r\n\t\t\t\tthis.loading.groups = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add user to group\r\n\t\t *\r\n\t\t * @param {object} group Group object\r\n\t\t */\r\n\t\tasync addUserSubAdmin(group) {\r\n\t\t\tthis.loading.subadmins = true\r\n\t\t\tconst userid = this.user.id\r\n\t\t\tconst gid = group.id\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('addUserSubAdmin', {\r\n\t\t\t\t\tuserid,\r\n\t\t\t\t\tgid,\r\n\t\t\t\t})\r\n\t\t\t\tthis.loading.subadmins = false\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove user from group\r\n\t\t *\r\n\t\t * @param {object} group Group object\r\n\t\t */\r\n\t\tasync removeUserSubAdmin(group) {\r\n\t\t\tthis.loading.subadmins = true\r\n\t\t\tconst userid = this.user.id\r\n\t\t\tconst gid = group.id\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('removeUserSubAdmin', {\r\n\t\t\t\t\tuserid,\r\n\t\t\t\t\tgid,\r\n\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading.subadmins = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Dispatch quota set request\r\n\t\t *\r\n\t\t * @param {string | object} quota Quota in readable format '5 GB' or Object {id: '5 GB', label: '5GB'}\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tasync setUserQuota(quota = 'none') {\r\n\t\t\tthis.loading.quota = true\r\n\t\t\t// ensure we only send the preset id\r\n\t\t\tquota = quota.id ? quota.id : quota\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('setUserData', {\r\n\t\t\t\t\tuserid: this.user.id,\r\n\t\t\t\t\tkey: 'quota',\r\n\t\t\t\t\tvalue: quota,\r\n\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading.quota = false\r\n\t\t\t}\r\n\t\t\treturn quota\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Validate quota string to make sure it's a valid human file size\r\n\t\t *\r\n\t\t * @param {string} quota Quota in readable format '5 GB'\r\n\t\t * @return {Promise|boolean}\r\n\t\t */\r\n\t\tvalidateQuota(quota) {\r\n\t\t\t// only used for new presets sent through @Tag\r\n\t\t\tconst validQuota = OC.Util.computerFileSize(quota)\r\n\t\t\tif (validQuota !== null && validQuota >= 0) {\r\n\t\t\t\t// unify format output\r\n\t\t\t\treturn this.setUserQuota(OC.Util.humanFileSize(OC.Util.computerFileSize(quota)))\r\n\t\t\t}\r\n\t\t\t// if no valid do not change\r\n\t\t\treturn false\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Dispatch language set request\r\n\t\t *\r\n\t\t * @param {object} lang language object {code:'en', name:'English'}\r\n\t\t * @return {object}\r\n\t\t */\r\n\t\tasync setUserLanguage(lang) {\r\n\t\t\tthis.loading.languages = true\r\n\t\t\t// ensure we only send the preset id\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('setUserData', {\r\n\t\t\t\t\tuserid: this.user.id,\r\n\t\t\t\t\tkey: 'language',\r\n\t\t\t\t\tvalue: lang.code,\r\n\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading.languages = false\r\n\t\t\t}\r\n\t\t\treturn lang\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Dispatch new welcome mail request\r\n\t\t */\r\n\t\tsendWelcomeMail() {\r\n\t\t\tthis.loading.all = true\r\n\t\t\tthis.$store.dispatch('sendWelcomeMail', this.user.id)\r\n\t\t\t\t.then(success => {\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\t// Show feedback to indicate the success\r\n\t\t\t\t\t\tthis.feedbackMessage = t('setting', 'Welcome mail sent!')\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.feedbackMessage = ''\r\n\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loading.all = false\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t},\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t// Force menu to be above other rows\r\n\t.row--menu-opened {\r\n\t\tz-index: 1 !important;\r\n\t}\r\n\t.row::v-deep .multiselect__single {\r\n\t\tz-index: auto !important;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRow.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRow.vue?vue&type=style&index=0&id=dd76953c&prod&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRow.vue?vue&type=style&index=0&id=dd76953c&prod&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./UserRow.vue?vue&type=template&id=dd76953c&scoped=true&\"\nimport script from \"./UserRow.vue?vue&type=script&lang=js&\"\nexport * from \"./UserRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserRow.vue?vue&type=style&index=0&id=dd76953c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd76953c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (Object.keys(_vm.user).length ===1)?_c('div',{staticClass:\"row\",attrs:{\"data-id\":_vm.user.id}},[_c('div',{staticClass:\"avatar\",class:{'icon-loading-small': _vm.loading.delete || _vm.loading.disable || _vm.loading.wipe}},[(!_vm.loading.delete && !_vm.loading.disable && !_vm.loading.wipe)?_c('img',{attrs:{\"src\":_vm.generateAvatar(_vm.user.id, _vm.isDarkTheme),\"alt\":\"\",\"height\":\"32\",\"width\":\"32\"}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.user.id)+\"\\n\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"obfuscated\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('settings','You do not have permissions to see the details of this user'))+\"\\n\\t\")])]):(!_vm.editing)?_c('UserRowSimple',{class:{'row--menu-opened': _vm.openedMenu},attrs:{\"editing\":_vm.editing,\"feedback-message\":_vm.feedbackMessage,\"groups\":_vm.groups,\"languages\":_vm.languages,\"loading\":_vm.loading,\"opened-menu\":_vm.openedMenu,\"settings\":_vm.settings,\"show-config\":_vm.showConfig,\"sub-admins-groups\":_vm.subAdminsGroups,\"user-actions\":_vm.userActions,\"user\":_vm.user,\"is-dark-theme\":_vm.isDarkTheme},on:{\"update:editing\":function($event){_vm.editing=$event},\"update:openedMenu\":function($event){_vm.openedMenu=$event},\"update:opened-menu\":function($event){_vm.openedMenu=$event}}}):_c('div',{staticClass:\"row row--editable\",class:{\n\t\t'disabled': _vm.loading.delete || _vm.loading.disable,\n\t\t'row--menu-opened': _vm.openedMenu\n\t},attrs:{\"data-id\":_vm.user.id}},[_c('div',{staticClass:\"avatar\",class:{'icon-loading-small': _vm.loading.delete || _vm.loading.disable || _vm.loading.wipe}},[(!_vm.loading.delete && !_vm.loading.disable && !_vm.loading.wipe)?_c('img',{attrs:{\"src\":_vm.generateAvatar(_vm.user.id, _vm.isDarkTheme),\"alt\":\"\",\"height\":\"32\",\"width\":\"32\"}}):_vm._e()]),_vm._v(\" \"),(_vm.user.backendCapabilities.setDisplayName)?_c('div',{staticClass:\"displayName\"},[_c('form',{staticClass:\"displayName\",class:{'icon-loading-small': _vm.loading.displayName},on:{\"submit\":function($event){$event.preventDefault();return _vm.updateDisplayName.apply(null, arguments)}}},[_c('input',{ref:\"displayName\",attrs:{\"id\":'displayName'+_vm.user.id+_vm.rand,\"disabled\":_vm.loading.displayName||_vm.loading.all,\"autocapitalize\":\"off\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"spellcheck\":\"false\",\"type\":\"text\"},domProps:{\"value\":_vm.user.displayname}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})])]):_c('div',{staticClass:\"name\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.user.id)+\"\\n\\t\\t\"),_c('div',{staticClass:\"displayName subtitle\"},[_c('div',{staticClass:\"cellText\",attrs:{\"title\":_vm.user.displayname.length > 20 ? _vm.user.displayname : ''}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.user.displayname)+\"\\n\\t\\t\\t\")])])]),_vm._v(\" \"),(_vm.settings.canChangePassword && _vm.user.backendCapabilities.setPassword)?_c('form',{staticClass:\"password\",class:{'icon-loading-small': _vm.loading.password},on:{\"submit\":function($event){$event.preventDefault();return _vm.updatePassword.apply(null, arguments)}}},[_c('input',{ref:\"password\",attrs:{\"id\":'password'+_vm.user.id+_vm.rand,\"disabled\":_vm.loading.password || _vm.loading.all,\"minlength\":_vm.minPasswordLength,\"maxlength\":\"469\",\"placeholder\":_vm.t('settings', 'Add new password'),\"autocapitalize\":\"off\",\"autocomplete\":\"new-password\",\"autocorrect\":\"off\",\"required\":\"\",\"spellcheck\":\"false\",\"type\":\"password\",\"value\":\"\"}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})]):_c('div'),_vm._v(\" \"),_c('form',{staticClass:\"mailAddress\",class:{'icon-loading-small': _vm.loading.mailAddress},on:{\"submit\":function($event){$event.preventDefault();return _vm.updateEmail.apply(null, arguments)}}},[_c('input',{ref:\"mailAddress\",attrs:{\"id\":'mailAddress'+_vm.user.id+_vm.rand,\"disabled\":_vm.loading.mailAddress||_vm.loading.all,\"placeholder\":_vm.t('settings', 'Add new email address'),\"autocapitalize\":\"off\",\"autocomplete\":\"new-password\",\"autocorrect\":\"off\",\"spellcheck\":\"false\",\"type\":\"email\"},domProps:{\"value\":_vm.user.email}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"groups\",class:{'icon-loading-small': _vm.loading.groups}},[_c('NcMultiselect',{staticClass:\"multiselect-vue\",attrs:{\"close-on-select\":false,\"disabled\":_vm.loading.groups||_vm.loading.all,\"limit\":2,\"multiple\":true,\"options\":_vm.availableGroups,\"placeholder\":_vm.t('settings', 'Add user to group'),\"tag-width\":60,\"taggable\":_vm.settings.isAdmin,\"value\":_vm.userGroups,\"label\":\"name\",\"tag-placeholder\":\"create\",\"track-by\":\"id\"},on:{\"remove\":_vm.removeUserGroup,\"select\":_vm.addUserGroup,\"tag\":_vm.createGroup}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1),_vm._v(\" \"),(_vm.subAdminsGroups.length>0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subadmins\",class:{'icon-loading-small': _vm.loading.subadmins}},[_c('NcMultiselect',{staticClass:\"multiselect-vue\",attrs:{\"close-on-select\":false,\"disabled\":_vm.loading.subadmins||_vm.loading.all,\"limit\":2,\"multiple\":true,\"options\":_vm.subAdminsGroups,\"placeholder\":_vm.t('settings', 'Set user as admin for'),\"tag-width\":60,\"value\":_vm.userSubAdminsGroups,\"label\":\"name\",\"track-by\":\"id\"},on:{\"remove\":_vm.removeUserSubAdmin,\"select\":_vm.addUserSubAdmin}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"quota\",class:{'icon-loading-small': _vm.loading.quota},attrs:{\"title\":_vm.usedSpace}},[_c('NcMultiselect',{staticClass:\"multiselect-vue\",attrs:{\"allow-empty\":false,\"disabled\":_vm.loading.quota||_vm.loading.all,\"options\":_vm.quotaOptions,\"placeholder\":_vm.t('settings', 'Select user quota'),\"taggable\":true,\"value\":_vm.userQuota,\"label\":\"label\",\"tag-placeholder\":\"create\",\"track-by\":\"id\"},on:{\"input\":_vm.setUserQuota,\"tag\":_vm.validateQuota}})],1),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\",class:{'icon-loading-small': _vm.loading.languages}},[_c('NcMultiselect',{staticClass:\"multiselect-vue\",attrs:{\"allow-empty\":false,\"disabled\":_vm.loading.languages||_vm.loading.all,\"options\":_vm.languages,\"placeholder\":_vm.t('settings', 'No language set'),\"value\":_vm.userLanguage,\"group-label\":\"label\",\"group-values\":\"languages\",\"label\":\"name\",\"track-by\":\"code\"},on:{\"input\":_vm.setUserLanguage}})],1):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath || _vm.showConfig.showUserBackend)?_c('div',{staticClass:\"storageLocation\"}):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div'):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"},[(!_vm.loading.all)?_c('div',{staticClass:\"toggleUserActions\"},[_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-checkmark\",\"title\":_vm.t('settings', 'Done'),\"aria-label\":_vm.t('settings', 'Done')},on:{\"click\":function($event){_vm.editing = false}}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideMenu),expression:\"hideMenu\"}],staticClass:\"userPopoverMenuWrapper\"},[_c('button',{staticClass:\"icon-more\",on:{\"click\":function($event){$event.preventDefault();return _vm.toggleMenu.apply(null, arguments)}}}),_vm._v(\" \"),_c('div',{staticClass:\"popovermenu\",class:{ 'open': _vm.openedMenu }},[_c('NcPopoverMenu',{attrs:{\"menu\":_vm.userActions}})],1)])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"feedback\",style:({opacity: _vm.feedbackMessage !== '' ? 1 : 0})},[_c('div',{staticClass:\"icon-checkmark\"}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.feedbackMessage)+\"\\n\\t\\t\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\r\n  -\r\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n  -\r\n  -->\r\n\r\n<template>\r\n\t<div id=\"app-content\" class=\"user-list-grid\" @scroll.passive=\"onScroll\">\r\n\t\t<NcModal v-if=\"showConfig.showNewUserForm\" size=\"small\" @close=\"closeModal\">\r\n\t\t\t<form id=\"new-user\"\r\n\t\t\t\t:disabled=\"loading.all\"\r\n\t\t\t\tclass=\"modal__content\"\r\n\t\t\t\t@submit.prevent=\"createUser\">\r\n\t\t\t\t<h2>{{ t('settings','New user') }}</h2>\r\n\t\t\t\t<input id=\"newusername\"\r\n\t\t\t\t\tref=\"newusername\"\r\n\t\t\t\t\tv-model=\"newUser.id\"\r\n\t\t\t\t\t:disabled=\"settings.newUserGenerateUserID\"\r\n\t\t\t\t\t:placeholder=\"settings.newUserGenerateUserID\r\n\t\t\t\t\t\t? t('settings', 'Will be autogenerated')\r\n\t\t\t\t\t\t: t('settings', 'Username')\"\r\n\t\t\t\t\tautocapitalize=\"none\"\r\n\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\tautocorrect=\"off\"\r\n\t\t\t\t\tclass=\"modal__item\"\r\n\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\tpattern=\"[a-zA-Z0-9 _\\.@\\-']+\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\ttype=\"text\">\r\n\t\t\t\t<input id=\"newdisplayname\"\r\n\t\t\t\t\tv-model=\"newUser.displayName\"\r\n\t\t\t\t\t:placeholder=\"t('settings', 'Display name')\"\r\n\t\t\t\t\tautocapitalize=\"none\"\r\n\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\tautocorrect=\"off\"\r\n\t\t\t\t\tclass=\"modal__item\"\r\n\t\t\t\t\tname=\"displayname\"\r\n\t\t\t\t\ttype=\"text\">\r\n\t\t\t\t<input id=\"newuserpassword\"\r\n\t\t\t\t\tref=\"newuserpassword\"\r\n\t\t\t\t\tv-model=\"newUser.password\"\r\n\t\t\t\t\t:minlength=\"minPasswordLength\"\r\n\t\t\t\t\t:maxlength=\"469\"\r\n\t\t\t\t\t:placeholder=\"t('settings', 'Password')\"\r\n\t\t\t\t\t:required=\"newUser.mailAddress===''\"\r\n\t\t\t\t\tautocapitalize=\"none\"\r\n\t\t\t\t\tautocomplete=\"new-password\"\r\n\t\t\t\t\tautocorrect=\"off\"\r\n\t\t\t\t\tclass=\"modal__item\"\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\ttype=\"password\">\r\n\t\t\t\t<input id=\"newemail\"\r\n\t\t\t\t\tv-model=\"newUser.mailAddress\"\r\n\t\t\t\t\t:placeholder=\"t('settings', 'Email')\"\r\n\t\t\t\t\t:required=\"newUser.password==='' || settings.newUserRequireEmail\"\r\n\t\t\t\t\tautocapitalize=\"none\"\r\n\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\tautocorrect=\"off\"\r\n\t\t\t\t\tclass=\"modal__item\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\ttype=\"email\">\r\n\t\t\t\t<div class=\"groups modal__item\">\r\n\t\t\t\t\t<!-- hidden input trick for vanilla html5 form validation -->\r\n\t\t\t\t\t<input v-if=\"!settings.isAdmin\"\r\n\t\t\t\t\t\tid=\"newgroups\"\r\n\t\t\t\t\t\t:class=\"{'icon-loading-small': loading.groups}\"\r\n\t\t\t\t\t\t:required=\"!settings.isAdmin\"\r\n\t\t\t\t\t\t:value=\"newUser.groups\"\r\n\t\t\t\t\t\ttabindex=\"-1\"\r\n\t\t\t\t\t\ttype=\"text\">\r\n\t\t\t\t\t<NcMultiselect v-model=\"newUser.groups\"\r\n\t\t\t\t\t\t:close-on-select=\"false\"\r\n\t\t\t\t\t\t:disabled=\"loading.groups||loading.all\"\r\n\t\t\t\t\t\t:multiple=\"true\"\r\n\t\t\t\t\t\t:options=\"canAddGroups\"\r\n\t\t\t\t\t\t:placeholder=\"t('settings', 'Add user to group')\"\r\n\t\t\t\t\t\t:tag-width=\"60\"\r\n\t\t\t\t\t\t:taggable=\"true\"\r\n\t\t\t\t\t\tclass=\"multiselect-vue\"\r\n\t\t\t\t\t\tlabel=\"name\"\r\n\t\t\t\t\t\ttag-placeholder=\"create\"\r\n\t\t\t\t\t\ttrack-by=\"id\"\r\n\t\t\t\t\t\t@tag=\"createGroup\">\r\n\t\t\t\t\t\t<!-- If user is not admin, he is a subadmin.\r\n\t\t\t\t\t\t\tSubadmins can't create users outside their groups\r\n\t\t\t\t\t\t\tTherefore, empty select is forbidden -->\r\n\t\t\t\t\t\t<span slot=\"noResult\">{{ t('settings', 'No results') }}</span>\r\n\t\t\t\t\t</NcMultiselect>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"subAdminsGroups.length>0 && settings.isAdmin\"\r\n\t\t\t\t\tclass=\"subadmins modal__item\">\r\n\t\t\t\t\t<NcMultiselect v-model=\"newUser.subAdminsGroups\"\r\n\t\t\t\t\t\t:close-on-select=\"false\"\r\n\t\t\t\t\t\t:multiple=\"true\"\r\n\t\t\t\t\t\t:options=\"subAdminsGroups\"\r\n\t\t\t\t\t\t:placeholder=\"t('settings', 'Set user as admin for')\"\r\n\t\t\t\t\t\t:tag-width=\"60\"\r\n\t\t\t\t\t\tclass=\"multiselect-vue\"\r\n\t\t\t\t\t\tlabel=\"name\"\r\n\t\t\t\t\t\ttrack-by=\"id\">\r\n\t\t\t\t\t\t<span slot=\"noResult\">{{ t('settings', 'No results') }}</span>\r\n\t\t\t\t\t</NcMultiselect>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"quota modal__item\">\r\n\t\t\t\t\t<NcMultiselect v-model=\"newUser.quota\"\r\n\t\t\t\t\t\t:allow-empty=\"false\"\r\n\t\t\t\t\t\t:options=\"quotaOptions\"\r\n\t\t\t\t\t\t:placeholder=\"t('settings', 'Select user quota')\"\r\n\t\t\t\t\t\t:taggable=\"true\"\r\n\t\t\t\t\t\tclass=\"multiselect-vue\"\r\n\t\t\t\t\t\tlabel=\"label\"\r\n\t\t\t\t\t\ttrack-by=\"id\"\r\n\t\t\t\t\t\t@tag=\"validateQuota\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"showConfig.showLanguages\" class=\"languages modal__item\">\r\n\t\t\t\t\t<NcMultiselect v-model=\"newUser.language\"\r\n\t\t\t\t\t\t:allow-empty=\"false\"\r\n\t\t\t\t\t\t:options=\"languages\"\r\n\t\t\t\t\t\t:placeholder=\"t('settings', 'Default language')\"\r\n\t\t\t\t\t\tclass=\"multiselect-vue\"\r\n\t\t\t\t\t\tgroup-label=\"label\"\r\n\t\t\t\t\t\tgroup-values=\"languages\"\r\n\t\t\t\t\t\tlabel=\"name\"\r\n\t\t\t\t\t\ttrack-by=\"code\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"showConfig.showStoragePath\" class=\"storageLocation\" />\r\n\t\t\t\t<div v-if=\"showConfig.showUserBackend\" class=\"userBackend\" />\r\n\t\t\t\t<div v-if=\"showConfig.showLastLogin\" class=\"lastLogin\" />\r\n\t\t\t\t<div class=\"user-actions\">\r\n\t\t\t\t\t<NcButton id=\"newsubmit\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tnative-type=\"submit\"\r\n\t\t\t\t\t\tvalue=\"\">\r\n\t\t\t\t\t\t{{ t('settings', 'Add a new user') }}\r\n\t\t\t\t\t</NcButton>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</NcModal>\r\n\t\t<div id=\"grid-header\"\r\n\t\t\t:class=\"{'sticky': scrolled && !showConfig.showNewUserForm}\"\r\n\t\t\tclass=\"row\">\r\n\t\t\t<div id=\"headerAvatar\" class=\"avatar\" />\r\n\t\t\t<div id=\"headerName\" class=\"name\">\r\n\t\t\t\t<div class=\"subtitle\">\r\n\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t{{ t('settings', 'Display name') }}\r\n\t\t\t\t\t</strong>\r\n\t\t\t\t</div>\r\n\t\t\t\t{{ t('settings', 'Username') }}\r\n\t\t\t</div>\r\n\t\t\t<div id=\"headerPassword\" class=\"password\">\r\n\t\t\t\t{{ t('settings', 'Password') }}\r\n\t\t\t</div>\r\n\t\t\t<div id=\"headerAddress\" class=\"mailAddress\">\r\n\t\t\t\t{{ t('settings', 'Email') }}\r\n\t\t\t</div>\r\n\t\t\t<div id=\"headerGroups\" class=\"groups\">\r\n\t\t\t\t{{ t('settings', 'Groups') }}\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"subAdminsGroups.length>0 && settings.isAdmin\"\r\n\t\t\t\tid=\"headerSubAdmins\"\r\n\t\t\t\tclass=\"subadmins\">\r\n\t\t\t\t{{ t('settings', 'Group admin for') }}\r\n\t\t\t</div>\r\n\t\t\t<div id=\"headerQuota\" class=\"quota\">\r\n\t\t\t\t{{ t('settings', 'Quota') }}\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"showConfig.showLanguages\"\r\n\t\t\t\tid=\"headerLanguages\"\r\n\t\t\t\tclass=\"languages\">\r\n\t\t\t\t{{ t('settings', 'Language') }}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div v-if=\"showConfig.showUserBackend || showConfig.showStoragePath\"\r\n\t\t\t\tclass=\"headerUserBackend userBackend\">\r\n\t\t\t\t<div v-if=\"showConfig.showUserBackend\" class=\"userBackend\">\r\n\t\t\t\t\t{{ t('settings', 'User backend') }}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"showConfig.showStoragePath\"\r\n\t\t\t\t\tclass=\"subtitle storageLocation\">\r\n\t\t\t\t\t{{ t('settings', 'Storage location') }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"showConfig.showLastLogin\"\r\n\t\t\t\tclass=\"headerLastLogin lastLogin\">\r\n\t\t\t\t{{ t('settings', 'Last login') }}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"userActions\" />\r\n\t\t</div>\r\n\r\n\t\t<user-row v-for=\"user in filteredUsers\"\r\n\t\t\t:key=\"user.id\"\r\n\t\t\t:external-actions=\"externalActions\"\r\n\t\t\t:groups=\"groups\"\r\n\t\t\t:languages=\"languages\"\r\n\t\t\t:quota-options=\"quotaOptions\"\r\n\t\t\t:settings=\"settings\"\r\n\t\t\t:show-config=\"showConfig\"\r\n\t\t\t:sub-admins-groups=\"subAdminsGroups\"\r\n\t\t\t:user=\"user\"\r\n\t\t\t:is-dark-theme=\"isDarkTheme\" />\r\n\t\t<InfiniteLoading ref=\"infiniteLoading\" @infinite=\"infiniteHandler\">\r\n\t\t\t<div slot=\"spinner\">\r\n\t\t\t\t<div class=\"users-icon-loading icon-loading\" />\r\n\t\t\t</div>\r\n\t\t\t<div slot=\"no-more\">\r\n\t\t\t\t<div class=\"users-list-end\" />\r\n\t\t\t</div>\r\n\t\t\t<div slot=\"no-results\">\r\n\t\t\t\t<div id=\"emptycontent\">\r\n\t\t\t\t\t<div class=\"icon-contacts-dark\" />\r\n\t\t\t\t\t<h2>{{ t('settings', 'No users in here') }}</h2>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</InfiniteLoading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { subscribe, unsubscribe } from '@nextcloud/event-bus'\r\nimport InfiniteLoading from 'vue-infinite-loading'\r\nimport Vue from 'vue'\r\nimport NcModal from '@nextcloud/vue/dist/Components/NcModal'\r\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton'\r\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\r\n\r\nimport userRow from './UserList/UserRow'\r\n\r\nconst unlimitedQuota = {\r\n\tid: 'none',\r\n\tlabel: t('settings', 'Unlimited'),\r\n}\r\nconst defaultQuota = {\r\n\tid: 'default',\r\n\tlabel: t('settings', 'Default quota'),\r\n}\r\nconst newUser = {\r\n\tid: '',\r\n\tdisplayName: '',\r\n\tpassword: '',\r\n\tmailAddress: '',\r\n\tgroups: [],\r\n\tsubAdminsGroups: [],\r\n\tquota: defaultQuota,\r\n\tlanguage: {\r\n\t\tcode: 'en',\r\n\t\tname: t('settings', 'Default language'),\r\n\t},\r\n}\r\n\r\nexport default {\r\n\tname: 'UserList',\r\n\tcomponents: {\r\n\t\tNcModal,\r\n\t\tuserRow,\r\n\t\tNcMultiselect,\r\n\t\tInfiniteLoading,\r\n\t\tNcButton,\r\n\t},\r\n\tprops: {\r\n\t\tusers: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\tshowConfig: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tselectedGroup: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null,\r\n\t\t},\r\n\t\texternalActions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tunlimitedQuota,\r\n\t\t\tdefaultQuota,\r\n\t\t\tloading: {\r\n\t\t\t\tall: false,\r\n\t\t\t\tgroups: false,\r\n\t\t\t},\r\n\t\t\tscrolled: false,\r\n\t\t\tsearchQuery: '',\r\n\t\t\tnewUser: Object.assign({}, newUser),\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tsettings() {\r\n\t\t\treturn this.$store.getters.getServerData\r\n\t\t},\r\n\t\tselectedGroupDecoded() {\r\n\t\t\treturn decodeURIComponent(this.selectedGroup)\r\n\t\t},\r\n\t\tfilteredUsers() {\r\n\t\t\tif (this.selectedGroup === 'disabled') {\r\n\t\t\t\treturn this.users.filter(user => user.enabled === false)\r\n\t\t\t}\r\n\t\t\tif (!this.settings.isAdmin) {\r\n\t\t\t\t// we don't want subadmins to edit themselves\r\n\t\t\t\treturn this.users.filter(user => user.enabled !== false)\r\n\t\t\t}\r\n\t\t\treturn this.users.filter(user => user.enabled !== false)\r\n\t\t},\r\n\t\tgroups() {\r\n\t\t\t// data provided php side + remove the disabled group\r\n\t\t\treturn this.$store.getters.getGroups\r\n\t\t\t\t.filter(group => group.id !== 'disabled')\r\n\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name))\r\n\t\t},\r\n\t\tcanAddGroups() {\r\n\t\t\t// disabled if no permission to add new users to group\r\n\t\t\treturn this.groups.map(group => {\r\n\t\t\t\t// clone object because we don't want\r\n\t\t\t\t// to edit the original groups\r\n\t\t\t\tgroup = Object.assign({}, group)\r\n\t\t\t\tgroup.$isDisabled = group.canAdd === false\r\n\t\t\t\treturn group\r\n\t\t\t})\r\n\t\t},\r\n\t\tsubAdminsGroups() {\r\n\t\t\t// data provided php side\r\n\t\t\treturn this.$store.getters.getSubadminGroups\r\n\t\t},\r\n\t\tquotaOptions() {\r\n\t\t\t// convert the preset array into objects\r\n\t\t\tconst quotaPreset = this.settings.quotaPreset.reduce((acc, cur) => acc.concat({\r\n\t\t\t\tid: cur,\r\n\t\t\t\tlabel: cur,\r\n\t\t\t}), [])\r\n\t\t\t// add default presets\r\n\t\t\tif (this.settings.allowUnlimitedQuota) {\r\n\t\t\t\tquotaPreset.unshift(this.unlimitedQuota)\r\n\t\t\t}\r\n\t\t\tquotaPreset.unshift(this.defaultQuota)\r\n\t\t\treturn quotaPreset\r\n\t\t},\r\n\t\tminPasswordLength() {\r\n\t\t\treturn this.$store.getters.getPasswordPolicyMinLength\r\n\t\t},\r\n\t\tusersOffset() {\r\n\t\t\treturn this.$store.getters.getUsersOffset\r\n\t\t},\r\n\t\tusersLimit() {\r\n\t\t\treturn this.$store.getters.getUsersLimit\r\n\t\t},\r\n\t\tusersCount() {\r\n\t\t\treturn this.users.length\r\n\t\t},\r\n\r\n\t\t/* LANGUAGES */\r\n\t\tlanguages() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: t('settings', 'Common languages'),\r\n\t\t\t\t\tlanguages: this.settings.languages.commonLanguages,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: t('settings', 'Other languages'),\r\n\t\t\t\t\tlanguages: this.settings.languages.otherLanguages,\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t},\r\n\t\tisDarkTheme() {\r\n\t\t\treturn window.getComputedStyle(this.$el)\r\n\t\t\t\t.getPropertyValue('--background-invert-if-dark') === 'invert(100%)'\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\t// watch url change and group select\r\n\t\tselectedGroup(val, old) {\r\n\t\t\t// if selected is the disabled group but it's empty\r\n\t\t\tthis.redirectIfDisabled()\r\n\t\t\tthis.$store.commit('resetUsers')\r\n\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\r\n\t\t\tthis.setNewUserDefaultGroup(val)\r\n\t\t},\r\n\r\n\t\t// make sure the infiniteLoading state is changed if we manually\r\n\t\t// add/remove data from the store\r\n\t\tusersCount(val, old) {\r\n\t\t\t// deleting the last user, reset the list\r\n\t\t\tif (val === 0 && old === 1) {\r\n\t\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\r\n\t\t\t\t// adding the first user, warn the infiniteLoader that\r\n\t\t\t\t// the list is not empty anymore (we don't fetch the newly\r\n\t\t\t\t// added user as we already have all the info we need)\r\n\t\t\t} else if (val === 1 && old === 0) {\r\n\t\t\t\tthis.$refs.infiniteLoading.stateChanger.loaded()\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\r\n\tmounted() {\r\n\t\tif (!this.settings.canChangePassword) {\r\n\t\t\tOC.Notification.showTemporary(t('settings', 'Password change is disabled because the master key is disabled'))\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Reset and init new user form\r\n\t\t */\r\n\t\tthis.resetForm()\r\n\r\n\t\t/**\r\n\t\t * Register search\r\n\t\t */\r\n\t\tsubscribe('nextcloud:unified-search.search', this.search)\r\n\t\tsubscribe('nextcloud:unified-search.reset', this.resetSearch)\r\n\r\n\t\t/**\r\n\t\t * If disabled group but empty, redirect\r\n\t\t */\r\n\t\tthis.redirectIfDisabled()\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\tunsubscribe('nextcloud:unified-search.search', this.search)\r\n\t\tunsubscribe('nextcloud:unified-search.reset', this.resetSearch)\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tonScroll(event) {\r\n\t\t\tthis.scrolled = event.target.scrollTo > 0\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Validate quota string to make sure it's a valid human file size\r\n\t\t *\r\n\t\t * @param {string} quota Quota in readable format '5 GB'\r\n\t\t * @return {object}\r\n\t\t */\r\n\t\tvalidateQuota(quota) {\r\n\t\t\t// only used for new presets sent through @Tag\r\n\t\t\tconst validQuota = OC.Util.computerFileSize(quota)\r\n\t\t\tif (validQuota !== null && validQuota >= 0) {\r\n\t\t\t\t// unify format output\r\n\t\t\t\tquota = OC.Util.humanFileSize(OC.Util.computerFileSize(quota))\r\n\t\t\t\tthis.newUser.quota = { id: quota, label: quota }\r\n\t\t\t\treturn this.newUser.quota\r\n\t\t\t}\r\n\t\t\t// Default is unlimited\r\n\t\t\tthis.newUser.quota = this.quotaOptions[0]\r\n\t\t\treturn this.quotaOptions[0]\r\n\t\t},\r\n\r\n\t\tinfiniteHandler($state) {\r\n\t\t\tthis.$store.dispatch('getUsers', {\r\n\t\t\t\toffset: this.usersOffset,\r\n\t\t\t\tlimit: this.usersLimit,\r\n\t\t\t\tgroup: this.selectedGroup !== 'disabled' ? this.selectedGroup : '',\r\n\t\t\t\tsearch: this.searchQuery,\r\n\t\t\t})\r\n\t\t\t\t.then((usersCount) => {\r\n\t\t\t\t\tif (usersCount > 0) {\r\n\t\t\t\t\t\t$state.loaded()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (usersCount < this.usersLimit) {\r\n\t\t\t\t\t\t$state.complete()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\t/* SEARCH */\r\n\t\tsearch({ query }) {\r\n\t\t\tthis.searchQuery = query\r\n\t\t\tthis.$store.commit('resetUsers')\r\n\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\r\n\t\t},\r\n\t\tresetSearch() {\r\n\t\t\tthis.search({ query: '' })\r\n\t\t},\r\n\r\n\t\tresetForm() {\r\n\t\t\t// revert form to original state\r\n\t\t\tthis.newUser = Object.assign({}, newUser)\r\n\r\n\t\t\t/**\r\n\t\t\t * Init default language from server data. The use of this.settings\r\n\t\t\t * requires a computed variable, which break the v-model binding of the form,\r\n\t\t\t * this is a much easier solution than getter and setter on a computed var\r\n\t\t\t */\r\n\t\t\tif (this.settings.defaultLanguage) {\r\n\t\t\t\tVue.set(this.newUser.language, 'code', this.settings.defaultLanguage)\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * In case the user directly loaded the user list within a group\r\n\t\t\t * the watch won't be triggered. We need to initialize it.\r\n\t\t\t */\r\n\t\t\tthis.setNewUserDefaultGroup(this.selectedGroup)\r\n\r\n\t\t\tthis.loading.all = false\r\n\t\t},\r\n\t\tcreateUser() {\r\n\t\t\tthis.loading.all = true\r\n\t\t\tthis.$store.dispatch('addUser', {\r\n\t\t\t\tuserid: this.newUser.id,\r\n\t\t\t\tpassword: this.newUser.password,\r\n\t\t\t\tdisplayName: this.newUser.displayName,\r\n\t\t\t\temail: this.newUser.mailAddress,\r\n\t\t\t\tgroups: this.newUser.groups.map(group => group.id),\r\n\t\t\t\tsubadmin: this.newUser.subAdminsGroups.map(group => group.id),\r\n\t\t\t\tquota: this.newUser.quota.id,\r\n\t\t\t\tlanguage: this.newUser.language.code,\r\n\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.resetForm()\r\n\t\t\t\t\tthis.$refs.newusername.focus()\r\n\t\t\t\t\tthis.closeModal()\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tthis.loading.all = false\r\n\t\t\t\t\tif (error.response && error.response.data && error.response.data.ocs && error.response.data.ocs.meta) {\r\n\t\t\t\t\t\tconst statuscode = error.response.data.ocs.meta.statuscode\r\n\t\t\t\t\t\tif (statuscode === 102) {\r\n\t\t\t\t\t\t\t// wrong username\r\n\t\t\t\t\t\t\tthis.$refs.newusername.focus()\r\n\t\t\t\t\t\t} else if (statuscode === 107) {\r\n\t\t\t\t\t\t\t// wrong password\r\n\t\t\t\t\t\t\tthis.$refs.newuserpassword.focus()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tsetNewUserDefaultGroup(value) {\r\n\t\t\tif (value && value.length > 0) {\r\n\t\t\t\t// setting new user default group to the current selected one\r\n\t\t\t\tconst currentGroup = this.groups.find(group => group.id === value)\r\n\t\t\t\tif (currentGroup) {\r\n\t\t\t\t\tthis.newUser.groups = [currentGroup]\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// fallback, empty selected group\r\n\t\t\tthis.newUser.groups = []\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Create a new group\r\n\t\t *\r\n\t\t * @param {string} gid Group id\r\n\t\t * @return {Promise}\r\n\t\t */\r\n\t\tcreateGroup(gid) {\r\n\t\t\tthis.loading.groups = true\r\n\t\t\tthis.$store.dispatch('addGroup', gid)\r\n\t\t\t\t.then((group) => {\r\n\t\t\t\t\tthis.newUser.groups.push(this.groups.find(group => group.id === gid))\r\n\t\t\t\t\tthis.loading.groups = false\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.loading.groups = false\r\n\t\t\t\t})\r\n\t\t\treturn this.$store.getters.getGroups[this.groups.length]\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * If the selected group is the disabled group but the count is 0\r\n\t\t * redirect to the all users page.\r\n\t\t * we only check for 0 because we don't have the count on ldap\r\n\t\t * and we therefore set the usercount to -1 in this specific case\r\n\t\t */\r\n\t\tredirectIfDisabled() {\r\n\t\t\tconst allGroups = this.$store.getters.getGroups\r\n\t\t\tif (this.selectedGroup === 'disabled'\r\n\t\t\t\t\t\t&& allGroups.findIndex(group => group.id === 'disabled' && group.usercount === 0) > -1) {\r\n\t\t\t\t// disabled group is empty, redirection to all users\r\n\t\t\t\tthis.$router.push({ name: 'users' })\r\n\t\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseModal() {\r\n\t\t\t// eslint-disable-next-line vue/no-mutating-props\r\n\t\t\tthis.showConfig.showNewUserForm = false\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n<style scoped>\r\n\t.modal-wrapper {\r\n\t\tmargin: 2vh 0;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\t.modal__content {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 20px;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.modal__item {\r\n\t\tmargin-bottom: 16px;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.modal__item:not(:focus):not(:active) {\r\n\t\tborder-color: var(--color-border-dark);\r\n\t}\r\n\t.modal__item::v-deep .multiselect {\r\n\t\twidth: 100%;\r\n\t}\r\n\t.user-actions {\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\t.modal__content::v-deep .multiselect__single {\r\n\t\ttext-align: left;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.modal__content::v-deep .multiselect__content-wrapper {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.row::v-deep .multiselect__single {\r\n\t\tz-index: auto !important;\r\n\t}\r\n\r\n\t/* fake input for groups validation */\r\n\tinput#newgroups {\r\n\t\tposition: absolute;\r\n\t\topacity: 0;\r\n\t\t/* The \"hidden\" input is behind the Multiselect, so in general it does\r\n\t\t * not receives clicks. However, with Firefox, after the validation\r\n\t\t * fails, it will receive the first click done on it, so its width needs\r\n\t\t * to be set to 0 to prevent that (\"pointer-events: none\" does not\r\n\t\t * prevent it). */\r\n\t\twidth: 0;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=09961579&prod&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=09961579&prod&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./UserList.vue?vue&type=template&id=09961579&scoped=true&\"\nimport script from \"./UserList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserList.vue?vue&type=style&index=0&id=09961579&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09961579\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-list-grid\",attrs:{\"id\":\"app-content\"},on:{\"&scroll\":function($event){return _vm.onScroll.apply(null, arguments)}}},[(_vm.showConfig.showNewUserForm)?_c('NcModal',{attrs:{\"size\":\"small\"},on:{\"close\":_vm.closeModal}},[_c('form',{staticClass:\"modal__content\",attrs:{\"id\":\"new-user\",\"disabled\":_vm.loading.all},on:{\"submit\":function($event){$event.preventDefault();return _vm.createUser.apply(null, arguments)}}},[_c('h2',[_vm._v(_vm._s(_vm.t('settings','New user')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.id),expression:\"newUser.id\"}],ref:\"newusername\",staticClass:\"modal__item\",attrs:{\"id\":\"newusername\",\"disabled\":_vm.settings.newUserGenerateUserID,\"placeholder\":_vm.settings.newUserGenerateUserID\n\t\t\t\t\t? _vm.t('settings', 'Will be autogenerated')\n\t\t\t\t\t: _vm.t('settings', 'Username'),\"autocapitalize\":\"none\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"name\":\"username\",\"pattern\":\"[a-zA-Z0-9 _\\\\.@\\\\-']+\",\"required\":\"\",\"type\":\"text\"},domProps:{\"value\":(_vm.newUser.id)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newUser, \"id\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.displayName),expression:\"newUser.displayName\"}],staticClass:\"modal__item\",attrs:{\"id\":\"newdisplayname\",\"placeholder\":_vm.t('settings', 'Display name'),\"autocapitalize\":\"none\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"name\":\"displayname\",\"type\":\"text\"},domProps:{\"value\":(_vm.newUser.displayName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newUser, \"displayName\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.password),expression:\"newUser.password\"}],ref:\"newuserpassword\",staticClass:\"modal__item\",attrs:{\"id\":\"newuserpassword\",\"minlength\":_vm.minPasswordLength,\"maxlength\":469,\"placeholder\":_vm.t('settings', 'Password'),\"required\":_vm.newUser.mailAddress==='',\"autocapitalize\":\"none\",\"autocomplete\":\"new-password\",\"autocorrect\":\"off\",\"name\":\"password\",\"type\":\"password\"},domProps:{\"value\":(_vm.newUser.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newUser, \"password\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.mailAddress),expression:\"newUser.mailAddress\"}],staticClass:\"modal__item\",attrs:{\"id\":\"newemail\",\"placeholder\":_vm.t('settings', 'Email'),\"required\":_vm.newUser.password==='' || _vm.settings.newUserRequireEmail,\"autocapitalize\":\"none\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"name\":\"email\",\"type\":\"email\"},domProps:{\"value\":(_vm.newUser.mailAddress)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newUser, \"mailAddress\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"groups modal__item\"},[(!_vm.settings.isAdmin)?_c('input',{class:{'icon-loading-small': _vm.loading.groups},attrs:{\"id\":\"newgroups\",\"required\":!_vm.settings.isAdmin,\"tabindex\":\"-1\",\"type\":\"text\"},domProps:{\"value\":_vm.newUser.groups}}):_vm._e(),_vm._v(\" \"),_c('NcMultiselect',{staticClass:\"multiselect-vue\",attrs:{\"close-on-select\":false,\"disabled\":_vm.loading.groups||_vm.loading.all,\"multiple\":true,\"options\":_vm.canAddGroups,\"placeholder\":_vm.t('settings', 'Add user to group'),\"tag-width\":60,\"taggable\":true,\"label\":\"name\",\"tag-placeholder\":\"create\",\"track-by\":\"id\"},on:{\"tag\":_vm.createGroup},model:{value:(_vm.newUser.groups),callback:function ($$v) {_vm.$set(_vm.newUser, \"groups\", $$v)},expression:\"newUser.groups\"}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1),_vm._v(\" \"),(_vm.subAdminsGroups.length>0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subadmins modal__item\"},[_c('NcMultiselect',{staticClass:\"multiselect-vue\",attrs:{\"close-on-select\":false,\"multiple\":true,\"options\":_vm.subAdminsGroups,\"placeholder\":_vm.t('settings', 'Set user as admin for'),\"tag-width\":60,\"label\":\"name\",\"track-by\":\"id\"},model:{value:(_vm.newUser.subAdminsGroups),callback:function ($$v) {_vm.$set(_vm.newUser, \"subAdminsGroups\", $$v)},expression:\"newUser.subAdminsGroups\"}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"quota modal__item\"},[_c('NcMultiselect',{staticClass:\"multiselect-vue\",attrs:{\"allow-empty\":false,\"options\":_vm.quotaOptions,\"placeholder\":_vm.t('settings', 'Select user quota'),\"taggable\":true,\"label\":\"label\",\"track-by\":\"id\"},on:{\"tag\":_vm.validateQuota},model:{value:(_vm.newUser.quota),callback:function ($$v) {_vm.$set(_vm.newUser, \"quota\", $$v)},expression:\"newUser.quota\"}})],1),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages modal__item\"},[_c('NcMultiselect',{staticClass:\"multiselect-vue\",attrs:{\"allow-empty\":false,\"options\":_vm.languages,\"placeholder\":_vm.t('settings', 'Default language'),\"group-label\":\"label\",\"group-values\":\"languages\",\"label\":\"name\",\"track-by\":\"code\"},model:{value:(_vm.newUser.language),callback:function ($$v) {_vm.$set(_vm.newUser, \"language\", $$v)},expression:\"newUser.language\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath)?_c('div',{staticClass:\"storageLocation\"}):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showUserBackend)?_c('div',{staticClass:\"userBackend\"}):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div',{staticClass:\"lastLogin\"}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"user-actions\"},[_c('NcButton',{attrs:{\"id\":\"newsubmit\",\"type\":\"primary\",\"native-type\":\"submit\",\"value\":\"\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Add a new user'))+\"\\n\\t\\t\\t\\t\")])],1)])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"row\",class:{'sticky': _vm.scrolled && !_vm.showConfig.showNewUserForm},attrs:{\"id\":\"grid-header\"}},[_c('div',{staticClass:\"avatar\",attrs:{\"id\":\"headerAvatar\"}}),_vm._v(\" \"),_c('div',{staticClass:\"name\",attrs:{\"id\":\"headerName\"}},[_c('div',{staticClass:\"subtitle\"},[_c('strong',[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Display name'))+\"\\n\\t\\t\\t\\t\")])]),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Username'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"password\",attrs:{\"id\":\"headerPassword\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Password'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"mailAddress\",attrs:{\"id\":\"headerAddress\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Email'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"groups\",attrs:{\"id\":\"headerGroups\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Groups'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.subAdminsGroups.length>0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subadmins\",attrs:{\"id\":\"headerSubAdmins\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Group admin for'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"quota\",attrs:{\"id\":\"headerQuota\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Quota'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\",attrs:{\"id\":\"headerLanguages\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Language'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showUserBackend || _vm.showConfig.showStoragePath)?_c('div',{staticClass:\"headerUserBackend userBackend\"},[(_vm.showConfig.showUserBackend)?_c('div',{staticClass:\"userBackend\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'User backend'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath)?_c('div',{staticClass:\"subtitle storageLocation\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Storage location'))+\"\\n\\t\\t\\t\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div',{staticClass:\"headerLastLogin lastLogin\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Last login'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"})]),_vm._v(\" \"),_vm._l((_vm.filteredUsers),function(user){return _c('user-row',{key:user.id,attrs:{\"external-actions\":_vm.externalActions,\"groups\":_vm.groups,\"languages\":_vm.languages,\"quota-options\":_vm.quotaOptions,\"settings\":_vm.settings,\"show-config\":_vm.showConfig,\"sub-admins-groups\":_vm.subAdminsGroups,\"user\":user,\"is-dark-theme\":_vm.isDarkTheme}})}),_vm._v(\" \"),_c('InfiniteLoading',{ref:\"infiniteLoading\",on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('div',{staticClass:\"users-icon-loading icon-loading\"})]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"},[_c('div',{staticClass:\"users-list-end\"})]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"},[_c('div',{attrs:{\"id\":\"emptycontent\"}},[_c('div',{staticClass:\"icon-contacts-dark\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('settings', 'No users in here')))])])])])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\r\n  -\r\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n  -\r\n  -->\r\n\r\n<template>\r\n\t<NcContent app-name=\"settings\" :navigation-class=\"{ 'icon-loading': loadingAddGroup }\">\r\n\t\t<NcAppNavigation>\r\n\t\t\t<NcAppNavigationNew button-id=\"new-user-button\"\r\n\t\t\t\t:text=\"t('settings','New user')\"\r\n\t\t\t\tbutton-class=\"icon-add\"\r\n\t\t\t\t@click=\"showNewUserMenu\"\r\n\t\t\t\t@keyup.enter=\"showNewUserMenu\"\r\n\t\t\t\t@keyup.space=\"showNewUserMenu\" />\r\n\t\t\t<template #list>\r\n\t\t\t\t<NcAppNavigationItem id=\"addgroup\"\r\n\t\t\t\t\tref=\"addGroup\"\r\n\t\t\t\t\t:edit-placeholder=\"t('settings', 'Enter group name')\"\r\n\t\t\t\t\t:editable=\"true\"\r\n\t\t\t\t\t:loading=\"loadingAddGroup\"\r\n\t\t\t\t\t:title=\"t('settings', 'Add group')\"\r\n\t\t\t\t\ticon=\"icon-add\"\r\n\t\t\t\t\t@click=\"showAddGroupForm\"\r\n\t\t\t\t\t@update:title=\"createGroup\" />\r\n\t\t\t\t<NcAppNavigationItem id=\"everyone\"\r\n\t\t\t\t\t:exact=\"true\"\r\n\t\t\t\t\t:title=\"t('settings', 'Active users')\"\r\n\t\t\t\t\t:to=\"{ name: 'users' }\"\r\n\t\t\t\t\ticon=\"icon-contacts-dark\">\r\n\t\t\t\t\t<NcAppNavigationCounter v-if=\"userCount > 0\" slot=\"counter\">\r\n\t\t\t\t\t\t{{ userCount }}\r\n\t\t\t\t\t</NcAppNavigationCounter>\r\n\t\t\t\t</NcAppNavigationItem>\r\n\t\t\t\t<NcAppNavigationItem v-if=\"settings.isAdmin\"\r\n\t\t\t\t\tid=\"admin\"\r\n\t\t\t\t\t:exact=\"true\"\r\n\t\t\t\t\t:title=\"t('settings', 'Admins')\"\r\n\t\t\t\t\t:to=\"{ name: 'group', params: { selectedGroup: 'admin' } }\"\r\n\t\t\t\t\ticon=\"icon-user-admin\">\r\n\t\t\t\t\t<NcAppNavigationCounter v-if=\"adminGroupMenu.count\" slot=\"counter\">\r\n\t\t\t\t\t\t{{ adminGroupMenu.count }}\r\n\t\t\t\t\t</NcAppNavigationCounter>\r\n\t\t\t\t</NcAppNavigationItem>\r\n\r\n\t\t\t\t<!-- Hide the disabled if none, if we don't have the data (-1) show it -->\r\n\t\t\t\t<NcAppNavigationItem v-if=\"disabledGroupMenu.usercount > 0 || disabledGroupMenu.usercount === -1\"\r\n\t\t\t\t\tid=\"disabled\"\r\n\t\t\t\t\t:exact=\"true\"\r\n\t\t\t\t\t:title=\"t('settings', 'Disabled users')\"\r\n\t\t\t\t\t:to=\"{ name: 'group', params: { selectedGroup: 'disabled' } }\"\r\n\t\t\t\t\ticon=\"icon-disabled-users\">\r\n\t\t\t\t\t<NcAppNavigationCounter v-if=\"disabledGroupMenu.usercount > 0\" slot=\"counter\">\r\n\t\t\t\t\t\t{{ disabledGroupMenu.usercount }}\r\n\t\t\t\t\t</NcAppNavigationCounter>\r\n\t\t\t\t</NcAppNavigationItem>\r\n\r\n\t\t\t\t<NcAppNavigationCaption v-if=\"groupList.length > 0\" :title=\"t('settings', 'Groups')\" />\r\n\t\t\t\t<GroupListItem v-for=\"group in groupList\"\r\n\t\t\t\t\t:id=\"group.id\"\r\n\t\t\t\t\t:key=\"group.id\"\r\n\t\t\t\t\t:title=\"group.title\"\r\n\t\t\t\t\t:count=\"group.count\" />\r\n\t\t\t</template>\r\n\t\t\t<template #footer>\r\n\t\t\t\t<NcAppNavigationSettings>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p>{{ t('settings', 'Default quota:') }}</p>\r\n\t\t\t\t\t\t<NcMultiselect :value=\"defaultQuota\"\r\n\t\t\t\t\t\t\t:options=\"quotaOptions\"\r\n\t\t\t\t\t\t\ttag-placeholder=\"create\"\r\n\t\t\t\t\t\t\t:placeholder=\"t('settings', 'Select default quota')\"\r\n\t\t\t\t\t\t\tlabel=\"label\"\r\n\t\t\t\t\t\t\ttrack-by=\"id\"\r\n\t\t\t\t\t\t\t:allow-empty=\"false\"\r\n\t\t\t\t\t\t\t:taggable=\"true\"\r\n\t\t\t\t\t\t\t@tag=\"validateQuota\"\r\n\t\t\t\t\t\t\t@input=\"setDefaultQuota\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input id=\"showLanguages\"\r\n\t\t\t\t\t\t\tv-model=\"showLanguages\"\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tclass=\"checkbox\">\r\n\t\t\t\t\t\t<label for=\"showLanguages\">{{ t('settings', 'Show Languages') }}</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input id=\"showLastLogin\"\r\n\t\t\t\t\t\t\tv-model=\"showLastLogin\"\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tclass=\"checkbox\">\r\n\t\t\t\t\t\t<label for=\"showLastLogin\">{{ t('settings', 'Show last login') }}</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input id=\"showUserBackend\"\r\n\t\t\t\t\t\t\tv-model=\"showUserBackend\"\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tclass=\"checkbox\">\r\n\t\t\t\t\t\t<label for=\"showUserBackend\">{{ t('settings', 'Show user backend') }}</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input id=\"showStoragePath\"\r\n\t\t\t\t\t\t\tv-model=\"showStoragePath\"\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tclass=\"checkbox\">\r\n\t\t\t\t\t\t<label for=\"showStoragePath\">{{ t('settings', 'Show storage path') }}</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input id=\"sendWelcomeMail\"\r\n\t\t\t\t\t\t\tv-model=\"sendWelcomeMail\"\r\n\t\t\t\t\t\t\t:disabled=\"loadingSendMail\"\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tclass=\"checkbox\">\r\n\t\t\t\t\t\t<label for=\"sendWelcomeMail\">{{ t('settings', 'Send email to new user') }}</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</NcAppNavigationSettings>\r\n\t\t\t</template>\r\n\t\t</NcAppNavigation>\r\n\t\t<NcAppContent>\r\n\t\t\t<UserList :users=\"users\"\r\n\t\t\t\t:show-config=\"showConfig\"\r\n\t\t\t\t:selected-group=\"selectedGroupDecoded\"\r\n\t\t\t\t:external-actions=\"externalActions\" />\r\n\t\t</NcAppContent>\r\n\t</NcContent>\r\n</template>\r\n\r\n<script>\r\nimport NcAppContent from '@nextcloud/vue/dist/Components/NcAppContent'\r\nimport NcAppNavigation from '@nextcloud/vue/dist/Components/NcAppNavigation'\r\nimport NcAppNavigationCaption from '@nextcloud/vue/dist/Components/NcAppNavigationCaption'\r\nimport NcAppNavigationCounter from '@nextcloud/vue/dist/Components/NcAppNavigationCounter'\r\nimport NcAppNavigationItem from '@nextcloud/vue/dist/Components/NcAppNavigationItem'\r\nimport NcAppNavigationNew from '@nextcloud/vue/dist/Components/NcAppNavigationNew'\r\nimport NcAppNavigationSettings from '@nextcloud/vue/dist/Components/NcAppNavigationSettings'\r\nimport axios from '@nextcloud/axios'\r\nimport NcContent from '@nextcloud/vue/dist/Components/NcContent'\r\nimport { generateUrl } from '@nextcloud/router'\r\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\r\nimport Vue from 'vue'\r\nimport VueLocalStorage from 'vue-localstorage'\r\n\r\nimport GroupListItem from '../components/GroupListItem'\r\nimport UserList from '../components/UserList'\r\n\r\nVue.use(VueLocalStorage)\r\n\r\nexport default {\r\n\tname: 'Users',\r\n\tcomponents: {\r\n\t\tNcAppContent,\r\n\t\tNcAppNavigation,\r\n\t\tNcAppNavigationCaption,\r\n\t\tNcAppNavigationCounter,\r\n\t\tNcAppNavigationItem,\r\n\t\tNcAppNavigationNew,\r\n\t\tNcAppNavigationSettings,\r\n\t\tNcContent,\r\n\t\tGroupListItem,\r\n\t\tNcMultiselect,\r\n\t\tUserList,\r\n\t},\r\n\tprops: {\r\n\t\tselectedGroup: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null,\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// default quota is set to unlimited\r\n\t\t\tunlimitedQuota: { id: 'none', label: t('settings', 'Unlimited') },\r\n\t\t\t// temporary value used for multiselect change\r\n\t\t\tselectedQuota: false,\r\n\t\t\texternalActions: [],\r\n\t\t\tloadingAddGroup: false,\r\n\t\t\tloadingSendMail: false,\r\n\t\t\tshowConfig: {\r\n\t\t\t\tshowStoragePath: false,\r\n\t\t\t\tshowUserBackend: false,\r\n\t\t\t\tshowLastLogin: false,\r\n\t\t\t\tshowNewUserForm: false,\r\n\t\t\t\tshowLanguages: false,\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tselectedGroupDecoded() {\r\n\t\t\treturn this.selectedGroup ? decodeURIComponent(this.selectedGroup) : null\r\n\t\t},\r\n\t\tusers() {\r\n\t\t\treturn this.$store.getters.getUsers\r\n\t\t},\r\n\t\tgroups() {\r\n\t\t\treturn this.$store.getters.getGroups\r\n\t\t},\r\n\t\tusersOffset() {\r\n\t\t\treturn this.$store.getters.getUsersOffset\r\n\t\t},\r\n\t\tusersLimit() {\r\n\t\t\treturn this.$store.getters.getUsersLimit\r\n\t\t},\r\n\r\n\t\t// Local settings\r\n\t\tshowLanguages: {\r\n\t\t\tget() { return this.getLocalstorage('showLanguages') },\r\n\t\t\tset(status) {\r\n\t\t\t\tthis.setLocalStorage('showLanguages', status)\r\n\t\t\t},\r\n\t\t},\r\n\t\tshowLastLogin: {\r\n\t\t\tget() { return this.getLocalstorage('showLastLogin') },\r\n\t\t\tset(status) {\r\n\t\t\t\tthis.setLocalStorage('showLastLogin', status)\r\n\t\t\t},\r\n\t\t},\r\n\t\tshowUserBackend: {\r\n\t\t\tget() { return this.getLocalstorage('showUserBackend') },\r\n\t\t\tset(status) {\r\n\t\t\t\tthis.setLocalStorage('showUserBackend', status)\r\n\t\t\t},\r\n\t\t},\r\n\t\tshowStoragePath: {\r\n\t\t\tget() { return this.getLocalstorage('showStoragePath') },\r\n\t\t\tset(status) {\r\n\t\t\t\tthis.setLocalStorage('showStoragePath', status)\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tuserCount() {\r\n\t\t\treturn this.$store.getters.getUserCount\r\n\t\t},\r\n\t\tsettings() {\r\n\t\t\treturn this.$store.getters.getServerData\r\n\t\t},\r\n\r\n\t\t// default quota\r\n\t\tquotaOptions() {\r\n\t\t\t// convert the preset array into objects\r\n\t\t\tconst quotaPreset = this.settings.quotaPreset.reduce((acc, cur) => acc.concat({ id: cur, label: cur }), [])\r\n\t\t\t// add default presets\r\n\t\t\tif (this.settings.allowUnlimitedQuota) {\r\n\t\t\t\tquotaPreset.unshift(this.unlimitedQuota)\r\n\t\t\t}\r\n\t\t\treturn quotaPreset\r\n\t\t},\r\n\t\t// mapping saved values to objects\r\n\t\tdefaultQuota: {\r\n\t\t\tget() {\r\n\t\t\t\tif (this.selectedQuota !== false) {\r\n\t\t\t\t\treturn this.selectedQuota\r\n\t\t\t\t}\r\n\t\t\t\tif (this.settings.defaultQuota !== this.unlimitedQuota.id && OC.Util.computerFileSize(this.settings.defaultQuota) >= 0) {\r\n\t\t\t\t\t// if value is valid, let's map the quotaOptions or return custom quota\r\n\t\t\t\t\treturn { id: this.settings.defaultQuota, label: this.settings.defaultQuota }\r\n\t\t\t\t}\r\n\t\t\t\treturn this.unlimitedQuota // unlimited\r\n\t\t\t},\r\n\t\t\tset(quota) {\r\n\t\t\t\tthis.selectedQuota = quota\r\n\t\t\t},\r\n\r\n\t\t},\r\n\r\n\t\tsendWelcomeMail: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.settings.newUserSendEmail\r\n\t\t\t},\r\n\t\t\tasync set(value) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.loadingSendMail = true\r\n\t\t\t\t\tthis.$store.commit('setServerData', {\r\n\t\t\t\t\t\t...this.settings,\r\n\t\t\t\t\t\tnewUserSendEmail: value,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tawait axios.post(generateUrl('/settings/users/preferences/newUser.sendEmail'), { value: value ? 'yes' : 'no' })\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error('could not update newUser.sendEmail preference: ' + e.message, e)\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.loadingSendMail = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tgroupList() {\r\n\t\t\tconst groups = Array.isArray(this.groups) ? this.groups : []\r\n\r\n\t\t\treturn groups\r\n\t\t\t\t// filter out disabled and admin\r\n\t\t\t\t.filter(group => group.id !== 'disabled' && group.id !== 'admin')\r\n\t\t\t\t.map(group => this.formatGroupMenu(group))\r\n\t\t},\r\n\r\n\t\tadminGroupMenu() {\r\n\t\t\treturn this.formatGroupMenu(this.groups.find(group => group.id === 'admin'))\r\n\t\t},\r\n\t\tdisabledGroupMenu() {\r\n\t\t\treturn this.formatGroupMenu(this.groups.find(group => group.id === 'disabled'))\r\n\t\t},\r\n\t},\r\n\tbeforeMount() {\r\n\t\tthis.$store.commit('initGroups', {\r\n\t\t\tgroups: this.$store.getters.getServerData.groups,\r\n\t\t\torderBy: this.$store.getters.getServerData.sortGroups,\r\n\t\t\tuserCount: this.$store.getters.getServerData.userCount,\r\n\t\t})\r\n\t\tthis.$store.dispatch('getPasswordPolicyMinLength')\r\n\t},\r\n\tcreated() {\r\n\t\t// init the OCA.Settings.UserList object\r\n\t\t// and add the registerAction method\r\n\t\tObject.assign(OCA, {\r\n\t\t\tSettings: {\r\n\t\t\t\tUserList: {\r\n\t\t\t\t\tregisterAction: this.registerAction,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t})\r\n\t},\r\n\tmethods: {\r\n\t\tshowNewUserMenu() {\r\n\t\t\tthis.showConfig.showNewUserForm = true\r\n\t\t\tif (this.showConfig.showNewUserForm) {\r\n\t\t\t\tVue.nextTick(() => {\r\n\t\t\t\t\twindow.newusername.focus()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetLocalstorage(key) {\r\n\t\t\t// force initialization\r\n\t\t\tconst localConfig = this.$localStorage.get(key)\r\n\t\t\t// if localstorage is null, fallback to original values\r\n\t\t\tthis.showConfig[key] = localConfig !== null ? localConfig === 'true' : this.showConfig[key]\r\n\t\t\treturn this.showConfig[key]\r\n\t\t},\r\n\t\tsetLocalStorage(key, status) {\r\n\t\t\tthis.showConfig[key] = status\r\n\t\t\tthis.$localStorage.set(key, status)\r\n\t\t\treturn status\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Dispatch default quota set request\r\n\t\t *\r\n\t\t * @param {string | object} quota Quota in readable format '5 GB' or Object {id: '5 GB', label: '5GB'}\r\n\t\t */\r\n\t\tsetDefaultQuota(quota = 'none') {\r\n\t\t\tthis.$store.dispatch('setAppConfig', {\r\n\t\t\t\tapp: 'files',\r\n\t\t\t\tkey: 'default_quota',\r\n\t\t\t\t// ensure we only send the preset id\r\n\t\t\t\tvalue: quota.id ? quota.id : quota,\r\n\t\t\t}).then(() => {\r\n\t\t\t\tif (typeof quota !== 'object') {\r\n\t\t\t\t\tquota = { id: quota, label: quota }\r\n\t\t\t\t}\r\n\t\t\t\tthis.defaultQuota = quota\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Validate quota string to make sure it's a valid human file size\r\n\t\t *\r\n\t\t * @param {string} quota Quota in readable format '5 GB'\r\n\t\t * @return {Promise|boolean}\r\n\t\t */\r\n\t\tvalidateQuota(quota) {\r\n\t\t\t// only used for new presets sent through @Tag\r\n\t\t\tconst validQuota = OC.Util.computerFileSize(quota)\r\n\t\t\tif (validQuota === null) {\r\n\t\t\t\treturn this.setDefaultQuota('none')\r\n\t\t\t} else {\r\n\t\t\t\t// unify format output\r\n\t\t\t\treturn this.setDefaultQuota(OC.Util.humanFileSize(OC.Util.computerFileSize(quota)))\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Register a new action for the user menu\r\n\t\t *\r\n\t\t * @param {string} icon the icon class\r\n\t\t * @param {string} text the text to display\r\n\t\t * @param {Function} action the function to run\r\n\t\t * @return {Array}\r\n\t\t */\r\n\t\tregisterAction(icon, text, action) {\r\n\t\t\tthis.externalActions.push({\r\n\t\t\t\ticon,\r\n\t\t\t\ttext,\r\n\t\t\t\taction,\r\n\t\t\t})\r\n\t\t\treturn this.externalActions\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Create a new group\r\n\t\t *\r\n\t\t * @param {string} gid The group id\r\n\t\t */\r\n\t\tasync createGroup(gid) {\r\n\t\t\t// group is not valid\r\n\t\t\tif (gid.trim() === '') {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tthis.loadingAddGroup = true\r\n\t\t\t\tawait this.$store.dispatch('addGroup', gid.trim())\r\n\r\n\t\t\t\tthis.hideAddGroupForm()\r\n\t\t\t\tawait this.$router.push({\r\n\t\t\t\t\tname: 'group',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tselectedGroup: encodeURIComponent(gid.trim()),\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t} catch {\r\n\t\t\t\tthis.showAddGroupForm()\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loadingAddGroup = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tshowAddGroupForm() {\r\n\t\t\tthis.$refs.addGroup.editingActive = true\r\n\t\t\tthis.$refs.addGroup.onMenuToggle(false)\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.$refs.addGroup.$refs.editingInput.focusInput()\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\thideAddGroupForm() {\r\n\t\t\tthis.$refs.addGroup.editingActive = false\r\n\t\t\tthis.$refs.addGroup.editingValue = ''\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Format a group to a menu entry\r\n\t\t *\r\n\t\t * @param {object} group the group\r\n\t\t * @return {object}\r\n\t\t */\r\n\t\tformatGroupMenu(group) {\r\n\t\t\tconst item = {}\r\n\t\t\tif (typeof group === 'undefined') {\r\n\t\t\t\treturn {}\r\n\t\t\t}\r\n\r\n\t\t\titem.id = group.id\r\n\t\t\titem.title = group.name\r\n\t\t\titem.usercount = group.usercount\r\n\r\n\t\t\t// users count for all groups\r\n\t\t\tif (group.usercount - group.disabled > 0) {\r\n\t\t\t\titem.count = group.usercount - group.disabled\r\n\t\t\t}\r\n\r\n\t\t\treturn item\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// force hiding the editing action for the add group entry\r\n.app-navigation__list #addgroup::v-deep .app-navigation-entry__utils {\r\n\tdisplay: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=7004587b&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=7004587b&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=7004587b&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=7004587b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7004587b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","name","components","NcActionInput","NcActionButton","NcCounterBubble","NcAppNavigationItem","props","type","required","title","count","data","loadingRenameGroup","openGroupMenu","computed","settings","methods","handleGroupMenuOpen","renameGroup","gid","displayName","groupid","removeGroup","OC","t","group","self","_vm","this","_c","_self","key","attrs","params","selectedGroup","encodeURIComponent","on","scopedSlots","_u","fn","_v","_s","_e","proxy","isAdmin","ref","$event","user","Object","default","groups","Array","subAdminsGroups","quotaOptions","showConfig","languages","externalActions","userGroups","filter","includes","userSubAdminsGroups","subadmin","availableGroups","map","groupClone","assign","$isDisabled","canAdd","canRemove","usedSpace","quota","used","size","Util","humanFileSize","usedQuota","Math","min","round","pow","isNaN","userQuota","humanQuota","find","label","minPasswordLength","$store","getters","getPasswordPolicyMinLength","userLanguage","userLang","concat","lang","code","language","userLastLoginTooltip","lastLogin","formatDate","userLastLogin","relativeModifiedDate","generateAvatar","isDarkTheme","generateUrl","version","oc_userconfig","avatar","NcPopoverMenu","NcActions","directives","ClickOutside","mixins","loading","userActions","openedMenu","feedbackMessage","userGroupsLabels","join","userSubAdminsGroupsLabels","canEdit","toggleMenu","hideMenu","toggleEdit","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","staticClass","class","delete","disable","wipe","displayname","length","email","domProps","showLanguages","showUserBackend","showStoragePath","backend","storageLocation","showLastLogin","all","rawName","value","expression","preventDefault","apply","arguments","style","opacity","UserRowSimple","NcMultiselect","rand","editing","password","mailAddress","subadmins","icon","text","action","actions","wipeUserDevices","userid","confirm","confirmClasses","cancel","then","deleteUser","enableDisableUser","enabled","updateDisplayName","updatePassword","updateEmail","createGroup","console","addUserGroup","removeUserGroup","addUserSubAdmin","removeUserSubAdmin","setUserQuota","validateQuota","setUserLanguage","sendWelcomeMail","setTimeout","keys","backendCapabilities","setDisplayName","canChangePassword","setPassword","slot","NcModal","userRow","InfiniteLoading","NcButton","users","unlimitedQuota","defaultQuota","scrolled","searchQuery","newUser","selectedGroupDecoded","filteredUsers","sort","canAddGroups","quotaPreset","usersOffset","usersLimit","usersCount","getPropertyValue","watch","mounted","subscribe","beforeDestroy","unsubscribe","onScroll","infiniteHandler","offset","limit","search","$state","resetSearch","query","resetForm","Vue","createUser","catch","setNewUserDefaultGroup","redirectIfDisabled","allGroups","closeModal","showNewUserForm","newUserGenerateUserID","target","composing","$set","newUserRequireEmail","model","callback","$$v","_l","NcAppContent","NcAppNavigation","NcAppNavigationCaption","NcAppNavigationCounter","NcAppNavigationNew","NcAppNavigationSettings","NcContent","GroupListItem","UserList","selectedQuota","loadingAddGroup","loadingSendMail","get","set","userCount","newUserSendEmail","axios","groupList","adminGroupMenu","disabledGroupMenu","beforeMount","orderBy","created","Settings","registerAction","showNewUserMenu","window","getLocalstorage","setLocalStorage","setDefaultQuota","app","showAddGroupForm","hideAddGroupForm","formatGroupMenu","item","usercount","isArray","_i","$$a","$$el","$$c","checked","$$i","slice","indexOf","_k","keyCode"],"sourceRoot":""}