{"version":3,"file":"dav-settings-personal-availability.js?v=c87928469851e79cfb68","mappings":"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","sources":["webpack:///nextcloud/webpack\\runtime\\chunk loaded","webpack:///nextcloud/apps\\dav\\src\\dav\\client.js","webpack:///nextcloud/apps\\dav\\src\\service\\logger.js","webpack:///nextcloud/apps\\dav\\src\\service\\CalendarService.js","webpack:///nextcloud/apps\\dav\\src\\service\\PreferenceService.js","webpack:///nextcloud/apps\\dav\\src\\views\\Availability.vue","webpack:///nextcloud/apps\\dav\\src\\views\\Availability.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/dav/src/views/Availability.vue?1dc9","webpack://nextcloud/./apps/dav/src/views/Availability.vue?aa5a","webpack://nextcloud/./apps/dav/src/views/Availability.vue?4eb1","webpack:///nextcloud/apps\\dav\\src\\settings-personal-availability.js","webpack:///nextcloud/apps\\dav\\src\\views\\Availability.vue?vue&type=style&index=0&id=24aa351b&prod&lang=scss&scoped=true&","webpack:///nextcloud/webpack\\bootstrap","webpack:///nextcloud/webpack\\runtime\\compat get default export","webpack:///nextcloud/webpack\\runtime\\define property getters","webpack:///nextcloud/webpack\\runtime\\global","webpack:///nextcloud/webpack\\runtime\\hasOwnProperty shorthand","webpack:///nextcloud/webpack\\runtime\\make namespace object","webpack:///nextcloud/webpack\\runtime\\node module decorator","webpack:///nextcloud/webpack\\runtime\\runtimeId","webpack:///nextcloud/webpack\\runtime\\jsonp chunk loading","webpack:///nextcloud/webpack\\runtime\\nonce","webpack:///nextcloud/webpack\\startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/*\r\n * @copyright 2021 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @author 2021 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport * as webdav from 'webdav'\r\nimport axios from '@nextcloud/axios'\r\nimport memoize from 'lodash/fp/memoize'\r\nimport { generateRemoteUrl } from '@nextcloud/router'\r\nimport { getCurrentUser } from '@nextcloud/auth'\r\n\r\nexport const getClient = memoize((service) => {\r\n\t// Add this so the server knows it is an request from the browser\r\n\taxios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'\r\n\r\n\t// force our axios\r\n\tconst patcher = webdav.getPatcher()\r\n\tpatcher.patch('request', axios)\r\n\r\n\treturn webdav.createClient(\r\n\t\tgenerateRemoteUrl(`dav/${service}/${getCurrentUser().uid}`)\r\n\t)\r\n})\r\n","/*\r\n * @copyright 2021 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @author 2021 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\nimport { getLoggerBuilder } from '@nextcloud/logger'\r\n\r\nconst logger = getLoggerBuilder()\r\n\t.setApp('dav')\r\n\t.detectUser()\r\n\t.build()\r\n\r\nexport default logger\r\n","/**\r\n * @copyright 2021 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @author 2021 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\nimport { getClient } from '../dav/client'\r\nimport logger from './logger'\r\nimport { parseXML } from 'webdav/dist/node/tools/dav'\r\n\r\nimport {\r\n\tslotsToVavailability,\r\n\tvavailabilityToSlots,\r\n} from '@nextcloud/calendar-availability-vue'\r\n\r\n/**\r\n *\r\n */\r\nexport function getEmptySlots() {\r\n\treturn {\r\n\t\tMO: [],\r\n\t\tTU: [],\r\n\t\tWE: [],\r\n\t\tTH: [],\r\n\t\tFR: [],\r\n\t\tSA: [],\r\n\t\tSU: [],\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport async function findScheduleInboxAvailability() {\r\n\tconst client = getClient('calendars')\r\n\r\n\tconst response = await client.customRequest('inbox', {\r\n\t\tmethod: 'PROPFIND',\r\n\t\tdata: `<?xml version=\"1.0\"?>\r\n\t\t\t<x0:propfind xmlns:x0=\"DAV:\">\r\n\t\t\t  <x0:prop>\r\n\t\t\t\t<x1:calendar-availability xmlns:x1=\"urn:ietf:params:xml:ns:caldav\"/>\r\n\t\t\t  </x0:prop>\r\n\t\t\t</x0:propfind>`,\r\n\t})\r\n\r\n\tconst xml = await parseXML(response.data)\r\n\r\n\tif (!xml) {\r\n\t\treturn undefined\r\n\t}\r\n\r\n\tconst availability = xml?.multistatus?.response[0]?.propstat?.prop['calendar-availability']\r\n\tif (!availability) {\r\n\t\treturn undefined\r\n\t}\r\n\r\n\treturn vavailabilityToSlots(availability)\r\n}\r\n\r\n/**\r\n * @param {any} slots -\r\n * @param {any} timezoneId -\r\n */\r\nexport async function saveScheduleInboxAvailability(slots, timezoneId) {\r\n\tconst all = [...Object.keys(slots).flatMap(dayId => slots[dayId].map(slot => ({\r\n\t\t...slot,\r\n\t\tday: dayId,\r\n\t})))]\r\n\r\n\tconst vavailability = slotsToVavailability(all, timezoneId)\r\n\r\n\tlogger.debug('New availability ical created', {\r\n\t\tvavailability,\r\n\t})\r\n\r\n\tconst client = getClient('calendars')\r\n\tawait client.customRequest('inbox', {\r\n\t\tmethod: 'PROPPATCH',\r\n\t\tdata: `<?xml version=\"1.0\"?>\r\n\t\t\t<x0:propertyupdate xmlns:x0=\"DAV:\">\r\n\t\t\t  <x0:set>\r\n\t\t\t\t<x0:prop>\r\n\t\t\t\t  <x1:calendar-availability xmlns:x1=\"urn:ietf:params:xml:ns:caldav\">${vavailability}</x1:calendar-availability>\r\n\t\t\t\t</x0:prop>\r\n\t\t\t  </x0:set>\r\n\t\t\t</x0:propertyupdate>`,\r\n\t})\r\n}\r\n","/**\r\n * @copyright 2022 Joas Schilling <coding@schilljs.com>\r\n *\r\n * @author Joas Schilling <coding@schilljs.com>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport axios from '@nextcloud/axios'\r\nimport { generateOcsUrl } from '@nextcloud/router'\r\n\r\n/**\r\n * Enable user status automation based on availability\r\n */\r\nexport async function enableUserStatusAutomation() {\r\n\treturn await axios.post(\r\n\t\tgenerateOcsUrl('/apps/provisioning_api/api/v1/config/users/{appId}/{configKey}', {\r\n\t\t\tappId: 'dav',\r\n\t\t\tconfigKey: 'user_status_automation',\r\n\t\t}),\r\n\t\t{\r\n\t\t\tconfigValue: 'yes',\r\n\t\t}\r\n\t)\r\n}\r\n\r\n/**\r\n * Disable user status automation based on availability\r\n */\r\nexport async function disableUserStatusAutomation() {\r\n\treturn await axios.delete(\r\n\t\tgenerateOcsUrl('/apps/provisioning_api/api/v1/config/users/{appId}/{configKey}', {\r\n\t\t\tappId: 'dav',\r\n\t\t\tconfigKey: 'user_status_automation',\r\n\t\t})\r\n\t)\r\n}\r\n","<template>\r\n\t<NcSettingsSection :title=\"$t('dav', 'Availability')\"\r\n\t\t:description=\"$t('dav', 'If you configure your working hours, other users will see when you are out of office when they book a meeting.')\">\r\n\t\t<div class=\"time-zone\">\r\n\t\t\t<strong>\r\n\t\t\t\t{{ $t('dav', 'Time zone:') }}\r\n\t\t\t</strong>\r\n\t\t\t<span class=\"time-zone-text\">\r\n\t\t\t\t<NcTimezonePicker v-model=\"timezone\" />\r\n\t\t\t</span>\r\n\t\t</div>\r\n\r\n\t\t<CalendarAvailability :slots.sync=\"slots\"\r\n\t\t\t:loading=\"loading\"\r\n\t\t\t:l10n-to=\"$t('dav', 'to')\"\r\n\t\t\t:l10n-delete-slot=\"$t('dav', 'Delete slot')\"\r\n\t\t\t:l10n-empty-day=\"$t('dav', 'No working hours set')\"\r\n\t\t\t:l10n-add-slot=\"$t('dav', 'Add slot')\"\r\n\t\t\t:l10n-monday=\"$t('dav', 'Monday')\"\r\n\t\t\t:l10n-tuesday=\"$t('dav', 'Tuesday')\"\r\n\t\t\t:l10n-wednesday=\"$t('dav', 'Wednesday')\"\r\n\t\t\t:l10n-thursday=\"$t('dav', 'Thursday')\"\r\n\t\t\t:l10n-friday=\"$t('dav', 'Friday')\"\r\n\t\t\t:l10n-saturday=\"$t('dav', 'Saturday')\"\r\n\t\t\t:l10n-sunday=\"$t('dav', 'Sunday')\" />\r\n\r\n\t\t<NcCheckboxRadioSwitch :checked.sync=\"automated\">\r\n\t\t\t{{ $t('dav', 'Automatically set user status to \"Do not disturb\" outside of availability to mute all notifications.') }}\r\n\t\t</NcCheckboxRadioSwitch>\r\n\r\n\t\t<NcButton :disabled=\"loading || saving\"\r\n\t\t\ttype=\"primary\"\r\n\t\t\t@click=\"save\">\r\n\t\t\t{{ $t('dav', 'Save') }}\r\n\t\t</NcButton>\r\n\t</NcSettingsSection>\r\n</template>\r\n\r\n<script>\r\nimport { CalendarAvailability } from '@nextcloud/calendar-availability-vue'\r\nimport { loadState } from '@nextcloud/initial-state'\r\nimport {\r\n\tshowError,\r\n\tshowSuccess,\r\n} from '@nextcloud/dialogs'\r\nimport {\r\n\tfindScheduleInboxAvailability,\r\n\tgetEmptySlots,\r\n\tsaveScheduleInboxAvailability,\r\n} from '../service/CalendarService'\r\nimport {\r\n\tenableUserStatusAutomation,\r\n\tdisableUserStatusAutomation,\r\n} from '../service/PreferenceService'\r\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton'\r\nimport NcCheckboxRadioSwitch from '@nextcloud/vue/dist/Components/NcCheckboxRadioSwitch'\r\nimport NcSettingsSection from '@nextcloud/vue/dist/Components/NcSettingsSection'\r\nimport NcTimezonePicker from '@nextcloud/vue/dist/Components/NcTimezonePicker'\r\n\r\nexport default {\r\n\tname: 'Availability',\r\n\tcomponents: {\r\n\t\tNcButton,\r\n\t\tNcCheckboxRadioSwitch,\r\n\t\tCalendarAvailability,\r\n\t\tNcSettingsSection,\r\n\t\tNcTimezonePicker,\r\n\t},\r\n\tdata() {\r\n\t\t// Try to determine the current timezone, and fall back to UTC otherwise\r\n\t\tconst defaultTimezoneId = (new Intl.DateTimeFormat())?.resolvedOptions()?.timeZone ?? 'UTC'\r\n\r\n\t\treturn {\r\n\t\t\tloading: true,\r\n\t\t\tsaving: false,\r\n\t\t\ttimezone: defaultTimezoneId,\r\n\t\t\tslots: getEmptySlots(),\r\n\t\t\tautomated: loadState('dav', 'user_status_automation') === 'yes',\r\n\t\t}\r\n\t},\r\n\tasync mounted() {\r\n\t\ttry {\r\n\t\t\tconst slotData = await findScheduleInboxAvailability()\r\n\t\t\tif (!slotData) {\r\n\t\t\t\tconsole.info('no availability is set')\r\n\t\t\t\tthis.slots = getEmptySlots()\r\n\t\t\t} else {\r\n\t\t\t\tconst { slots, timezoneId } = slotData\r\n\t\t\t\tthis.slots = slots\r\n\t\t\t\tif (timezoneId) {\r\n\t\t\t\t\tthis.timezone = timezoneId\r\n\t\t\t\t}\r\n\t\t\t\tconsole.info('availability loaded', this.slots, this.timezoneId)\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error('could not load existing availability', e)\r\n\r\n\t\t\tshowError(t('dav', 'Failed to load availability'))\r\n\t\t} finally {\r\n\t\t\tthis.loading = false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync save() {\r\n\t\t\ttry {\r\n\t\t\t\tthis.saving = true\r\n\r\n\t\t\t\tawait saveScheduleInboxAvailability(this.slots, this.timezone)\r\n\t\t\t\tif (this.automated) {\r\n\t\t\t\t\tawait enableUserStatusAutomation()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait disableUserStatusAutomation()\r\n\t\t\t\t}\r\n\r\n\t\t\t\tshowSuccess(t('dav', 'Saved availability'))\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('could not save availability', e)\r\n\r\n\t\t\t\tshowError(t('dav', 'Failed to save availability'))\r\n\t\t\t} finally {\r\n\t\t\t\tthis.saving = false\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.availability-day {\r\n\tpadding: 0 10px 0 10px;\r\n\tposition: absolute;\r\n}\r\n.availability-slots {\r\n\tdisplay: flex;\r\n\twhite-space: nowrap;\r\n}\r\n.availability-slot {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n}\r\n.availability-slot-group {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n::v-deep .mx-input-wrapper {\r\n\twidth: 85px;\r\n}\r\n::v-deep .mx-datepicker {\r\n\twidth: 97px;\r\n}\r\n::v-deep .multiselect {\r\n\tborder: 1px solid var(--color-border-dark);\r\n\twidth: 120px;\r\n}\r\n.time-zone {\r\n\tpadding: 32px 12px 12px 0;\r\n}\r\n.grid-table {\r\n\tdisplay: grid;\r\n\tmargin-bottom: 32px;\r\n\tgrid-column-gap: 24px;\r\n\tgrid-row-gap: 6px;\r\n\tgrid-template-columns: min-content min-content min-content;\r\n}\r\n.button {\r\n\talign-self: flex-end;\r\n}\r\n.label-weekday {\r\n\tposition: relative;\r\n\tdisplay: inline-flex;\r\n\tpadding-top: 4px;\r\n}\r\n.delete-slot {\r\n\tbackground-color: transparent;\r\n\tborder: none;\r\n\tpadding-bottom: 12px;\r\n\topacity: .5;\r\n\t&:hover {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n.add-another {\r\n\tbackground-color: transparent;\r\n\tborder: none;\r\n\topacity: .5;\r\n\tdisplay: inline-flex;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tmargin-bottom: 3px;\r\n\r\n\t&:hover {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n.to-text {\r\n\tpadding-right: 12px;\r\n}\r\n.time-zone-text{\r\n\tpadding-left: 22px;\r\n}\r\n.empty-content {\r\n\tcolor: var(--color-text-lighter);\r\n\tmargin-top: 4px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Availability.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Availability.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Availability.vue?vue&type=style&index=0&id=24aa351b&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Availability.vue?vue&type=style&index=0&id=24aa351b&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Availability.vue?vue&type=template&id=24aa351b&scoped=true&\"\nimport script from \"./Availability.vue?vue&type=script&lang=js&\"\nexport * from \"./Availability.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Availability.vue?vue&type=style&index=0&id=24aa351b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24aa351b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcSettingsSection',{attrs:{\"title\":_vm.$t('dav', 'Availability'),\"description\":_vm.$t('dav', 'If you configure your working hours, other users will see when you are out of office when they book a meeting.')}},[_c('div',{staticClass:\"time-zone\"},[_c('strong',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.$t('dav', 'Time zone:'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('span',{staticClass:\"time-zone-text\"},[_c('NcTimezonePicker',{model:{value:(_vm.timezone),callback:function ($$v) {_vm.timezone=$$v},expression:\"timezone\"}})],1)]),_vm._v(\" \"),_c('CalendarAvailability',{attrs:{\"slots\":_vm.slots,\"loading\":_vm.loading,\"l10n-to\":_vm.$t('dav', 'to'),\"l10n-delete-slot\":_vm.$t('dav', 'Delete slot'),\"l10n-empty-day\":_vm.$t('dav', 'No working hours set'),\"l10n-add-slot\":_vm.$t('dav', 'Add slot'),\"l10n-monday\":_vm.$t('dav', 'Monday'),\"l10n-tuesday\":_vm.$t('dav', 'Tuesday'),\"l10n-wednesday\":_vm.$t('dav', 'Wednesday'),\"l10n-thursday\":_vm.$t('dav', 'Thursday'),\"l10n-friday\":_vm.$t('dav', 'Friday'),\"l10n-saturday\":_vm.$t('dav', 'Saturday'),\"l10n-sunday\":_vm.$t('dav', 'Sunday')},on:{\"update:slots\":function($event){_vm.slots=$event}}}),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.automated},on:{\"update:checked\":function($event){_vm.automated=$event}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.$t('dav', 'Automatically set user status to \"Do not disturb\" outside of availability to mute all notifications.'))+\"\\n\\t\")]),_vm._v(\" \"),_c('NcButton',{attrs:{\"disabled\":_vm.loading || _vm.saving,\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.$t('dav', 'Save'))+\"\\n\\t\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\r\nimport { translate } from '@nextcloud/l10n'\r\nimport Availability from './views/Availability'\r\n\r\nVue.prototype.$t = translate\r\n\r\nconst View = Vue.extend(Availability);\r\n\r\n(new View({})).$mount('#settings-personal-availability')\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".availability-day[data-v-24aa351b]{padding:0 10px 0 10px;position:absolute}.availability-slots[data-v-24aa351b]{display:flex;white-space:nowrap}.availability-slot[data-v-24aa351b]{display:flex;flex-direction:row;align-items:center}.availability-slot-group[data-v-24aa351b]{display:flex;flex-direction:column}[data-v-24aa351b] .mx-input-wrapper{width:85px}[data-v-24aa351b] .mx-datepicker{width:97px}[data-v-24aa351b] .multiselect{border:1px solid var(--color-border-dark);width:120px}.time-zone[data-v-24aa351b]{padding:32px 12px 12px 0}.grid-table[data-v-24aa351b]{display:grid;margin-bottom:32px;grid-column-gap:24px;grid-row-gap:6px;grid-template-columns:min-content min-content min-content}.button[data-v-24aa351b]{align-self:flex-end}.label-weekday[data-v-24aa351b]{position:relative;display:inline-flex;padding-top:4px}.delete-slot[data-v-24aa351b]{background-color:rgba(0,0,0,0);border:none;padding-bottom:12px;opacity:.5}.delete-slot[data-v-24aa351b]:hover{opacity:1}.add-another[data-v-24aa351b]{background-color:rgba(0,0,0,0);border:none;opacity:.5;display:inline-flex;padding:0;margin:0;margin-bottom:3px}.add-another[data-v-24aa351b]:hover{opacity:1}.to-text[data-v-24aa351b]{padding-right:12px}.time-zone-text[data-v-24aa351b]{padding-left:22px}.empty-content[data-v-24aa351b]{color:var(--color-text-lighter);margin-top:4px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/dav/src/views/Availability.vue\"],\"names\":[],\"mappings\":\"AACA,mCACC,qBAAA,CACA,iBAAA,CAED,qCACC,YAAA,CACA,kBAAA,CAED,oCACC,YAAA,CACA,kBAAA,CACA,kBAAA,CAED,0CACC,YAAA,CACA,qBAAA,CAED,oCACC,UAAA,CAED,iCACC,UAAA,CAED,+BACC,yCAAA,CACA,WAAA,CAED,4BACC,wBAAA,CAED,6BACC,YAAA,CACA,kBAAA,CACA,oBAAA,CACA,gBAAA,CACA,yDAAA,CAED,yBACC,mBAAA,CAED,gCACC,iBAAA,CACA,mBAAA,CACA,eAAA,CAED,8BACC,8BAAA,CACA,WAAA,CACA,mBAAA,CACA,UAAA,CACA,oCACC,SAAA,CAIF,8BACC,8BAAA,CACA,WAAA,CACA,UAAA,CACA,mBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CAEA,oCACC,SAAA,CAGF,0BACC,kBAAA,CAED,iCACC,iBAAA,CAED,gCACC,+BAAA,CACA,cAAA\",\"sourcesContent\":[\"\\r\\n.availability-day {\\r\\n\\tpadding: 0 10px 0 10px;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n.availability-slots {\\r\\n\\tdisplay: flex;\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n.availability-slot {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: row;\\r\\n\\talign-items: center;\\r\\n}\\r\\n.availability-slot-group {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n}\\r\\n::v-deep .mx-input-wrapper {\\r\\n\\twidth: 85px;\\r\\n}\\r\\n::v-deep .mx-datepicker {\\r\\n\\twidth: 97px;\\r\\n}\\r\\n::v-deep .multiselect {\\r\\n\\tborder: 1px solid var(--color-border-dark);\\r\\n\\twidth: 120px;\\r\\n}\\r\\n.time-zone {\\r\\n\\tpadding: 32px 12px 12px 0;\\r\\n}\\r\\n.grid-table {\\r\\n\\tdisplay: grid;\\r\\n\\tmargin-bottom: 32px;\\r\\n\\tgrid-column-gap: 24px;\\r\\n\\tgrid-row-gap: 6px;\\r\\n\\tgrid-template-columns: min-content min-content min-content;\\r\\n}\\r\\n.button {\\r\\n\\talign-self: flex-end;\\r\\n}\\r\\n.label-weekday {\\r\\n\\tposition: relative;\\r\\n\\tdisplay: inline-flex;\\r\\n\\tpadding-top: 4px;\\r\\n}\\r\\n.delete-slot {\\r\\n\\tbackground-color: transparent;\\r\\n\\tborder: none;\\r\\n\\tpadding-bottom: 12px;\\r\\n\\topacity: .5;\\r\\n\\t&:hover {\\r\\n\\t\\topacity: 1;\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.add-another {\\r\\n\\tbackground-color: transparent;\\r\\n\\tborder: none;\\r\\n\\topacity: .5;\\r\\n\\tdisplay: inline-flex;\\r\\n\\tpadding: 0;\\r\\n\\tmargin: 0;\\r\\n\\tmargin-bottom: 3px;\\r\\n\\r\\n\\t&:hover {\\r\\n\\t\\topacity: 1;\\r\\n\\t}\\r\\n}\\r\\n.to-text {\\r\\n\\tpadding-right: 12px;\\r\\n}\\r\\n.time-zone-text{\\r\\n\\tpadding-left: 22px;\\r\\n}\\r\\n.empty-content {\\r\\n\\tcolor: var(--color-text-lighter);\\r\\n\\tmargin-top: 4px;\\r\\n}\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 3347;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t3347: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [7874], function() { return __webpack_require__(1224); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","getClient","memoize","service","axios","webdav","patch","generateRemoteUrl","getCurrentUser","uid","getLoggerBuilder","setApp","detectUser","build","findScheduleInboxAvailability","client","customRequest","method","data","response","parseXML","xml","undefined","availability","multistatus","propstat","prop","vavailabilityToSlots","saveScheduleInboxAvailability","slots","timezoneId","all","Object","keys","flatMap","dayId","map","slot","day","vavailability","slotsToVavailability","logger","enableUserStatusAutomation","generateOcsUrl","appId","configKey","configValue","disableUserStatusAutomation","name","components","NcButton","NcCheckboxRadioSwitch","CalendarAvailability","NcSettingsSection","NcTimezonePicker","loading","saving","timezone","MO","TU","WE","TH","FR","SA","SU","automated","mounted","slotData","console","showError","methods","save","showSuccess","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","_vm","this","_c","_self","attrs","$t","staticClass","_v","_s","model","value","callback","$$v","expression","on","$event","Vue","translate","Availability","$mount","___CSS_LOADER_EXPORT___","push","module","id","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","b","document","baseURI","self","location","href","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","forEach","bind","nc","__webpack_exports__"],"sourceRoot":""}