{"version":3,"file":"comments-comments.js?v=725846369a5ea9774592","mappings":"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","sources":["webpack:///nextcloud/apps\\comments\\src\\activitytabviewplugin.js","webpack:///nextcloud/apps\\comments\\src\\app.js","webpack:///nextcloud/apps\\comments\\src\\templates.js","webpack:///nextcloud/webpack\\bootstrap","webpack:///nextcloud/webpack\\runtime\\compat get default export","webpack:///nextcloud/webpack\\runtime\\define property getters","webpack:///nextcloud/webpack\\runtime\\hasOwnProperty shorthand","webpack:///nextcloud/apps\\comments\\src\\comments.js"],"sourcesContent":["/**\r\n * Copyright (c) 2016\r\n *\r\n * @author Joas Schilling <coding@schilljs.com>\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\n/** @typedef {import('jquery')} jQuery */\r\n\r\n(function() {\r\n\tOCA.Comments.ActivityTabViewPlugin = {\r\n\r\n\t\t/**\r\n\t\t * Prepare activity for display\r\n\t\t *\r\n\t\t * @param {OCA.Activity.ActivityModel} model for this activity\r\n\t\t * @param {jQuery} $el jQuery handle for this activity\r\n\t\t * @param {string} view The view that displays this activity\r\n\t\t */\r\n\t\tprepareModelForDisplay(model, $el, view) {\r\n\t\t\tif (model.get('app') !== 'comments' || model.get('type') !== 'comments') {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (view === 'ActivityTabView') {\r\n\t\t\t\t$el.addClass('comment')\r\n\t\t\t\tif (model.get('message') && this._isLong(model.get('message'))) {\r\n\t\t\t\t\t$el.addClass('collapsed')\r\n\t\t\t\t\tconst $overlay = $('<div>').addClass('message-overlay')\r\n\t\t\t\t\t$el.find('.activitymessage').after($overlay)\r\n\t\t\t\t\t$el.on('click', this._onClickCollapsedComment)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t * Copy of CommentsTabView._onClickComment()\r\n\t\t */\r\n\t\t_onClickCollapsedComment(ev) {\r\n\t\t\tlet $row = $(ev.target)\r\n\t\t\tif (!$row.is('.comment')) {\r\n\t\t\t\t$row = $row.closest('.comment')\r\n\t\t\t}\r\n\t\t\t$row.removeClass('collapsed')\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t * Copy of CommentsTabView._isLong()\r\n\t\t */\r\n\t\t_isLong(message) {\r\n\t\t\treturn message.length > 250 || (message.match(/\\n/g) || []).length > 1\r\n\t\t},\r\n\t}\r\n\r\n})()\r\n\r\nOC.Plugins.register('OCA.Activity.RenderingPlugins', OCA.Comments.ActivityTabViewPlugin)\r\n","/**\r\n * Copyright (c) 2016 Vincent Petry <pvince81@owncloud.com>\r\n *\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n * @author Vincent Petry <vincent@nextcloud.com>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\n(function() {\r\n\tif (!OCA.Comments) {\r\n\t\t/**\r\n\t\t * @namespace\r\n\t\t */\r\n\t\tOCA.Comments = {}\r\n\t}\r\n\r\n})()\r\n","(function() {\r\n  var template = Handlebars.template, templates = OCA.Comments.Templates = OCA.Comments.Templates || {};\r\ntemplates['filesplugin'] = template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\r\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\r\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\r\n          return parent[propertyName];\r\n        }\r\n        return undefined\r\n    };\r\n\r\n  return \"<a class=\\\"action action-comment permanent\\\" title=\\\"\"\r\n    + alias4(((helper = (helper = lookupProperty(helpers,\"countMessage\") || (depth0 != null ? lookupProperty(depth0,\"countMessage\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"countMessage\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":50},\"end\":{\"line\":1,\"column\":66}}}) : helper)))\r\n    + \"\\\" href=\\\"#\\\">\\n\t<img class=\\\"svg\\\" src=\\\"\"\r\n    + alias4(((helper = (helper = lookupProperty(helpers,\"iconUrl\") || (depth0 != null ? lookupProperty(depth0,\"iconUrl\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"iconUrl\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":23},\"end\":{\"line\":2,\"column\":34}}}) : helper)))\r\n    + \"\\\"/>\\n</a>\\n\";\r\n},\"useData\":true});\r\n})();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","/**\r\n * @copyright Copyright (c) 2016 Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n * @author Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport './app.js'\r\nimport './templates.js'\r\nimport './activitytabviewplugin.js'\r\n\r\nwindow.OCA.Comments = OCA.Comments\r\n"],"names":["OCA","Comments","ActivityTabViewPlugin","prepareModelForDisplay","model","$el","view","get","addClass","this","_isLong","$overlay","$","find","after","on","_onClickCollapsedComment","ev","$row","target","is","closest","removeClass","message","length","match","OC","Plugins","register","template","Handlebars","Templates","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","_typeof","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","defineProperty","enumerable","obj","prop","window"],"sourceRoot":""}