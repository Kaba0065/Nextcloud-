/*! third party licenses: dist/vendor.LICENSE.txt */
import{G as h,ag as c,bO as n,bQ as u,bD as p,aH as d,bE as v}from"./core-common.mjs";import"./chunks/index-Ca0QcE7e.mjs";import{v as g}from"./chunks/toast-7xJhDYMn-BrG8uCqw.mjs";import{H as S}from"./chunks/style-3JoZM1Ml.mjs";import{n as f}from"./chunks/icons-BxSPavMS.mjs";const b={name:"AdminSettings",components:{NcCheckboxRadioSwitch:h,NcSettingsSection:c},data(){return{outgoingServer2serverShareEnabled:n("federatedfilesharing","outgoingServer2serverShareEnabled"),incomingServer2serverShareEnabled:n("federatedfilesharing","incomingServer2serverShareEnabled"),outgoingServer2serverGroupShareEnabled:n("federatedfilesharing","outgoingServer2serverGroupShareEnabled"),incomingServer2serverGroupShareEnabled:n("federatedfilesharing","incomingServer2serverGroupShareEnabled"),federatedGroupSharingSupported:n("federatedfilesharing","federatedGroupSharingSupported"),lookupServerEnabled:n("federatedfilesharing","lookupServerEnabled"),lookupServerUploadEnabled:n("federatedfilesharing","lookupServerUploadEnabled"),internalOnly:n("federatedfilesharing","internalOnly"),sharingFederatedDocUrl:n("federatedfilesharing","sharingFederatedDocUrl")}},methods:{async update(e,a){var s,i;await S();const r=u("/apps/provisioning_api/api/v1/config/apps/{appId}/{key}",{appId:"files_sharing",key:e}),l=a?"yes":"no";try{const{data:o}=await p.post(r,{value:l});this.handleResponse({status:(i=(s=o.ocs)==null?void 0:s.meta)==null?void 0:i.status})}catch(o){this.handleResponse({errorMessage:t("federatedfilesharing","Unable to update federated files sharing config"),error:o})}},async handleResponse({status:e,errorMessage:a,error:r}){e!=="ok"&&(g(a),console.error(a,r))}}};var k=function(){var e=this,a=e._self._c;return a("NcSettingsSection",{attrs:{name:e.t("federatedfilesharing","Federated Cloud Sharing"),description:e.t("federatedfilesharing","Adjust how people can share between servers. This includes shares between users on this server as well if they are using federated sharing."),"doc-url":e.sharingFederatedDocUrl}},[a("NcCheckboxRadioSwitch",{attrs:{type:"switch",checked:e.outgoingServer2serverShareEnabled},on:{"update:checked":[function(r){e.outgoingServer2serverShareEnabled=r},function(r){return e.update("outgoing_server2server_share_enabled",e.outgoingServer2serverShareEnabled)}]}},[e._v(" "+e._s(e.t("federatedfilesharing","Allow users on this server to send shares to other servers (this option also allows WebDAV access to public shares)"))+" ")]),a("NcCheckboxRadioSwitch",{attrs:{type:"switch",checked:e.incomingServer2serverShareEnabled},on:{"update:checked":[function(r){e.incomingServer2serverShareEnabled=r},function(r){return e.update("incoming_server2server_share_enabled",e.incomingServer2serverShareEnabled)}]}},[e._v(" "+e._s(e.t("federatedfilesharing","Allow users on this server to receive shares from other servers"))+" ")]),e.federatedGroupSharingSupported?a("NcCheckboxRadioSwitch",{attrs:{type:"switch",checked:e.outgoingServer2serverGroupShareEnabled},on:{"update:checked":[function(r){e.outgoingServer2serverGroupShareEnabled=r},function(r){return e.update("outgoing_server2server_group_share_enabled",e.outgoingServer2serverGroupShareEnabled)}]}},[e._v(" "+e._s(e.t("federatedfilesharing","Allow users on this server to send shares to groups on other servers"))+" ")]):e._e(),e.federatedGroupSharingSupported?a("NcCheckboxRadioSwitch",{attrs:{type:"switch",checked:e.incomingServer2serverGroupShareEnabled},on:{"update:checked":[function(r){e.incomingServer2serverGroupShareEnabled=r},function(r){return e.update("incoming_server2server_group_share_enabled",e.incomingServer2serverGroupShareEnabled)}]}},[e._v(" "+e._s(e.t("federatedfilesharing","Allow users on this server to receive group shares from other servers"))+" ")]):e._e(),a("NcCheckboxRadioSwitch",{attrs:{type:"switch",checked:e.lookupServerEnabled},on:{"update:checked":[function(r){e.lookupServerEnabled=r},function(r){return e.update("lookupServerEnabled",e.lookupServerEnabled)}]}},[e._v(" "+e._s(e.t("federatedfilesharing","Search global and public address book for users"))+" ")]),a("NcCheckboxRadioSwitch",{attrs:{type:"switch",checked:e.lookupServerUploadEnabled},on:{"update:checked":[function(r){e.lookupServerUploadEnabled=r},function(r){return e.update("lookupServerUploadEnabled",e.lookupServerUploadEnabled)}]}},[e._v(" "+e._s(e.t("federatedfilesharing","Allow users to publish their data to a global and public address book"))+" ")])],1)},m=[],E=f(b,k,m,!1,null,null,null,null);const _=E.exports;d.mixin({methods:{t:v}});const w=n("federatedfilesharing","internalOnly",!1);if(!w){const e=d.extend(_);new e().$mount("#vue-admin-federated")}
