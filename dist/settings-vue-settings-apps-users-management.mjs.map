{"version":3,"mappings":";g4BAAA,IAAAA,EAAe,SAAUC,EAAOC,EAAQC,EAAS,CAC/C,IAAIC,GAAcD,GAAW,CAAE,GAAE,YAAc,QAE/CF,EAAM,eAAeG,EAAY,CAC/B,WAAY,GACZ,MAAOC,EAAWH,EAAO,YAAY,EACrC,UAAW,CACT,cAAiB,SAAwBI,EAAOC,EAAY,CAC1DN,EAAM,MAAMG,CAAU,EAAIC,EAAWE,EAAW,GAAIA,EAAW,IAAI,CACpE,CACF,CACL,CAAG,EAED,IAAIC,EAAkB,GAClBC,EAGAC,EAAeT,EAAM,MACvB,SAAUK,EAAO,CAAE,OAAOA,EAAMF,CAAU,CAAI,EAC9C,SAAUO,EAAO,CACf,IAAIC,EAAWD,EAAM,SACjBC,IAAaH,IAGbA,GAAe,OACjBD,EAAkB,GAClBN,EAAO,KAAKS,CAAK,GAEnBF,EAAcG,EACf,EACD,CAAE,KAAM,EAAM,CACf,EAGGC,EAAkBX,EAAO,UAAU,SAAUY,EAAIC,EAAM,CACzD,GAAIP,EAAiB,CACnBA,EAAkB,GAClB,MACD,CACDC,EAAcK,EAAG,SACjBb,EAAM,OAAOG,EAAa,iBAAkB,CAAE,GAAIU,EAAI,KAAMC,EAAM,CACtE,CAAG,EAED,OAAO,UAAmB,CAGtBF,aAKAH,aAIFT,EAAM,iBAAiBG,CAAU,CAClC,CACH,EAEA,SAASC,EAAYS,EAAIC,EAAM,CAC7B,IAAIC,EAAQ,CACV,KAAMF,EAAG,KACT,KAAMA,EAAG,KACT,KAAMA,EAAG,KACT,MAAOA,EAAG,MACV,OAAQA,EAAG,OACX,SAAUA,EAAG,SACb,KAAMA,EAAG,IACV,EACD,OAAIC,IACFC,EAAM,KAAOX,EAAWU,CAAI,GAEvB,OAAO,OAAOC,CAAK,CAC5B,CC9CA,MAAAC,EAAA,CACA,WACA,cAEA,wCACA,MACA,oGAEA,CACA,6HCXaC,EAAoB,OAAO,OAAO,CAC9C,UAAWC,EAAE,WAAY,WAAW,EACpC,QAASA,EAAE,WAAY,aAAa,EACpC,SAAUA,EAAE,WAAY,eAAe,EACvC,QAASA,EAAE,WAAY,SAAS,EAChC,cAAeA,EAAE,WAAY,aAAa,EAC1C,SAAUA,EAAE,WAAY,eAAe,EACvC,UAAWA,EAAE,WAAY,gBAAgB,CAC1C,CAAC,ECHKC,EAAW,SAASC,EAAK,CAC9B,OAAOA,EAAI,QAAQ,MAAO,EAAE,CAC7B,EAEeC,EAAA,CAiCd,cAAe,CACd,OAAOC,EAAiB,CACxB,EACD,IAAIF,EAAKlB,EAAS,CACjB,OAAOqB,EAAM,IAAIJ,EAASC,CAAG,EAAGlB,CAAO,CACvC,EACD,KAAKkB,EAAKI,EAAM,CACf,OAAOD,EAAM,KAAKJ,EAASC,CAAG,EAAGI,CAAI,CACrC,EACD,MAAMJ,EAAKI,EAAM,CAChB,OAAOD,EAAM,MAAMJ,EAASC,CAAG,EAAGI,CAAI,CACtC,EACD,IAAIJ,EAAKI,EAAM,CACd,OAAOD,EAAM,IAAIJ,EAASC,CAAG,EAAGI,CAAI,CACpC,EACD,OAAOJ,EAAKI,EAAM,CACjB,OAAOD,EAAM,OAAOJ,EAASC,CAAG,EAAG,CAAE,OAAQI,EAAM,CACnD,CACF,ECjDMC,EAAc,SAASC,EAAQC,EAAS,CAK7C,OAAIA,IAAY,EACRD,EAAO,KAAK,CAACE,EAAGC,IAAMD,EAAE,UAAYA,EAAE,SAAWC,EAAE,UAAYA,EAAE,QAAQ,EAEzEH,EAAO,KAAK,CAACE,EAAGC,IAAMD,EAAE,KAAK,cAAcC,EAAE,IAAI,CAAC,CAE3D,EAEMC,EAAW,CAChB,MAAO,CACN,GAAI,GACJ,KAAM,GACN,UAAW,EACX,SAAU,EACV,OAAQ,GACR,UAAW,EACX,CACF,EAEMzB,EAAQ,CACb,MAAO,CAAE,EACT,OAAQ,CAAE,EACV,QAAS,EACT,kBAAmB,EACnB,YAAa,EACb,WAAY,GACZ,oBAAqB,EACrB,mBAAoB,GACpB,UAAW,EACX,WAAY,CACX,gBAAiB,GACjB,gBAAiB,GACjB,cAAe,GACf,gBAAiB,GACjB,cAAe,EACf,CACF,EAEM0B,EAAY,CACjB,YAAY1B,EAAO2B,EAAU,CAC5B,MAAMC,EAAgB5B,EAAM,MAAM,IAAI,CAAC,CAAE,GAAA6B,CAAI,IAAKA,CAAE,EAC9CC,EAAW,OAAO,OAAOH,CAAQ,EACrC,OAAO,CAAC,CAAE,GAAAE,CAAI,IAAK,CAACD,EAAc,SAASC,CAAE,CAAC,EAE1CE,EAAQ/B,EAAM,MAAM,OAAO8B,CAAQ,EACzC9B,EAAM,aAAeA,EAAM,WAC3BA,EAAM,MAAQ+B,CACd,EACD,oBAAoB/B,EAAOgC,EAAW,CACrChC,EAAM,qBAAuBA,EAAM,kBACnC,EACD,2BAA2BA,EAAOiC,EAAQ,CACzCjC,EAAM,kBAAoBiC,IAAW,GAAKA,EAAS,CACnD,EACD,WAAWjC,EAAO,CAAE,OAAAqB,EAAQ,QAAAC,EAAS,UAAAY,CAAS,EAAI,CACjDlC,EAAM,OAASqB,EAAO,IAAIc,GAAS,OAAO,OAAO,GAAIV,EAAS,MAAOU,CAAK,CAAC,EAC3EnC,EAAM,QAAUsB,EAChBtB,EAAM,UAAYkC,EAClBlC,EAAM,OAASoB,EAAYpB,EAAM,OAAQA,EAAM,OAAO,CAEtD,EACD,SAASA,EAAO,CAAE,IAAAoC,EAAK,YAAAC,CAAW,EAAI,CACrC,GAAI,CACH,GAAI,OAAOrC,EAAM,OAAO,KAAMmC,GAAUA,EAAM,KAAOC,CAAG,EAAM,IAC7D,OAGD,MAAMD,EAAQ,OAAO,OAAO,GAAIV,EAAS,MAAO,CAC/C,GAAIW,EACJ,KAAMC,CACV,CAAI,EACDrC,EAAM,OAAO,QAAQmC,CAAK,EAC1BnC,EAAM,OAASoB,EAAYpB,EAAM,OAAQA,EAAM,OAAO,CACtD,OAAQsC,EAAG,CACX,QAAQ,MAAM,qBAAuBA,CAAC,CACtC,CACD,EACD,YAAYtC,EAAO,CAAE,IAAAoC,EAAK,YAAAC,CAAW,EAAI,CACxC,MAAME,EAAavC,EAAM,OAAO,UAAUwC,GAAeA,EAAY,KAAOJ,CAAG,EAC/E,GAAIG,GAAc,EAAG,CACpB,MAAME,EAAezC,EAAM,OAAOuC,CAAU,EAC5CE,EAAa,KAAOJ,EACpBrC,EAAM,OAAO,OAAOuC,EAAY,EAAGE,CAAY,EAC/CzC,EAAM,OAASoB,EAAYpB,EAAM,OAAQA,EAAM,OAAO,CACtD,CACD,EACD,YAAYA,EAAOoC,EAAK,CACvB,MAAMG,EAAavC,EAAM,OAAO,UAAUwC,GAAeA,EAAY,KAAOJ,CAAG,EAC3EG,GAAc,GACjBvC,EAAM,OAAO,OAAOuC,EAAY,CAAC,CAElC,EACD,aAAavC,EAAO,CAAE,OAAA0C,EAAQ,IAAAN,CAAG,EAAI,CACpC,MAAMD,EAAQnC,EAAM,OAAO,KAAKwC,GAAeA,EAAY,KAAOJ,CAAG,EAC/DO,EAAO3C,EAAM,MAAM,KAAK2C,GAAQA,EAAK,KAAOD,CAAM,EAEpDP,GAASQ,EAAK,SAAW3C,EAAM,UAAY,GAC9CmC,EAAM,YAEQQ,EAAK,OACb,KAAKP,CAAG,EACfpC,EAAM,OAASoB,EAAYpB,EAAM,OAAQA,EAAM,OAAO,CACtD,EACD,gBAAgBA,EAAO,CAAE,OAAA0C,EAAQ,IAAAN,CAAG,EAAI,CACvC,MAAMD,EAAQnC,EAAM,OAAO,KAAKwC,GAAeA,EAAY,KAAOJ,CAAG,EAC/DO,EAAO3C,EAAM,MAAM,KAAK2C,GAAQA,EAAK,KAAOD,CAAM,EAEpDP,GAASQ,EAAK,SAAW3C,EAAM,UAAY,GAC9CmC,EAAM,YAEP,MAAMd,EAASsB,EAAK,OACpBtB,EAAO,OAAOA,EAAO,QAAQe,CAAG,EAAG,CAAC,EACpCpC,EAAM,OAASoB,EAAYpB,EAAM,OAAQA,EAAM,OAAO,CACtD,EACD,gBAAgBA,EAAO,CAAE,OAAA0C,EAAQ,IAAAN,CAAG,EAAI,CACxBpC,EAAM,MAAM,KAAK2C,GAAQA,EAAK,KAAOD,CAAM,EAAE,SACrD,KAAKN,CAAG,CACf,EACD,mBAAmBpC,EAAO,CAAE,OAAA0C,EAAQ,IAAAN,CAAG,EAAI,CAC1C,MAAMf,EAASrB,EAAM,MAAM,KAAK2C,GAAQA,EAAK,KAAOD,CAAM,EAAE,SAC5DrB,EAAO,OAAOA,EAAO,QAAQe,CAAG,EAAG,CAAC,CACpC,EACD,WAAWpC,EAAO0C,EAAQ,CACzB,MAAME,EAAY5C,EAAM,MAAM,UAAU2C,GAAQA,EAAK,KAAOD,CAAM,EAClE,KAAK,OAAO,mBAAoB,CAAE,KAAM1C,EAAM,MAAM4C,CAAS,EAAG,WAAY,SAAU,EACtF5C,EAAM,MAAM,OAAO4C,EAAW,CAAC,CAC/B,EACD,YAAY5C,EAAO6C,EAAU,CAC5B,MAAMF,EAAOE,EAAS,KAAK,IAAI,KAC/B7C,EAAM,MAAM,QAAQ2C,CAAI,EACxB,KAAK,OAAO,mBAAoB,CAAE,KAAAA,EAAM,WAAY,SAAU,CAC9D,EACD,kBAAkB3C,EAAO,CAAE,OAAA0C,EAAQ,QAAAI,CAAO,EAAI,CAC7C,MAAMH,EAAO3C,EAAM,MAAM,KAAK2C,GAAQA,EAAK,KAAOD,CAAM,EACxDC,EAAK,QAAUG,EACf,KAAK,OAAO,mBAAoB,CAAE,KAAAH,EAAM,WAAYG,EAAU,SAAW,UAAW,CACpF,EAED,iBAAiB9C,EAAO,CAAE,KAAA2C,EAAM,WAAAI,CAAU,EAAI,CAE7C,GAAI/C,EAAM,YAAc,EACvB,OAGD,MAAMgD,EAAgBhD,EAAM,OAAO,KAAKmC,GAASA,EAAM,KAAO,UAAU,EACxE,OAAQY,EAAU,CAClB,IAAK,SACL,IAAK,UACJC,EAAc,WAAaL,EAAK,QAAU,GAAK,EAC/C3C,EAAM,WAAa2C,EAAK,QAAU,EAAI,GACtCA,EAAK,OAAO,QAAQM,GAAa,CAChC,MAAMd,EAAQnC,EAAM,OAAO,KAAKwC,GAAeA,EAAY,KAAOS,CAAS,EAC3Ed,EAAM,UAAYQ,EAAK,QAAU,GAAK,CAC1C,CAAI,EACD,MACD,IAAK,SACJ3C,EAAM,YAEN2C,EAAK,OAAO,QAAQM,GAAa,CAChCjD,EAAM,OACJ,KAAKwC,GAAeA,EAAY,KAAOS,CAAS,EAC7C,WACT,CAAI,EACD,MACD,IAAK,SACAN,EAAK,SACR3C,EAAM,YACN2C,EAAK,OAAO,QAAQM,GAAa,CAChC,MAAMd,EAAQnC,EAAM,OAAO,KAAKwC,GAAeA,EAAY,KAAOS,CAAS,EAC3E,GAAI,CAACd,EAAO,CACX,QAAQ,KAAK,cAAgBc,EAAY,qCAAqC,EAC9E,MACA,CACDd,EAAM,WACX,CAAK,IAEDa,EAAc,YACdL,EAAK,OAAO,QAAQM,GAAa,CAChC,MAAMd,EAAQnC,EAAM,OAAO,KAAKwC,GAAeA,EAAY,KAAOS,CAAS,EAC3Ed,EAAM,UACX,CAAK,GAEF,MACD,QACCe,EAAO,MAAM,6CAA6CH,SAAU,IAAG,CAEvE,CACD,EACD,YAAY/C,EAAO,CAAE,OAAA0C,EAAQ,IAAAS,EAAK,MAAAC,CAAK,EAAI,CAC1C,GAAID,IAAQ,QAAS,CACpB,MAAME,EAAaC,EAAcF,EAAO,EAAI,EAC5CpD,EAAM,MAAM,KAAK2C,GAAQA,EAAK,KAAOD,CAAM,EAAES,CAAG,EAAEA,CAAG,EAAIE,IAAe,KAAOA,EAAaD,CAC/F,MACGpD,EAAM,MAAM,KAAK2C,GAAQA,EAAK,KAAOD,CAAM,EAAES,CAAG,EAAIC,CAErD,EAOD,WAAWpD,EAAO,CACjBA,EAAM,MAAQ,CAAE,EAChBA,EAAM,YAAc,EACpBA,EAAM,oBAAsB,CAC5B,EAED,cAAcA,EAAO,CAAE,IAAAmD,EAAK,MAAAC,CAAK,EAAI,CACpCpD,EAAM,WAAWmD,CAAG,EAAIC,CACxB,CACF,EAEMG,EAAU,CACf,SAASvD,EAAO,CACf,OAAOA,EAAM,KACb,EACD,UAAUA,EAAO,CAChB,OAAOA,EAAM,MACb,EACD,kBAAkBA,EAAO,CAExB,OAAOA,EAAM,OAAO,OAAOmC,GAASA,EAAM,KAAO,SAAWA,EAAM,KAAO,UAAU,CACnF,EACD,2BAA2BnC,EAAO,CACjC,OAAOA,EAAM,iBACb,EACD,eAAeA,EAAO,CACrB,OAAOA,EAAM,WACb,EACD,cAAcA,EAAO,CACpB,OAAOA,EAAM,UACb,EACD,uBAAuBA,EAAO,CAC7B,OAAOA,EAAM,mBACb,EACD,sBAAsBA,EAAO,CAC5B,OAAOA,EAAM,kBACb,EACD,aAAaA,EAAO,CACnB,OAAOA,EAAM,SACb,EACD,cAAcA,EAAO,CACpB,OAAOA,EAAM,UACb,CACF,EAEMwD,GAActC,EAAM,YAC1B,IAAIuC,EAA4B,KAEhC,MAAMC,GAAU,CAYf,YAAYC,EAAS,CAAE,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,CAAM,EAAI,CAC/C,OAAAA,EAAS,OAAOA,GAAW,SAAWA,EAAS,GAExC9C,EAAI,IAAI+C,EAAe,oEAAqE,CAAE,OAAAH,EAAQ,MAAAC,EAAO,OAAAC,CAAM,CAAE,CAAC,EAAE,MAAOE,GAAU,CAC1I9C,EAAM,SAAS8C,CAAK,GACxBL,EAAQ,OAAO,cAAeK,CAAK,CAEvC,CAAG,CACD,EASD,QAAQL,EAASM,EAAQ,CACxB,OAAOjD,EAAI,IAAI+C,EAAe,eAAeE,SAAQ,CAAC,EAAE,MAAOD,GAAU,CACnE9C,EAAM,SAAS8C,CAAK,GACxBL,EAAQ,OAAO,cAAeK,CAAK,CAEvC,CAAG,CACD,EAaD,SAASL,EAAS,CAAE,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,EAAQ,MAAA3B,GAAS,CAenD,OAdIsB,GACHA,EAA0B,OAAO,+CAA+C,EAEjFA,EAA4BD,GAAY,OAAQ,EAChDM,EAAS,OAAOA,GAAW,SAAWA,EAAS,GAO/CA,EAASA,EAAO,QAAQ,aAAc,EAAE,EAAE,KAAM,EAEhD3B,EAAQ,OAAOA,GAAU,SAAWA,EAAQ,GACxCA,IAAU,GACNnB,EAAI,IAAI+C,EAAe,mFAAoF,CAAE,MAAO,mBAAmB5B,CAAK,EAAG,OAAAyB,EAAQ,MAAAC,EAAO,OAAAC,CAAQ,GAAG,CAC/K,YAAaL,EAA0B,KAC3C,CAAI,EACC,KAAMZ,GAAa,CACnB,MAAMqB,EAAa,OAAO,KAAKrB,EAAS,KAAK,IAAI,KAAK,KAAK,EAAE,OAC7D,OAAIqB,EAAa,GAChBP,EAAQ,OAAO,cAAed,EAAS,KAAK,IAAI,KAAK,KAAK,EAEpDqB,CACZ,CAAK,EACA,MAAOF,GAAU,CACZ9C,EAAM,SAAS8C,CAAK,GACxBL,EAAQ,OAAO,cAAeK,CAAK,CAEzC,CAAK,EAGIhD,EAAI,IAAI+C,EAAe,oEAAqE,CAAE,OAAAH,EAAQ,MAAAC,EAAO,OAAAC,CAAM,CAAE,EAAG,CAC9H,YAAaL,EAA0B,KAC1C,CAAG,EACC,KAAMZ,GAAa,CACnB,MAAMqB,EAAa,OAAO,KAAKrB,EAAS,KAAK,IAAI,KAAK,KAAK,EAAE,OAC7D,OAAIqB,EAAa,GAChBP,EAAQ,OAAO,cAAed,EAAS,KAAK,IAAI,KAAK,KAAK,EAEpDqB,CACX,CAAI,EACA,MAAOF,GAAU,CACZ9C,EAAM,SAAS8C,CAAK,GACxBL,EAAQ,OAAO,cAAeK,CAAK,CAExC,CAAI,CACF,EAWD,MAAM,iBAAiBL,EAAS,CAAE,OAAAC,EAAQ,MAAAC,CAAK,EAAI,CAClD,MAAM9C,EAAMgD,EAAe,qDAAsD,CAAE,OAAAH,EAAQ,MAAAC,CAAK,CAAE,EAClG,GAAI,CACH,MAAMhB,EAAW,MAAM7B,EAAI,IAAID,CAAG,EAC5BmD,EAAa,OAAO,KAAKrB,EAAS,KAAK,IAAI,KAAK,KAAK,EAAE,OAC7D,OAAIqB,EAAa,IAChBP,EAAQ,OAAO,cAAed,EAAS,KAAK,IAAI,KAAK,KAAK,EAC1Dc,EAAQ,OAAO,sBAAuBd,EAAS,KAAK,IAAI,KAAK,KAAK,GAE5DqB,CACP,OAAQF,EAAO,CACfL,EAAQ,OAAO,cAAeK,CAAK,CACnC,CACD,EAED,UAAUL,EAAS,CAAE,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,CAAM,EAAI,CAC7CA,EAAS,OAAOA,GAAW,SAAWA,EAAS,GAC/C,MAAMK,EAAaN,IAAU,GAAK,GAAK,UAAUA,UACjD,OAAO7C,EAAI,IAAI+C,EAAe,+CAAgD,CAAE,OAAAH,EAAQ,OAAAE,EAAQ,EAAIK,CAAU,EAC5G,KAAMtB,GACF,OAAO,KAAKA,EAAS,KAAK,IAAI,KAAK,MAAM,EAAE,OAAS,GACvDA,EAAS,KAAK,IAAI,KAAK,OAAO,QAAQ,SAASV,EAAO,CACrDwB,EAAQ,OAAO,WAAY,CAAE,IAAKxB,EAAO,YAAaA,EAAO,CACnE,CAAM,EACM,IAED,EACP,EACA,MAAO6B,GAAUL,EAAQ,OAAO,cAAeK,CAAK,CAAC,CACvD,EAYD,iBAAiBL,EAAS,CAAE,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,CAAM,EAAI,CACpD,OAAAA,EAAS,OAAOA,GAAW,SAAWA,EAAS,GACxC9C,EAAI,IAAI+C,EAAe,oEAAqE,CAAE,OAAAH,EAAQ,MAAAC,EAAO,OAAAC,CAAM,CAAE,CAAC,EAC3H,KAAMjB,GACF,OAAO,KAAKA,EAAS,KAAK,IAAI,KAAK,KAAK,EAAE,OAAS,GACtDc,EAAQ,OAAO,cAAed,EAAS,KAAK,IAAI,KAAK,KAAK,EACnD,IAED,EACP,EACA,MAAOmB,GAAUL,EAAQ,OAAO,cAAeK,CAAK,CAAC,CACvD,EAYD,kBAAkBL,EAAS,CAAE,QAAAS,EAAS,OAAAR,EAAQ,MAAAC,CAAK,EAAI,CACtD,OAAO7C,EAAI,IAAI+C,EAAe,8DAA+D,CAAE,QAAS,mBAAmBK,CAAO,EAAG,OAAAR,EAAQ,MAAAC,CAAO,EAAC,EACnJ,KAAMhB,GAAac,EAAQ,OAAO,mBAAoBd,EAAS,KAAK,IAAI,KAAK,KAAK,CAAC,EACnF,MAAOmB,GAAUL,EAAQ,OAAO,cAAeK,CAAK,CAAC,CACvD,EAED,2BAA2BL,EAAS,CACnC,OAAIU,EAAiB,EAAC,iBAAmBA,EAAe,EAAG,gBAAgB,WAC1EV,EAAQ,OAAO,6BAA8BU,EAAe,EAAG,gBAAgB,SAAS,EACjFA,EAAe,EAAG,gBAAgB,WAEnC,EACP,EASD,SAASV,EAASvB,EAAK,CACtB,OAAOpB,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,KAAK+C,EAAe,cAAc,EAAG,CAAE,QAAS3B,EAAK,EAC9D,KAAMS,IACNc,EAAQ,OAAO,WAAY,CAAE,IAAAvB,EAAK,YAAaA,EAAK,EAC7C,CAAE,IAAAA,EAAK,YAAaA,CAAK,EAChC,EACA,MAAO4B,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAU,CACnB,MAAAL,EAAQ,OAAO,cAAe,CAAE,IAAAvB,EAAK,MAAA4B,CAAK,CAAE,EAGtCA,CACT,CAAG,CACD,EAUD,YAAYL,EAAS,CAAE,QAAAS,EAAS,YAAA/B,CAAW,EAAI,CAC9C,OAAOrB,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,IAAI+C,EAAe,yBAA0B,CAAE,QAAS,mBAAmBK,CAAO,CAAG,GAAG,CAAE,IAAK,cAAe,MAAO/B,CAAW,CAAE,EAC3I,KAAMQ,IACNc,EAAQ,OAAO,cAAe,CAAE,IAAKS,EAAS,YAAA/B,EAAa,EACpD,CAAE,QAAA+B,EAAS,YAAA/B,CAAa,EAC/B,EACA,MAAO2B,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAU,CACnB,MAAAL,EAAQ,OAAO,cAAe,CAAE,QAAAS,EAAS,MAAAJ,CAAK,CAAE,EAG1CA,CACT,CAAG,CACD,EASD,YAAYL,EAASvB,EAAK,CACzB,OAAOpB,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,OAAO+C,EAAe,yBAA0B,CAAE,QAAS,mBAAmB3B,CAAG,CAAC,CAAE,CAAC,EAC9F,KAAMS,GAAac,EAAQ,OAAO,cAAevB,CAAG,CAAC,EACrD,MAAO4B,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,IAAAvB,EAAK,MAAA4B,CAAK,CAAE,CAAC,CACjE,EAWD,aAAaL,EAAS,CAAE,OAAAjB,EAAQ,IAAAN,CAAG,EAAI,CACtC,OAAOpB,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,KAAK+C,EAAe,8BAA+B,CAAE,OAAArB,CAAM,CAAE,EAAG,CAAE,QAASN,EAAK,EACzF,KAAMS,GAAac,EAAQ,OAAO,eAAgB,CAAE,OAAAjB,EAAQ,IAAAN,CAAG,CAAE,CAAC,EAClE,MAAO4B,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,CAAC,CACpE,EAWD,gBAAgBL,EAAS,CAAE,OAAAjB,EAAQ,IAAAN,CAAG,EAAI,CACzC,OAAOpB,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,OAAO+C,EAAe,8BAA+B,CAAE,OAAArB,CAAM,CAAE,EAAG,CAAE,QAASN,EAAK,EAC3F,KAAMS,GAAac,EAAQ,OAAO,kBAAmB,CAAE,OAAAjB,EAAQ,IAAAN,CAAG,CAAE,CAAC,EACrE,MAAO4B,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAU,CACnB,MAAAL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,EAGzCA,CACT,CAAG,CACD,EAWD,gBAAgBL,EAAS,CAAE,OAAAjB,EAAQ,IAAAN,CAAG,EAAI,CACzC,OAAOpB,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,KAAK+C,EAAe,iCAAkC,CAAE,OAAArB,CAAM,CAAE,EAAG,CAAE,QAASN,EAAK,EAC5F,KAAMS,GAAac,EAAQ,OAAO,kBAAmB,CAAE,OAAAjB,EAAQ,IAAAN,CAAG,CAAE,CAAC,EACrE,MAAO4B,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,CAAC,CACpE,EAWD,mBAAmBL,EAAS,CAAE,OAAAjB,EAAQ,IAAAN,CAAG,EAAI,CAC5C,OAAOpB,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,OAAO+C,EAAe,iCAAkC,CAAE,OAAArB,CAAM,CAAE,EAAG,CAAE,QAASN,EAAK,EAC9F,KAAMS,GAAac,EAAQ,OAAO,qBAAsB,CAAE,OAAAjB,EAAQ,IAAAN,CAAG,CAAE,CAAC,EACxE,MAAO4B,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,CAAC,CACpE,EASD,gBAAgBL,EAASjB,EAAQ,CAChC,OAAO1B,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,KAAK+C,EAAe,4BAA6B,CAAE,OAAArB,CAAM,CAAE,CAAC,EACrE,MAAOsB,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,CAAC,CACpE,EASD,WAAWL,EAASjB,EAAQ,CAC3B,OAAO1B,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,OAAO+C,EAAe,uBAAwB,CAAE,OAAArB,CAAM,CAAE,CAAC,EAClE,KAAMG,GAAac,EAAQ,OAAO,aAAcjB,CAAM,CAAC,EACvD,MAAOsB,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,CAAC,CACpE,EAoBD,QAAQ,CAAE,OAAAM,EAAQ,SAAAC,CAAQ,EAAI,CAAE,OAAA7B,EAAQ,SAAA8B,EAAU,YAAAnC,EAAa,MAAAoC,EAAO,OAAApD,EAAQ,SAAAqD,EAAU,MAAAC,EAAO,SAAAC,EAAU,QAAAC,CAAO,EAAI,CACnH,OAAO7D,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,KAAK+C,EAAe,aAAa,EAAG,CAAE,OAAArB,EAAQ,SAAA8B,EAAU,YAAAnC,EAAa,MAAAoC,EAAO,OAAApD,EAAQ,SAAAqD,EAAU,MAAAC,EAAO,SAAAC,EAAU,QAAAC,EAAS,EACjI,KAAMhC,GAAa0B,EAAS,cAAe7B,GAAUG,EAAS,KAAK,IAAI,KAAK,EAAE,CAAC,EAC/E,MAAOmB,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAU,CACnB,MAAAM,EAAO,cAAe,CAAE,OAAA5B,EAAQ,MAAAsB,CAAK,CAAE,EACjCA,CACT,CAAG,CACD,EASD,YAAYL,EAASjB,EAAQ,CAC5B,OAAO1B,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,IAAI+C,EAAe,uBAAwB,CAAE,OAAArB,CAAM,CAAE,CAAC,EAC/D,KAAMG,GAAac,EAAQ,OAAO,cAAed,CAAQ,CAAC,EAC1D,MAAOmB,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,CAAC,CACpE,EAWD,kBAAkBL,EAAS,CAAE,OAAAjB,EAAQ,QAAAI,EAAU,EAAI,EAAI,CACtD,MAAMgC,EAAahC,EAAU,SAAW,UACxC,OAAO9B,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,IAAI+C,EAAe,oCAAqC,CAAE,OAAArB,EAAQ,WAAAoC,CAAU,CAAE,CAAC,EACxF,KAAMjC,GAAac,EAAQ,OAAO,oBAAqB,CAAE,OAAAjB,EAAQ,QAAAI,CAAO,CAAE,CAAC,EAC3E,MAAOkB,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,CAAC,CACpE,EAYD,YAAYL,EAAS,CAAE,OAAAjB,EAAQ,IAAAS,EAAK,MAAAC,CAAK,EAAI,CAC5C,MAAM2B,EAAe,CAAC,QAAS,cAAe,SAAS,EACvD,MAAI,CAAC,QAAS,WAAY,QAAS,cAAe,WAAY,SAAS,EAAE,QAAQ5B,CAAG,IAAM,IAErF,OAAOC,GAAU,WAElB2B,EAAa,QAAQ5B,CAAG,IAAM,IAAMC,EAAM,OAAS,GACjD2B,EAAa,QAAQ5B,CAAG,IAAM,IAG3BnC,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,IAAI+C,EAAe,uBAAwB,CAAE,OAAArB,CAAM,CAAE,EAAG,CAAE,IAAAS,EAAK,MAAAC,EAAO,EAC/E,KAAMP,GAAac,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,IAAAS,EAAK,MAAAC,CAAK,CAAE,CAAC,EACxE,MAAOY,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,CAAC,EAG/D,QAAQ,OAAO,IAAI,MAAM,sBAAsB,CAAC,CACvD,EASD,gBAAgBL,EAASjB,EAAQ,CAChC,OAAO1B,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,KAAK+C,EAAe,+BAAgC,CAAE,OAAArB,CAAM,CAAE,CAAC,EACxE,KAAKG,GAAY,EAAI,EACrB,MAAOmB,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,OAAAjB,EAAQ,MAAAsB,CAAK,CAAE,CAAC,CACpE,CACF,EAEAjC,GAAe,OAAE/B,EAAK,UAAE0B,EAAW6B,kBAASG,EAAO,EC9sB7C1D,GAAQ,CACb,KAAM,CAAE,EACR,WAAY,CAAE,EACd,YAAa,EACb,QAAS,CAAE,EACX,YAAa,GACb,yBAA0B,IAC3B,EAEM0B,GAAY,CAEjB,iBAAiB1B,EAAOgE,EAAO,CAC9BgB,EAAU,EAAE,WAAY,0DAA0D,EAAI,OAAShB,EAAM,MAAM,SAAS,KAAK,KAAK,QAAS,CAAE,OAAQ,EAAI,CAAE,EACvJ,QAAQ,MAAMhE,EAAOgE,CAAK,CAC1B,EAED,eAAehE,EAAO,CAAE,WAAAiF,EAAY,YAAAC,CAAW,EAAI,CAClDlF,EAAM,WAAaiF,EACnBjF,EAAM,YAAckF,CACpB,EAED,iBAAiBlF,EAAOmF,EAAmB,CAC1CnF,EAAM,yBAA2BmF,CACjC,EAED,eAAenF,EAAOkF,EAAa,CAClClF,EAAM,YAAckF,CACpB,EAED,YAAYlF,EAAOoF,EAAU,CAC5BpF,EAAM,WAAW,KAAKoF,CAAQ,CAC9B,EAED,iBAAiBpF,EAAOqF,EAAiB,CAExCrF,EAAM,WAAaqF,CACnB,EAED,WAAWrF,EAAOsF,EAAM,CACvBtF,EAAM,KAAOsF,CACb,EAED,SAAStF,EAAO,CAAE,MAAAuF,EAAO,MAAAvB,CAAK,EAAI,CAC5B,MAAM,QAAQuB,CAAK,IACvBA,EAAQ,CAACA,CAAK,GAEfA,EAAM,QAASC,GAAQ,CACtB,MAAMC,EAAMzF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOD,CAAG,EACjDC,EAAI,MAAQzB,CACf,CAAG,CACD,EAED,WAAWhE,EAAO,CAAE,MAAAuF,EAAO,MAAAvB,CAAK,EAAI,CACnC,MAAMyB,EAAMzF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EACnDE,EAAI,MAAQ,IACZ,EAED,UAAUzF,EAAO,CAAE,MAAAuF,EAAO,OAAAlE,CAAM,EAAI,CACnC,MAAMoE,EAAMzF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EACnDE,EAAI,OAAS,GACbA,EAAI,OAASpE,CACb,EAED,gBAAgBrB,EAAO,CAAE,MAAAuF,EAAO,WAAAG,CAAU,EAAI,CAC7C,MAAMD,EAAMzF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EAC/CE,IACHA,EAAI,WAAaC,IAAe,GAEjC,EAED,WAAW1F,EAAOuF,EAAO,CACxB,MAAME,EAAMzF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EACnDE,EAAI,OAAS,GACbA,EAAI,OAAS,CAAE,EACXA,EAAI,YACPA,EAAI,aAAe,GAEpB,EAED,aAAazF,EAAOuF,EAAO,CAC1BvF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EAAE,OAAS,GAClDvF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EAAE,OAAS,CAAE,EACpDvF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EAAE,cAAgB,GACzDvF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EAAE,UAAY,GACrDvF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EAAE,aAAe,GACxDvF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EAAE,WAAa,EACtD,EAED,UAAUvF,EAAOuF,EAAO,CACvB,MAAME,EAAMzF,EAAM,KAAK,KAAKyF,GAAOA,EAAI,KAAOF,CAAK,EAC7CI,EAAUF,EAAI,OACpBA,EAAI,OAAS,KACbA,EAAI,QAAUE,EACd3F,EAAM,aAEN,EAED,UAAUA,EAAO,CAChBA,EAAM,KAAO,CAAE,CACf,EACD,MAAMA,EAAO,CACZA,EAAM,KAAO,CAAE,EACfA,EAAM,WAAa,CAAE,EACrBA,EAAM,YAAc,CACpB,EACD,aAAaA,EAAO6B,EAAI,CACnB,MAAM,QAAQA,CAAE,EACnBA,EAAG,QAAS2D,GAAQ,CACnBI,EAAI,IAAI5F,EAAM,QAASwF,EAAK,EAAI,CACpC,CAAI,EAEDI,EAAI,IAAI5F,EAAM,QAAS6B,EAAI,EAAI,CAEhC,EACD,YAAY7B,EAAO6B,EAAI,CAClB,MAAM,QAAQA,CAAE,EACnBA,EAAG,QAAS2D,GAAQ,CACnBI,EAAI,IAAI5F,EAAM,QAASwF,EAAK,EAAK,CACrC,CAAI,EAEDI,EAAI,IAAI5F,EAAM,QAAS6B,EAAI,EAAK,CAEjC,CACF,EAEM0B,GAAU,CACf,QAAQvD,EAAO,CACd,OAAO,SAAS6B,EAAI,CACnB,OAAO7B,EAAM,QAAQ6B,CAAE,CACvB,CACD,EACD,cAAc7B,EAAO,CACpB,OAAOA,EAAM,UACb,EACD,WAAWA,EAAO,CACjB,OAAOA,EAAM,IACb,EACD,eAAeA,EAAO,CACrB,OAAOA,EAAM,WACb,EACD,gBAAkBA,GAAW6F,GACrB7F,EAAM,WAAW,KAAMoF,GAAaA,EAAS,KAAOS,CAAkB,CAE/E,EAEMnC,GAAU,CAEf,UAAUC,EAAS,CAAE,MAAA4B,EAAO,OAAAlE,CAAM,EAAI,CACrC,IAAIiE,EACJ,OAAI,MAAM,QAAQC,CAAK,EACtBD,EAAOC,EAEPD,EAAO,CAACC,CAAK,EAEPvE,EAAI,aAAY,EAAG,KAAM6B,IAC/Bc,EAAQ,OAAO,eAAgB2B,CAAI,EACnC3B,EAAQ,OAAO,eAAgB,SAAS,EACjC3C,EAAI,KAAK8E,EAAY,sBAAsB,EAAG,CAAE,OAAQR,EAAM,OAAAjE,EAAQ,EAC3E,KAAMwB,IACNc,EAAQ,OAAO,cAAe2B,CAAI,EAClC3B,EAAQ,OAAO,cAAe,SAAS,EACvC2B,EAAK,QAAQS,GAAU,CACtBpC,EAAQ,OAAO,YAAa,CAAE,MAAOoC,EAAQ,OAAA1E,EAAQ,CAC3D,CAAM,EAGML,EAAI,IAAI8E,EAAY,YAAY,CAAC,EACtC,KAAK,IAAM,CACPjD,EAAS,KAAK,kBACjBmD,EACC,EACC,WACA,2GACA,EACD,CACC,QAAS,IAAM,OAAO,SAAS,OAAQ,EACvC,MAAO,EAEP,CACD,EACD,WAAW,UAAW,CACrB,SAAS,OAAQ,CACjB,EAAE,GAAI,EAEf,CAAO,EACA,MAAM,IAAM,CACP,MAAM,QAAQT,CAAK,GACvB5B,EAAQ,OAAO,WAAY,CAC1B,MAAO2B,EACP,MAAO,EAAE,WAAY,wEAAwE,CACtG,CAAS,CAET,CAAO,EACF,EACA,MAAOtB,GAAU,CACjBL,EAAQ,OAAO,cAAe2B,CAAI,EAClC3B,EAAQ,OAAO,cAAe,SAAS,EACvCA,EAAQ,OAAO,WAAY,CAC1B,MAAO2B,EACP,MAAOtB,EAAM,SAAS,KAAK,KAAK,OACtC,CAAM,EACDL,EAAQ,OAAO,mBAAoB,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CACxD,CAAK,EACF,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CAAC,CACnE,EACD,eAAeL,EAAS,CAAE,MAAA4B,EAAO,OAAAlE,CAAM,EAAI,CAC1C,IAAIiE,EACJ,OAAI,MAAM,QAAQC,CAAK,EACtBD,EAAOC,EAEPD,EAAO,CAACC,CAAK,EAEPvE,EAAI,eAAe,KAAK,KAC9B2C,EAAQ,OAAO,eAAgB2B,CAAI,EACnC3B,EAAQ,OAAO,eAAgB,SAAS,EACjC3C,EAAI,KAAK8E,EAAY,qBAAqB,EAAG,CAAE,MAAAP,EAAO,EAC3D,KAAM1C,GAAa,CACnBc,EAAQ,OAAO,kBAAmB,CAAE,MAAA4B,EAAO,WAAY,GAAM,CAClE,CAAK,EACA,MAAOvB,GAAU,CACjBL,EAAQ,OAAO,cAAe2B,CAAI,EAClC3B,EAAQ,OAAO,cAAe,SAAS,EACvCA,EAAQ,OAAO,WAAY,CAC1B,MAAO2B,EACP,MAAOtB,EAAM,SAAS,KAAK,KAAK,OACtC,CAAM,EACDL,EAAQ,OAAO,mBAAoB,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CACxD,CAAK,EACA,QAAQ,IAAM,CACdL,EAAQ,OAAO,cAAe2B,CAAI,EAClC3B,EAAQ,OAAO,cAAe,SAAS,CAC5C,CAAK,EACF,EAAE,MAAOK,GAAUL,EAAQ,OAAO,cAAe,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CAAC,CACnE,EACD,WAAWL,EAAS,CAAE,MAAA4B,GAAS,CAC9B,IAAID,EACJ,OAAI,MAAM,QAAQC,CAAK,EACtBD,EAAOC,EAEPD,EAAO,CAACC,CAAK,EAEPvE,EAAI,aAAY,EAAG,KAAM6B,IAC/Bc,EAAQ,OAAO,eAAgB2B,CAAI,EAC5BtE,EAAI,KAAK8E,EAAY,uBAAuB,EAAG,CAAE,OAAQR,EAAM,EACpE,KAAMzC,IACNc,EAAQ,OAAO,cAAe2B,CAAI,EAClCA,EAAK,QAAQS,GAAU,CACtBpC,EAAQ,OAAO,aAAcoC,CAAM,CACzC,CAAM,EACM,GACP,EACA,MAAO/B,GAAU,CACjBL,EAAQ,OAAO,cAAe2B,CAAI,EAClC3B,EAAQ,OAAO,mBAAoB,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CACxD,CAAK,EACF,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CAAC,CACnE,EACD,aAAaL,EAAS,CAAE,MAAA4B,GAAS,CAChC,OAAOvE,EAAI,aAAY,EAAG,KAAM6B,IAC/Bc,EAAQ,OAAO,eAAgB4B,CAAK,EAC7BvE,EAAI,IAAI8E,EAAY,2BAA2BP,SAAO,CAAC,EAC5D,KAAM1C,IACNc,EAAQ,OAAO,cAAe4B,CAAK,EACnC5B,EAAQ,OAAO,eAAgB4B,CAAK,EAC7B,GACP,EACA,MAAOvB,GAAU,CACjBL,EAAQ,OAAO,cAAe4B,CAAK,EACnC5B,EAAQ,OAAO,mBAAoB,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CACxD,CAAK,EACF,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CAAC,CACnE,EAED,UAAUL,EAAS,CAAE,MAAA4B,GAAS,CAC7B,OAAOvE,EAAI,aAAY,EAAG,KAAM6B,IAC/Bc,EAAQ,OAAO,eAAgB4B,CAAK,EACpC5B,EAAQ,OAAO,eAAgB,SAAS,EACjC3C,EAAI,IAAI8E,EAAY,wBAAwBP,SAAO,CAAC,EACzD,KAAM1C,IACNc,EAAQ,OAAO,cAAe,SAAS,EACvCA,EAAQ,OAAO,cAAe4B,CAAK,EACnC5B,EAAQ,OAAO,YAAa4B,CAAK,EAC1B,GACP,EACA,MAAOvB,GAAU,CACjBL,EAAQ,OAAO,cAAe4B,CAAK,EACnC5B,EAAQ,OAAO,cAAe,SAAS,EACvCA,EAAQ,OAAO,mBAAoB,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CACxD,CAAK,EACF,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,MAAA4B,EAAO,MAAAvB,CAAK,CAAE,CAAC,CACnE,EAED,WAAWL,EAAS,CACnB,OAAAA,EAAQ,OAAO,eAAgB,MAAM,EAC9B3C,EAAI,IAAI8E,EAAY,oBAAoB,CAAC,EAC9C,KAAMjD,IACNc,EAAQ,OAAO,aAAcd,EAAS,KAAK,IAAI,EAC/Cc,EAAQ,OAAO,cAAe,MAAM,EAC7B,GACP,EACA,MAAOK,GAAUL,EAAQ,OAAO,cAAeK,CAAK,CAAC,CACvD,EAED,MAAM,cAAcL,EAAS,CAAE,wBAAAsC,EAA0B,EAAK,EAAK,GAAI,CACtE,GAAIA,GAA2B,CAACtC,EAAQ,MAAM,yBAA0B,CACvEA,EAAQ,OAAO,eAAgB,YAAY,EAC3C,GAAI,CACH,MAAMwB,EAAoBnE,EAAI,IAAI8E,EAAY,0BAA0B,CAAC,EACzEnC,EAAQ,OAAO,mBAAoBwB,CAAiB,EACpD,MAAMe,EAA4B,MAAMf,EACxC,OAAIe,EAA0B,KAAK,OAAS,GAC3CvC,EAAQ,OAAO,mBAAoBuC,EAA0B,IAAI,EACjEvC,EAAQ,OAAO,cAAe,YAAY,EACnC,KAERA,EAAQ,OAAO,cAAe,YAAY,EACnC,GACP,OAAQK,EAAO,CACfL,EAAQ,OAAO,cAAeK,CAAK,CACnC,CACD,CACD,OAAOL,EAAQ,MAAM,wBACrB,CAEF,EAEA2B,GAAe,OAAEtF,GAAK,UAAE0B,GAAW6B,mBAASG,EAAO,EC7U7C1D,GAAQ,CACb,WAAY,CAAE,CACf,EACM0B,GAAY,CACjB,cAAc1B,EAAOmB,EAAM,CAC1BnB,EAAM,WAAamB,CACnB,CACF,EACMoC,GAAU,CACf,cAAcvD,EAAO,CACpB,OAAOA,EAAM,UACb,CACF,EACM0D,GAAU,CAAE,EAElByC,GAAe,OAAEnG,GAAK,UAAE0B,GAAW6B,mBAASG,EAAO,ECX7C1D,GAAQ,CAAE,EACV0B,GAAY,CAAE,EACd6B,GAAU,CAAE,EACZG,GAAU,CAWf,aAAaC,EAAS,CAAE,IAAA8B,EAAK,IAAAtC,EAAK,MAAAC,CAAK,EAAI,CAC1C,OAAOpC,EAAI,aAAY,EAAG,KAAM6B,GACxB7B,EAAI,KAAK+C,EAAe,uDAAwD,CAAE,IAAA0B,EAAK,IAAAtC,CAAK,GAAG,CAAE,MAAAC,EAAO,EAC7G,MAAOY,GAAU,CAAE,MAAMA,CAAK,CAAE,CAClC,EAAE,MAAOA,GAAUL,EAAQ,OAAO,cAAe,CAAE,IAAA8B,EAAK,IAAAtC,EAAK,MAAAC,EAAO,MAAAY,CAAO,EAAC,CAC7E,CACF,EAEAoC,GAAe,CAAE,MAAApG,GAAK,UAAE0B,GAAW,QAAA6B,GAAS,QAAAG,EAAO,ECjBnDkC,EAAI,IAAIS,CAAI,EAEZ,MAAMC,GAAQ,GAER5E,GAAY,CACjB,YAAY1B,EAAOgE,EAAO,CACrB,IACH,MAAMuC,EAAUvC,EAAM,MAAM,SAAS,KAAK,IAAI,KAAK,QACzCgB,EAAA,EAAE,WAAY,0DAA0D,EAAI,OAASuB,EAAS,CAAE,OAAQ,GAAM,OAC7G,CACDvB,EAAA,EAAE,WAAY,0DAA0D,CAAC,CACpF,CACQ,cAAMhF,EAAOgE,CAAK,CAC3B,CACD,EAEerE,EAAA,IAAI6G,EAAM,CACxB,QAAS,CACR,MAAAzE,GACA,KAAAuD,GACA,SAAAa,GACA,GAAAC,EACD,EACA,OAAQE,GAER,UAAA5E,EACD,CAAC,ECzBK+E,EAAQ,UAAM,OAA+C,6BAAmB,EAAC,2DACjFC,EAAO,UAAM,OAAmD,4BAAkB,EAAC,iGAEzFd,EAAI,IAAIe,CAAM,EAUd,MAAMC,EAAY,SAAS,MACrBhH,EAAS,IAAI+G,EAAO,CACzB,KAAM,UAGN,KAAMb,EAAY,EAAE,EACpB,gBAAiB,SACjB,OAAQ,CACP,CACC,KAAM,qCACN,UAAWW,EACX,MAAO,GACP,KAAM,QACN,KAAM,CACL,MAAO,IACC,EAAE,WAAY,cAAc,CAEpC,EACD,SAAU,CACT,CACC,KAAM,iBACN,KAAM,QACN,KAAM,CACL,MAAQjG,GACHA,EAAG,OAAO,gBAAkB,QACxB,EAAE,WAAY,QAAQ,EAE1BA,EAAG,OAAO,gBAAkB,WACxB,EAAE,WAAY,gBAAgB,EAE/B,mBAAmBA,EAAG,OAAO,aAAa,CAElD,EACD,UAAWiG,CACX,CACD,CACD,EACD,CACC,KAAM,oCACN,UAAWC,EACX,MAAO,GACP,KAAM,OACN,KAAM,CACL,MAAO,IACC,EAAE,WAAY,WAAW,CAEjC,EACD,SAAU,CACT,CACC,KAAM,YACN,KAAM,gBACN,KAAM,CACL,MAAO,MAAOlG,GAAO,CACpB,GAAIA,EAAG,OAAS,OACf,OAAO,EAAE,WAAY,WAAW,EAEjC,GAAII,EAAkBJ,EAAG,OAAO,QAAQ,EACvC,OAAOI,EAAkBJ,EAAG,OAAO,QAAQ,EAE5C,MAAMb,EAAM,SAAS,eAAe,EACpC,MAAMyF,EAAWzF,EAAM,QAAQ,gBAAgBa,EAAG,OAAO,QAAQ,EACjE,GAAI4E,EAAS,YACZ,OAAOA,EAAS,WAEjB,CACD,EACD,UAAWsB,EACX,SAAU,CACT,CACC,KAAM,MACN,KAAM,eACN,UAAWA,CACX,CACD,CACD,CACD,CACD,CACD,CACF,CAAC,EAED9G,EAAO,UAAU,MAAOY,GAAO,SAC9B,MAAMqG,EAAY,OAAMrG,OAAG,MAAK,QAARA,qBAAgBA,IACpCqG,GACH,SAAS,MAAQ,GAAGA,SAAS,OAAMD,UACnCE,EAAeD,CAAS,GAExB,SAAS,MAAQD,CAEnB,CAAC,ECrGDhB,EAAI,IAAImB,EAAU,CAAE,YAAa,EAAK,CAAE,EAExCrH,EAAKC,EAAOC,CAAM,EAGlBgG,EAAI,UAAU,EAAI,EAClBA,EAAI,UAAU,EAAI,EAClBA,EAAI,UAAU,GAAK,GACnBA,EAAI,UAAU,IAAM,IAEpBA,EAAI,UAAU,cAAgB,cAEzB,MAACH,GAAM,IAAIG,EAAI,CACnB,OAAAhG,EACA,MAAAD,EACA,OAAQqH,GAAKA,EAAEC,CAAG,CACnB,CAAC,EAAE,OAAO,UAAU","names":["sync","store","router","options","moduleName","cloneRoute","state","transition","isTimeTraveling","currentPath","storeUnwatch","route","fullPath","afterEachUnHook","to","from","clone","_sfc_main","APPS_SECTION_ENUM","t","sanitize","url","api","confirmPassword","axios","data","orderGroups","groups","orderBy","a","b","defaults","mutations","usersObj","existingUsers","id","newUsers","users","_usersObj","length","userCount","group","gid","displayName","e","groupIndex","groupSearch","updatedGroup","userid","user","userIndex","response","enabled","actionType","disabledGroup","userGroup","logger","key","value","humanValue","parseFileSize","getters","CancelToken","searchRequestCancelSource","actions","context","offset","limit","search","generateOcsUrl","error","userId","usersCount","limitParam","groupid","getCapabilities","commit","dispatch","password","email","subadmin","quota","language","manager","userStatus","allowedEmpty","showError","categories","updateCount","categoriesPromise","category","categoriesArray","apps","appId","_id","app","canInstall","version","Vue","selectedCategoryId","generateUrl","_appId","showInfo","shouldRefetchCategories","categoriesPromiseResponse","settings","oc","Vuex","debug","message","Store","Users","Apps","Router","baseTitle","metaTitle","setPageHeading","VTooltip","h","App"],"sources":["../node_modules/vuex-router-sync/index.js","../apps/settings/src/App.vue","../apps/settings/src/constants/AppsConstants.js","../apps/settings/src/store/api.js","../apps/settings/src/store/users.js","../apps/settings/src/store/apps.js","../apps/settings/src/store/settings.js","../apps/settings/src/store/oc.js","../apps/settings/src/store/index.js","../apps/settings/src/router.js","../apps/settings/src/main-apps-users-management.js"],"sourcesContent":["exports.sync = function (store, router, options) {\n  var moduleName = (options || {}).moduleName || 'route'\n\n  store.registerModule(moduleName, {\n    namespaced: true,\n    state: cloneRoute(router.currentRoute),\n    mutations: {\n      'ROUTE_CHANGED': function ROUTE_CHANGED (state, transition) {\n        store.state[moduleName] = cloneRoute(transition.to, transition.from)\n      }\n    }\n  })\n\n  var isTimeTraveling = false\n  var currentPath\n\n  // sync router on store change\n  var storeUnwatch = store.watch(\n    function (state) { return state[moduleName]; },\n    function (route) {\n      var fullPath = route.fullPath;\n      if (fullPath === currentPath) {\n        return\n      }\n      if (currentPath != null) {\n        isTimeTraveling = true\n        router.push(route)\n      }\n      currentPath = fullPath\n    },\n    { sync: true }\n  )\n\n  // sync store on router navigation\n  var afterEachUnHook = router.afterEach(function (to, from) {\n    if (isTimeTraveling) {\n      isTimeTraveling = false\n      return\n    }\n    currentPath = to.fullPath\n    store.commit(moduleName + '/ROUTE_CHANGED', { to: to, from: from })\n  })\n\n  return function unsync () {\n    // On unsync, remove router hook\n    if (afterEachUnHook != null) {\n      afterEachUnHook()\n    }\n\n    // On unsync, remove store watch\n    if (storeUnwatch != null) {\n      storeUnwatch()\n    }\n\n    // On unsync, unregister Module with store\n    store.unregisterModule(moduleName)\n  }\n}\n\nfunction cloneRoute (to, from) {\n  var clone = {\n    name: to.name,\n    path: to.path,\n    hash: to.hash,\n    query: to.query,\n    params: to.params,\n    fullPath: to.fullPath,\n    meta: to.meta\n  }\n  if (from) {\n    clone.from = cloneRoute(from)\n  }\n  return Object.freeze(clone)\n}\n\n","<!--\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<router-view />\n</template>\n\n<script>\nexport default {\n\tname: 'App',\n\tbeforeMount() {\n\t\t// importing server data into the store\n\t\tconst serverDataElmt = document.getElementById('serverData')\n\t\tif (serverDataElmt !== null) {\n\t\t\tthis.$store.commit('setServerData', JSON.parse(document.getElementById('serverData').dataset.server))\n\t\t}\n\t},\n}\n</script>\n","/**\n * @copyright 2022, Julia Kirschenheuter <julia.kirschenheuter@nextcloud.com>\n *\n * @author Julia Kirschenheuter <julia.kirschenheuter@nextcloud.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { translate as t } from '@nextcloud/l10n'\n\n/** Enum of verification constants, according to Apps */\nexport const APPS_SECTION_ENUM = Object.freeze({\n\tinstalled: t('settings', 'Your apps'),\n\tenabled: t('settings', 'Active apps'),\n\tdisabled: t('settings', 'Disabled apps'),\n\tupdates: t('settings', 'Updates'),\n\t'app-bundles': t('settings', 'App bundles'),\n\tfeatured: t('settings', 'Featured apps'),\n\tsupported: t('settings', 'Supported apps'), // From subscription\n})\n","/**\n * @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n * @author Sujith Haridasan <sujith.h@gmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport axios from '@nextcloud/axios'\nimport { confirmPassword } from '@nextcloud/password-confirmation'\nimport '@nextcloud/password-confirmation/dist/style.css'\n\nconst sanitize = function(url) {\n\treturn url.replace(/\\/$/, '') // Remove last url slash\n}\n\nexport default {\n\n\t/**\n\t * This Promise is used to chain a request that require an admin password confirmation\n\t * Since chaining Promise have a very precise behavior concerning catch and then,\n\t * you'll need to be careful when using it.\n\t * e.g\n\t * // store\n\t * action(context) {\n\t *   return api.requireAdmin().then((response) => {\n\t *     return api.get('url')\n\t *       .then((response) => {API success})\n\t *       .catch((error) => {API failure});\n\t *   }).catch((error) => {requireAdmin failure});\n\t * }\n\t * // vue\n\t * this.$store.dispatch('action').then(() => {always executed})\n\t *\n\t * Since Promise.then().catch().then() will always execute the last then\n\t * this.$store.dispatch('action').then will always be executed\n\t *\n\t * If you want requireAdmin failure to also catch the API request failure\n\t * you will need to throw a new error in the api.get.catch()\n\t *\n\t * e.g\n\t * api.requireAdmin().then((response) => {\n\t *   api.get('url')\n\t *     .then((response) => {API success})\n\t *     .catch((error) => {throw error;});\n\t * }).catch((error) => {requireAdmin OR API failure});\n\t *\n\t * @return {Promise}\n\t */\n\trequireAdmin() {\n\t\treturn confirmPassword()\n\t},\n\tget(url, options) {\n\t\treturn axios.get(sanitize(url), options)\n\t},\n\tpost(url, data) {\n\t\treturn axios.post(sanitize(url), data)\n\t},\n\tpatch(url, data) {\n\t\treturn axios.patch(sanitize(url), data)\n\t},\n\tput(url, data) {\n\t\treturn axios.put(sanitize(url), data)\n\t},\n\tdelete(url, data) {\n\t\treturn axios.delete(sanitize(url), { params: data })\n\t},\n}\n","/**\n * @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author Arthur Schiwon <blizzz@arthur-schiwon.de>\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Daniel Calviño Sánchez <danxuliu@gmail.com>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n * @author Vincent Petry <vincent@nextcloud.com>\n * @author Stephan Orbaugh <stephan.orbaugh@nextcloud.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport api from './api.js'\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport { getCapabilities } from '@nextcloud/capabilities'\nimport logger from '../logger.js'\nimport { parseFileSize } from \"@nextcloud/files\"\n\nconst orderGroups = function(groups, orderBy) {\n\t/* const SORT_USERCOUNT = 1;\n\t * const SORT_GROUPNAME = 2;\n\t * https://github.com/nextcloud/server/blob/208e38e84e1a07a49699aa90dc5b7272d24489f0/lib/private/Group/MetaData.php#L34\n\t */\n\tif (orderBy === 1) {\n\t\treturn groups.sort((a, b) => a.usercount - a.disabled < b.usercount - b.disabled)\n\t} else {\n\t\treturn groups.sort((a, b) => a.name.localeCompare(b.name))\n\t}\n}\n\nconst defaults = {\n\tgroup: {\n\t\tid: '',\n\t\tname: '',\n\t\tusercount: 0,\n\t\tdisabled: 0,\n\t\tcanAdd: true,\n\t\tcanRemove: true,\n\t},\n}\n\nconst state = {\n\tusers: [],\n\tgroups: [],\n\torderBy: 1,\n\tminPasswordLength: 0,\n\tusersOffset: 0,\n\tusersLimit: 25,\n\tdisabledUsersOffset: 0,\n\tdisabledUsersLimit: 25,\n\tuserCount: 0,\n\tshowConfig: {\n\t\tshowStoragePath: false,\n\t\tshowUserBackend: false,\n\t\tshowLastLogin: false,\n\t\tshowNewUserForm: false,\n\t\tshowLanguages: false,\n\t},\n}\n\nconst mutations = {\n\tappendUsers(state, usersObj) {\n\t\tconst existingUsers = state.users.map(({ id }) => id)\n\t\tconst newUsers = Object.values(usersObj)\n\t\t\t.filter(({ id }) => !existingUsers.includes(id))\n\n\t\tconst users = state.users.concat(newUsers)\n\t\tstate.usersOffset += state.usersLimit\n\t\tstate.users = users\n\t},\n\tupdateDisabledUsers(state, _usersObj) {\n\t\tstate.disabledUsersOffset += state.disabledUsersLimit\n\t},\n\tsetPasswordPolicyMinLength(state, length) {\n\t\tstate.minPasswordLength = length !== '' ? length : 0\n\t},\n\tinitGroups(state, { groups, orderBy, userCount }) {\n\t\tstate.groups = groups.map(group => Object.assign({}, defaults.group, group))\n\t\tstate.orderBy = orderBy\n\t\tstate.userCount = userCount\n\t\tstate.groups = orderGroups(state.groups, state.orderBy)\n\n\t},\n\taddGroup(state, { gid, displayName }) {\n\t\ttry {\n\t\t\tif (typeof state.groups.find((group) => group.id === gid) !== 'undefined') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// extend group to default values\n\t\t\tconst group = Object.assign({}, defaults.group, {\n\t\t\t\tid: gid,\n\t\t\t\tname: displayName,\n\t\t\t})\n\t\t\tstate.groups.unshift(group)\n\t\t\tstate.groups = orderGroups(state.groups, state.orderBy)\n\t\t} catch (e) {\n\t\t\tconsole.error('Can\\'t create group', e)\n\t\t}\n\t},\n\trenameGroup(state, { gid, displayName }) {\n\t\tconst groupIndex = state.groups.findIndex(groupSearch => groupSearch.id === gid)\n\t\tif (groupIndex >= 0) {\n\t\t\tconst updatedGroup = state.groups[groupIndex]\n\t\t\tupdatedGroup.name = displayName\n\t\t\tstate.groups.splice(groupIndex, 1, updatedGroup)\n\t\t\tstate.groups = orderGroups(state.groups, state.orderBy)\n\t\t}\n\t},\n\tremoveGroup(state, gid) {\n\t\tconst groupIndex = state.groups.findIndex(groupSearch => groupSearch.id === gid)\n\t\tif (groupIndex >= 0) {\n\t\t\tstate.groups.splice(groupIndex, 1)\n\t\t}\n\t},\n\taddUserGroup(state, { userid, gid }) {\n\t\tconst group = state.groups.find(groupSearch => groupSearch.id === gid)\n\t\tconst user = state.users.find(user => user.id === userid)\n\t\t// increase count if user is enabled\n\t\tif (group && user.enabled && state.userCount > 0) {\n\t\t\tgroup.usercount++\n\t\t}\n\t\tconst groups = user.groups\n\t\tgroups.push(gid)\n\t\tstate.groups = orderGroups(state.groups, state.orderBy)\n\t},\n\tremoveUserGroup(state, { userid, gid }) {\n\t\tconst group = state.groups.find(groupSearch => groupSearch.id === gid)\n\t\tconst user = state.users.find(user => user.id === userid)\n\t\t// lower count if user is enabled\n\t\tif (group && user.enabled && state.userCount > 0) {\n\t\t\tgroup.usercount--\n\t\t}\n\t\tconst groups = user.groups\n\t\tgroups.splice(groups.indexOf(gid), 1)\n\t\tstate.groups = orderGroups(state.groups, state.orderBy)\n\t},\n\taddUserSubAdmin(state, { userid, gid }) {\n\t\tconst groups = state.users.find(user => user.id === userid).subadmin\n\t\tgroups.push(gid)\n\t},\n\tremoveUserSubAdmin(state, { userid, gid }) {\n\t\tconst groups = state.users.find(user => user.id === userid).subadmin\n\t\tgroups.splice(groups.indexOf(gid), 1)\n\t},\n\tdeleteUser(state, userid) {\n\t\tconst userIndex = state.users.findIndex(user => user.id === userid)\n\t\tthis.commit('updateUserCounts', { user: state.users[userIndex], actionType: 'remove' })\n\t\tstate.users.splice(userIndex, 1)\n\t},\n\taddUserData(state, response) {\n\t\tconst user = response.data.ocs.data\n\t\tstate.users.unshift(user)\n\t\tthis.commit('updateUserCounts', { user, actionType: 'create' })\n\t},\n\tenableDisableUser(state, { userid, enabled }) {\n\t\tconst user = state.users.find(user => user.id === userid)\n\t\tuser.enabled = enabled\n\t\tthis.commit('updateUserCounts', { user, actionType: enabled ? 'enable' : 'disable' })\n\t},\n\t// update active/disabled counts, groups counts\n\tupdateUserCounts(state, { user, actionType }) {\n\t\t// 0 is a special value\n\t\tif (state.userCount === 0) {\n\t\t\treturn\n\t\t}\n\n\t\tconst disabledGroup = state.groups.find(group => group.id === 'disabled')\n\t\tswitch (actionType) {\n\t\tcase 'enable':\n\t\tcase 'disable':\n\t\t\tdisabledGroup.usercount += user.enabled ? -1 : 1 // update Disabled Users count\n\t\t\tstate.userCount += user.enabled ? 1 : -1 // update Active Users count\n\t\t\tuser.groups.forEach(userGroup => {\n\t\t\t\tconst group = state.groups.find(groupSearch => groupSearch.id === userGroup)\n\t\t\t\tgroup.disabled += user.enabled ? -1 : 1 // update group disabled count\n\t\t\t})\n\t\t\tbreak\n\t\tcase 'create':\n\t\t\tstate.userCount++ // increment Active Users count\n\n\t\t\tuser.groups.forEach(userGroup => {\n\t\t\t\tstate.groups\n\t\t\t\t\t.find(groupSearch => groupSearch.id === userGroup)\n\t\t\t\t    .usercount++ // increment group total count\n\t\t\t})\n\t\t\tbreak\n\t\tcase 'remove':\n\t\t\tif (user.enabled) {\n\t\t\t\tstate.userCount-- // decrement Active Users count\n\t\t\t\tuser.groups.forEach(userGroup => {\n\t\t\t\t\tconst group = state.groups.find(groupSearch => groupSearch.id === userGroup)\n\t\t\t\t\tif (!group) {\n\t\t\t\t\t\tconsole.warn('User group ' + userGroup + ' does not exist during user removal')\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tgroup.usercount-- // decrement group total count\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tdisabledGroup.usercount-- // decrement Disabled Users count\n\t\t\t\tuser.groups.forEach(userGroup => {\n\t\t\t\t\tconst group = state.groups.find(groupSearch => groupSearch.id === userGroup)\n\t\t\t\t\tgroup.disabled-- // decrement group disabled count\n\t\t\t\t})\n\t\t\t}\n\t\t\tbreak\n\t\tdefault:\n\t\t\tlogger.error(`Unknown action type in updateUserCounts: '${actionType}'`)\n\t\t\t// not throwing error to interrupt execution as this is not fatal\n\t\t}\n\t},\n\tsetUserData(state, { userid, key, value }) {\n\t\tif (key === 'quota') {\n\t\t\tconst humanValue = parseFileSize(value, true)\n\t\t\tstate.users.find(user => user.id === userid)[key][key] = humanValue !== null ? humanValue : value\n\t\t} else {\n\t\t\tstate.users.find(user => user.id === userid)[key] = value\n\t\t}\n\t},\n\n\t/**\n\t * Reset users list\n\t *\n\t * @param {object} state the store state\n\t */\n\tresetUsers(state) {\n\t\tstate.users = []\n\t\tstate.usersOffset = 0\n\t\tstate.disabledUsersOffset = 0\n\t},\n\n\tsetShowConfig(state, { key, value }) {\n\t\tstate.showConfig[key] = value\n\t},\n}\n\nconst getters = {\n\tgetUsers(state) {\n\t\treturn state.users\n\t},\n\tgetGroups(state) {\n\t\treturn state.groups\n\t},\n\tgetSubadminGroups(state) {\n\t\t// Can't be subadmin of admin or disabled\n\t\treturn state.groups.filter(group => group.id !== 'admin' && group.id !== 'disabled')\n\t},\n\tgetPasswordPolicyMinLength(state) {\n\t\treturn state.minPasswordLength\n\t},\n\tgetUsersOffset(state) {\n\t\treturn state.usersOffset\n\t},\n\tgetUsersLimit(state) {\n\t\treturn state.usersLimit\n\t},\n\tgetDisabledUsersOffset(state) {\n\t\treturn state.disabledUsersOffset\n\t},\n\tgetDisabledUsersLimit(state) {\n\t\treturn state.disabledUsersLimit\n\t},\n\tgetUserCount(state) {\n\t\treturn state.userCount\n\t},\n\tgetShowConfig(state) {\n\t\treturn state.showConfig\n\t},\n}\n\nconst CancelToken = axios.CancelToken\nlet searchRequestCancelSource = null\n\nconst actions = {\n\n\t/**\n\t * search users\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {number} options.offset List offset to request\n\t * @param {number} options.limit List number to return from offset\n\t * @param {string} options.search Search amongst users\n\t * @return {Promise}\n\t */\n\tsearchUsers(context, { offset, limit, search }) {\n\t\tsearch = typeof search === 'string' ? search : ''\n\n\t\treturn api.get(generateOcsUrl('cloud/users/details?offset={offset}&limit={limit}&search={search}', { offset, limit, search })).catch((error) => {\n\t\t\tif (!axios.isCancel(error)) {\n\t\t\t\tcontext.commit('API_FAILURE', error)\n\t\t\t}\n\t\t})\n\t},\n\n\t/**\n\t * Get user details\n\t *\n\t * @param {object} context store context\n\t * @param {string} userId user id\n\t * @return {Promise}\n\t */\n\tgetUser(context, userId) {\n\t\treturn api.get(generateOcsUrl(`cloud/users/${userId}`)).catch((error) => {\n\t\t\tif (!axios.isCancel(error)) {\n\t\t\t\tcontext.commit('API_FAILURE', error)\n\t\t\t}\n\t\t})\n\t},\n\n\t/**\n\t * Get all users with full details\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {number} options.offset List offset to request\n\t * @param {number} options.limit List number to return from offset\n\t * @param {string} options.search Search amongst users\n\t * @param {string} options.group Get users from group\n\t * @return {Promise}\n\t */\n\tgetUsers(context, { offset, limit, search, group }) {\n\t\tif (searchRequestCancelSource) {\n\t\t\tsearchRequestCancelSource.cancel('Operation canceled by another search request.')\n\t\t}\n\t\tsearchRequestCancelSource = CancelToken.source()\n\t\tsearch = typeof search === 'string' ? search : ''\n\n\t\t/**\n\t\t * Adding filters in the search bar such as in:files, in:users, etc.\n\t\t * collides with this particular search, so we need to remove them\n\t\t * here and leave only the original search query\n\t\t */\n\t\tsearch = search.replace(/in:[^\\s]+/g, '').trim()\n\n\t\tgroup = typeof group === 'string' ? group : ''\n\t\tif (group !== '') {\n\t\t\treturn api.get(generateOcsUrl('cloud/groups/{group}/users/details?offset={offset}&limit={limit}&search={search}', { group: encodeURIComponent(group), offset, limit, search }), {\n\t\t\t\tcancelToken: searchRequestCancelSource.token,\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst usersCount = Object.keys(response.data.ocs.data.users).length\n\t\t\t\t\tif (usersCount > 0) {\n\t\t\t\t\t\tcontext.commit('appendUsers', response.data.ocs.data.users)\n\t\t\t\t\t}\n\t\t\t\t\treturn usersCount\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (!axios.isCancel(error)) {\n\t\t\t\t\t\tcontext.commit('API_FAILURE', error)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\n\t\treturn api.get(generateOcsUrl('cloud/users/details?offset={offset}&limit={limit}&search={search}', { offset, limit, search }), {\n\t\t\tcancelToken: searchRequestCancelSource.token,\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tconst usersCount = Object.keys(response.data.ocs.data.users).length\n\t\t\t\tif (usersCount > 0) {\n\t\t\t\t\tcontext.commit('appendUsers', response.data.ocs.data.users)\n\t\t\t\t}\n\t\t\t\treturn usersCount\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (!axios.isCancel(error)) {\n\t\t\t\t\tcontext.commit('API_FAILURE', error)\n\t\t\t\t}\n\t\t\t})\n\t},\n\n\t/**\n\t * Get disabled users with full details\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {number} options.offset List offset to request\n\t * @param {number} options.limit List number to return from offset\n\t * @return {Promise<number>}\n\t */\n\tasync getDisabledUsers(context, { offset, limit }) {\n\t\tconst url = generateOcsUrl('cloud/users/disabled?offset={offset}&limit={limit}', { offset, limit })\n\t\ttry {\n\t\t\tconst response = await api.get(url)\n\t\t\tconst usersCount = Object.keys(response.data.ocs.data.users).length\n\t\t\tif (usersCount > 0) {\n\t\t\t\tcontext.commit('appendUsers', response.data.ocs.data.users)\n\t\t\t\tcontext.commit('updateDisabledUsers', response.data.ocs.data.users)\n\t\t\t}\n\t\t\treturn usersCount\n\t\t} catch (error) {\n\t\t\tcontext.commit('API_FAILURE', error)\n\t\t}\n\t},\n\n\tgetGroups(context, { offset, limit, search }) {\n\t\tsearch = typeof search === 'string' ? search : ''\n\t\tconst limitParam = limit === -1 ? '' : `&limit=${limit}`\n\t\treturn api.get(generateOcsUrl('cloud/groups?offset={offset}&search={search}', { offset, search }) + limitParam)\n\t\t\t.then((response) => {\n\t\t\t\tif (Object.keys(response.data.ocs.data.groups).length > 0) {\n\t\t\t\t\tresponse.data.ocs.data.groups.forEach(function(group) {\n\t\t\t\t\t\tcontext.commit('addGroup', { gid: group, displayName: group })\n\t\t\t\t\t})\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t})\n\t\t\t.catch((error) => context.commit('API_FAILURE', error))\n\t},\n\n\t/**\n\t * Get all users with full details\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {number} options.offset List offset to request\n\t * @param {number} options.limit List number to return from offset\n\t * @param {string} options.search -\n\t * @return {Promise}\n\t */\n\tgetUsersFromList(context, { offset, limit, search }) {\n\t\tsearch = typeof search === 'string' ? search : ''\n\t\treturn api.get(generateOcsUrl('cloud/users/details?offset={offset}&limit={limit}&search={search}', { offset, limit, search }))\n\t\t\t.then((response) => {\n\t\t\t\tif (Object.keys(response.data.ocs.data.users).length > 0) {\n\t\t\t\t\tcontext.commit('appendUsers', response.data.ocs.data.users)\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t})\n\t\t\t.catch((error) => context.commit('API_FAILURE', error))\n\t},\n\n\t/**\n\t * Get all users with full details from a groupid\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {number} options.offset List offset to request\n\t * @param {number} options.limit List number to return from offset\n\t * @param {string} options.groupid -\n\t * @return {Promise}\n\t */\n\tgetUsersFromGroup(context, { groupid, offset, limit }) {\n\t\treturn api.get(generateOcsUrl('cloud/users/{groupId}/details?offset={offset}&limit={limit}', { groupId: encodeURIComponent(groupid), offset, limit }))\n\t\t\t.then((response) => context.commit('getUsersFromList', response.data.ocs.data.users))\n\t\t\t.catch((error) => context.commit('API_FAILURE', error))\n\t},\n\n\tgetPasswordPolicyMinLength(context) {\n\t\tif (getCapabilities().password_policy && getCapabilities().password_policy.minLength) {\n\t\t\tcontext.commit('setPasswordPolicyMinLength', getCapabilities().password_policy.minLength)\n\t\t\treturn getCapabilities().password_policy.minLength\n\t\t}\n\t\treturn false\n\t},\n\n\t/**\n\t * Add group\n\t *\n\t * @param {object} context store context\n\t * @param {string} gid Group id\n\t * @return {Promise}\n\t */\n\taddGroup(context, gid) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.post(generateOcsUrl('cloud/groups'), { groupid: gid })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit('addGroup', { gid, displayName: gid })\n\t\t\t\t\treturn { gid, displayName: gid }\n\t\t\t\t})\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => {\n\t\t\tcontext.commit('API_FAILURE', { gid, error })\n\t\t\t// let's throw one more time to prevent the view\n\t\t\t// from adding the user to a group that doesn't exists\n\t\t\tthrow error\n\t\t})\n\t},\n\n\t/**\n\t * Rename group\n\t *\n\t * @param {object} context store context\n\t * @param {string} groupid Group id\n\t * @param {string} displayName Group display name\n\t * @return {Promise}\n\t */\n\trenameGroup(context, { groupid, displayName }) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.put(generateOcsUrl('cloud/groups/{groupId}', { groupId: encodeURIComponent(groupid) }), { key: 'displayname', value: displayName })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit('renameGroup', { gid: groupid, displayName })\n\t\t\t\t\treturn { groupid, displayName }\n\t\t\t\t})\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => {\n\t\t\tcontext.commit('API_FAILURE', { groupid, error })\n\t\t\t// let's throw one more time to prevent the view\n\t\t\t// from renaming the group\n\t\t\tthrow error\n\t\t})\n\t},\n\n\t/**\n\t * Remove group\n\t *\n\t * @param {object} context store context\n\t * @param {string} gid Group id\n\t * @return {Promise}\n\t */\n\tremoveGroup(context, gid) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.delete(generateOcsUrl('cloud/groups/{groupId}', { groupId: encodeURIComponent(gid) }))\n\t\t\t\t.then((response) => context.commit('removeGroup', gid))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { gid, error }))\n\t},\n\n\t/**\n\t * Add user to group\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {string} options.userid User id\n\t * @param {string} options.gid Group id\n\t * @return {Promise}\n\t */\n\taddUserGroup(context, { userid, gid }) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.post(generateOcsUrl('cloud/users/{userid}/groups', { userid }), { groupid: gid })\n\t\t\t\t.then((response) => context.commit('addUserGroup', { userid, gid }))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { userid, error }))\n\t},\n\n\t/**\n\t * Remove user from group\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {string} options.userid User id\n\t * @param {string} options.gid Group id\n\t * @return {Promise}\n\t */\n\tremoveUserGroup(context, { userid, gid }) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.delete(generateOcsUrl('cloud/users/{userid}/groups', { userid }), { groupid: gid })\n\t\t\t\t.then((response) => context.commit('removeUserGroup', { userid, gid }))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => {\n\t\t\tcontext.commit('API_FAILURE', { userid, error })\n\t\t\t// let's throw one more time to prevent\n\t\t\t// the view from removing the user row on failure\n\t\t\tthrow error\n\t\t})\n\t},\n\n\t/**\n\t * Add user to group admin\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {string} options.userid User id\n\t * @param {string} options.gid Group id\n\t * @return {Promise}\n\t */\n\taddUserSubAdmin(context, { userid, gid }) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.post(generateOcsUrl('cloud/users/{userid}/subadmins', { userid }), { groupid: gid })\n\t\t\t\t.then((response) => context.commit('addUserSubAdmin', { userid, gid }))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { userid, error }))\n\t},\n\n\t/**\n\t * Remove user from group admin\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {string} options.userid User id\n\t * @param {string} options.gid Group id\n\t * @return {Promise}\n\t */\n\tremoveUserSubAdmin(context, { userid, gid }) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.delete(generateOcsUrl('cloud/users/{userid}/subadmins', { userid }), { groupid: gid })\n\t\t\t\t.then((response) => context.commit('removeUserSubAdmin', { userid, gid }))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { userid, error }))\n\t},\n\n\t/**\n\t * Mark all user devices for remote wipe\n\t *\n\t * @param {object} context store context\n\t * @param {string} userid User id\n\t * @return {Promise}\n\t */\n\twipeUserDevices(context, userid) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.post(generateOcsUrl('cloud/users/{userid}/wipe', { userid }))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { userid, error }))\n\t},\n\n\t/**\n\t * Delete a user\n\t *\n\t * @param {object} context store context\n\t * @param {string} userid User id\n\t * @return {Promise}\n\t */\n\tdeleteUser(context, userid) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.delete(generateOcsUrl('cloud/users/{userid}', { userid }))\n\t\t\t\t.then((response) => context.commit('deleteUser', userid))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { userid, error }))\n\t},\n\n\t/**\n\t * Add a user\n\t *\n\t * @param {object} context store context\n\t * @param {Function} context.commit -\n\t * @param {Function} context.dispatch -\n\t * @param {object} options destructuring object\n\t * @param {string} options.userid User id\n\t * @param {string} options.password User password\n\t * @param {string} options.displayName User display name\n\t * @param {string} options.email User email\n\t * @param {string} options.groups User groups\n\t * @param {string} options.subadmin User subadmin groups\n\t * @param {string} options.quota User email\n\t * @param {string} options.language User language\n\t * @param {string} options.manager User manager\n\t * @return {Promise}\n\t */\n\taddUser({ commit, dispatch }, { userid, password, displayName, email, groups, subadmin, quota, language, manager }) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.post(generateOcsUrl('cloud/users'), { userid, password, displayName, email, groups, subadmin, quota, language, manager })\n\t\t\t\t.then((response) => dispatch('addUserData', userid || response.data.ocs.data.id))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => {\n\t\t\tcommit('API_FAILURE', { userid, error })\n\t\t\tthrow error\n\t\t})\n\t},\n\n\t/**\n\t * Get user data and commit addition\n\t *\n\t * @param {object} context store context\n\t * @param {string} userid User id\n\t * @return {Promise}\n\t */\n\taddUserData(context, userid) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.get(generateOcsUrl('cloud/users/{userid}', { userid }))\n\t\t\t\t.then((response) => context.commit('addUserData', response))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { userid, error }))\n\t},\n\n\t/**\n\t * Enable or disable user\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {string} options.userid User id\n\t * @param {boolean} options.enabled User enablement status\n\t * @return {Promise}\n\t */\n\tenableDisableUser(context, { userid, enabled = true }) {\n\t\tconst userStatus = enabled ? 'enable' : 'disable'\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.put(generateOcsUrl('cloud/users/{userid}/{userStatus}', { userid, userStatus }))\n\t\t\t\t.then((response) => context.commit('enableDisableUser', { userid, enabled }))\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { userid, error }))\n\t},\n\n\t/**\n\t * Edit user data\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {string} options.userid User id\n\t * @param {string} options.key User field to edit\n\t * @param {string} options.value Value of the change\n\t * @return {Promise}\n\t */\n\tsetUserData(context, { userid, key, value }) {\n\t\tconst allowedEmpty = ['email', 'displayname', 'manager']\n\t\tif (['email', 'language', 'quota', 'displayname', 'password', 'manager'].indexOf(key) !== -1) {\n\t\t\t// We allow empty email or displayname\n\t\t\tif (typeof value === 'string'\n\t\t\t\t&& (\n\t\t\t\t\t(allowedEmpty.indexOf(key) === -1 && value.length > 0)\n\t\t\t\t\t|| allowedEmpty.indexOf(key) !== -1\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn api.requireAdmin().then((response) => {\n\t\t\t\t\treturn api.put(generateOcsUrl('cloud/users/{userid}', { userid }), { key, value })\n\t\t\t\t\t\t.then((response) => context.commit('setUserData', { userid, key, value }))\n\t\t\t\t\t\t.catch((error) => { throw error })\n\t\t\t\t}).catch((error) => context.commit('API_FAILURE', { userid, error }))\n\t\t\t}\n\t\t}\n\t\treturn Promise.reject(new Error('Invalid request data'))\n\t},\n\n\t/**\n\t * Send welcome mail\n\t *\n\t * @param {object} context store context\n\t * @param {string} userid User id\n\t * @return {Promise}\n\t */\n\tsendWelcomeMail(context, userid) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.post(generateOcsUrl('cloud/users/{userid}/welcome', { userid }))\n\t\t\t\t.then(response => true)\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { userid, error }))\n\t},\n}\n\nexport default { state, mutations, getters, actions }\n","/**\n * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport api from './api.js'\nimport Vue from 'vue'\nimport { generateUrl } from '@nextcloud/router'\nimport { showError, showInfo } from '@nextcloud/dialogs'\n\nconst state = {\n\tapps: [],\n\tcategories: [],\n\tupdateCount: 0,\n\tloading: {},\n\tloadingList: false,\n\tgettingCategoriesPromise: null,\n}\n\nconst mutations = {\n\n\tAPPS_API_FAILURE(state, error) {\n\t\tshowError(t('settings', 'An error occurred during the request. Unable to proceed.') + '<br>' + error.error.response.data.data.message, { isHTML: true })\n\t\tconsole.error(state, error)\n\t},\n\n\tinitCategories(state, { categories, updateCount }) {\n\t\tstate.categories = categories\n\t\tstate.updateCount = updateCount\n\t},\n\n\tupdateCategories(state, categoriesPromise) {\n\t\tstate.gettingCategoriesPromise = categoriesPromise\n\t},\n\n\tsetUpdateCount(state, updateCount) {\n\t\tstate.updateCount = updateCount\n\t},\n\n\taddCategory(state, category) {\n\t\tstate.categories.push(category)\n\t},\n\n\tappendCategories(state, categoriesArray) {\n\t\t// convert obj to array\n\t\tstate.categories = categoriesArray\n\t},\n\n\tsetAllApps(state, apps) {\n\t\tstate.apps = apps\n\t},\n\n\tsetError(state, { appId, error }) {\n\t\tif (!Array.isArray(appId)) {\n\t\t\tappId = [appId]\n\t\t}\n\t\tappId.forEach((_id) => {\n\t\t\tconst app = state.apps.find(app => app.id === _id)\n\t\t\tapp.error = error\n\t\t})\n\t},\n\n\tclearError(state, { appId, error }) {\n\t\tconst app = state.apps.find(app => app.id === appId)\n\t\tapp.error = null\n\t},\n\n\tenableApp(state, { appId, groups }) {\n\t\tconst app = state.apps.find(app => app.id === appId)\n\t\tapp.active = true\n\t\tapp.groups = groups\n\t},\n\n\tsetInstallState(state, { appId, canInstall }) {\n\t\tconst app = state.apps.find(app => app.id === appId)\n\t\tif (app) {\n\t\t\tapp.canInstall = canInstall === true\n\t\t}\n\t},\n\n\tdisableApp(state, appId) {\n\t\tconst app = state.apps.find(app => app.id === appId)\n\t\tapp.active = false\n\t\tapp.groups = []\n\t\tif (app.removable) {\n\t\t\tapp.canUnInstall = true\n\t\t}\n\t},\n\n\tuninstallApp(state, appId) {\n\t\tstate.apps.find(app => app.id === appId).active = false\n\t\tstate.apps.find(app => app.id === appId).groups = []\n\t\tstate.apps.find(app => app.id === appId).needsDownload = true\n\t\tstate.apps.find(app => app.id === appId).installed = false\n\t\tstate.apps.find(app => app.id === appId).canUnInstall = false\n\t\tstate.apps.find(app => app.id === appId).canInstall = true\n\t},\n\n\tupdateApp(state, appId) {\n\t\tconst app = state.apps.find(app => app.id === appId)\n\t\tconst version = app.update\n\t\tapp.update = null\n\t\tapp.version = version\n\t\tstate.updateCount--\n\n\t},\n\n\tresetApps(state) {\n\t\tstate.apps = []\n\t},\n\treset(state) {\n\t\tstate.apps = []\n\t\tstate.categories = []\n\t\tstate.updateCount = 0\n\t},\n\tstartLoading(state, id) {\n\t\tif (Array.isArray(id)) {\n\t\t\tid.forEach((_id) => {\n\t\t\t\tVue.set(state.loading, _id, true)\n\t\t\t})\n\t\t} else {\n\t\t\tVue.set(state.loading, id, true)\n\t\t}\n\t},\n\tstopLoading(state, id) {\n\t\tif (Array.isArray(id)) {\n\t\t\tid.forEach((_id) => {\n\t\t\t\tVue.set(state.loading, _id, false)\n\t\t\t})\n\t\t} else {\n\t\t\tVue.set(state.loading, id, false)\n\t\t}\n\t},\n}\n\nconst getters = {\n\tloading(state) {\n\t\treturn function(id) {\n\t\t\treturn state.loading[id]\n\t\t}\n\t},\n\tgetCategories(state) {\n\t\treturn state.categories\n\t},\n\tgetAllApps(state) {\n\t\treturn state.apps\n\t},\n\tgetUpdateCount(state) {\n\t\treturn state.updateCount\n\t},\n\tgetCategoryById: (state) => (selectedCategoryId) => {\n\t\treturn state.categories.find((category) => category.id === selectedCategoryId)\n\t},\n}\n\nconst actions = {\n\n\tenableApp(context, { appId, groups }) {\n\t\tlet apps\n\t\tif (Array.isArray(appId)) {\n\t\t\tapps = appId\n\t\t} else {\n\t\t\tapps = [appId]\n\t\t}\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\tcontext.commit('startLoading', apps)\n\t\t\tcontext.commit('startLoading', 'install')\n\t\t\treturn api.post(generateUrl('settings/apps/enable'), { appIds: apps, groups })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit('stopLoading', apps)\n\t\t\t\t\tcontext.commit('stopLoading', 'install')\n\t\t\t\t\tapps.forEach(_appId => {\n\t\t\t\t\t\tcontext.commit('enableApp', { appId: _appId, groups })\n\t\t\t\t\t})\n\n\t\t\t\t\t// check for server health\n\t\t\t\t\treturn api.get(generateUrl('apps/files'))\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tif (response.data.update_required) {\n\t\t\t\t\t\t\t\tshowInfo(\n\t\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t\t'settings',\n\t\t\t\t\t\t\t\t\t\t'The app has been enabled but needs to be updated. You will be redirected to the update page in 5 seconds.'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tonClick: () => window.location.reload(),\n\t\t\t\t\t\t\t\t\t\tclose: false,\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tlocation.reload()\n\t\t\t\t\t\t\t\t}, 5000)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\tif (!Array.isArray(appId)) {\n\t\t\t\t\t\t\t\tcontext.commit('setError', {\n\t\t\t\t\t\t\t\t\tappId: apps,\n\t\t\t\t\t\t\t\t\terror: t('settings', 'Error: This app cannot be enabled because it makes the server unstable'),\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tcontext.commit('stopLoading', apps)\n\t\t\t\t\tcontext.commit('stopLoading', 'install')\n\t\t\t\t\tcontext.commit('setError', {\n\t\t\t\t\t\tappId: apps,\n\t\t\t\t\t\terror: error.response.data.data.message,\n\t\t\t\t\t})\n\t\t\t\t\tcontext.commit('APPS_API_FAILURE', { appId, error })\n\t\t\t\t})\n\t\t}).catch((error) => context.commit('API_FAILURE', { appId, error }))\n\t},\n\tforceEnableApp(context, { appId, groups }) {\n\t\tlet apps\n\t\tif (Array.isArray(appId)) {\n\t\t\tapps = appId\n\t\t} else {\n\t\t\tapps = [appId]\n\t\t}\n\t\treturn api.requireAdmin().then(() => {\n\t\t\tcontext.commit('startLoading', apps)\n\t\t\tcontext.commit('startLoading', 'install')\n\t\t\treturn api.post(generateUrl('settings/apps/force'), { appId })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit('setInstallState', { appId, canInstall: true })\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tcontext.commit('stopLoading', apps)\n\t\t\t\t\tcontext.commit('stopLoading', 'install')\n\t\t\t\t\tcontext.commit('setError', {\n\t\t\t\t\t\tappId: apps,\n\t\t\t\t\t\terror: error.response.data.data.message,\n\t\t\t\t\t})\n\t\t\t\t\tcontext.commit('APPS_API_FAILURE', { appId, error })\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tcontext.commit('stopLoading', apps)\n\t\t\t\t\tcontext.commit('stopLoading', 'install')\n\t\t\t\t})\n\t\t}).catch((error) => context.commit('API_FAILURE', { appId, error }))\n\t},\n\tdisableApp(context, { appId }) {\n\t\tlet apps\n\t\tif (Array.isArray(appId)) {\n\t\t\tapps = appId\n\t\t} else {\n\t\t\tapps = [appId]\n\t\t}\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\tcontext.commit('startLoading', apps)\n\t\t\treturn api.post(generateUrl('settings/apps/disable'), { appIds: apps })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit('stopLoading', apps)\n\t\t\t\t\tapps.forEach(_appId => {\n\t\t\t\t\t\tcontext.commit('disableApp', _appId)\n\t\t\t\t\t})\n\t\t\t\t\treturn true\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tcontext.commit('stopLoading', apps)\n\t\t\t\t\tcontext.commit('APPS_API_FAILURE', { appId, error })\n\t\t\t\t})\n\t\t}).catch((error) => context.commit('API_FAILURE', { appId, error }))\n\t},\n\tuninstallApp(context, { appId }) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\tcontext.commit('startLoading', appId)\n\t\t\treturn api.get(generateUrl(`settings/apps/uninstall/${appId}`))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit('stopLoading', appId)\n\t\t\t\t\tcontext.commit('uninstallApp', appId)\n\t\t\t\t\treturn true\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tcontext.commit('stopLoading', appId)\n\t\t\t\t\tcontext.commit('APPS_API_FAILURE', { appId, error })\n\t\t\t\t})\n\t\t}).catch((error) => context.commit('API_FAILURE', { appId, error }))\n\t},\n\n\tupdateApp(context, { appId }) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\tcontext.commit('startLoading', appId)\n\t\t\tcontext.commit('startLoading', 'install')\n\t\t\treturn api.get(generateUrl(`settings/apps/update/${appId}`))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit('stopLoading', 'install')\n\t\t\t\t\tcontext.commit('stopLoading', appId)\n\t\t\t\t\tcontext.commit('updateApp', appId)\n\t\t\t\t\treturn true\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tcontext.commit('stopLoading', appId)\n\t\t\t\t\tcontext.commit('stopLoading', 'install')\n\t\t\t\t\tcontext.commit('APPS_API_FAILURE', { appId, error })\n\t\t\t\t})\n\t\t}).catch((error) => context.commit('API_FAILURE', { appId, error }))\n\t},\n\n\tgetAllApps(context) {\n\t\tcontext.commit('startLoading', 'list')\n\t\treturn api.get(generateUrl('settings/apps/list'))\n\t\t\t.then((response) => {\n\t\t\t\tcontext.commit('setAllApps', response.data.apps)\n\t\t\t\tcontext.commit('stopLoading', 'list')\n\t\t\t\treturn true\n\t\t\t})\n\t\t\t.catch((error) => context.commit('API_FAILURE', error))\n\t},\n\n\tasync getCategories(context, { shouldRefetchCategories = false } = {}) {\n\t\tif (shouldRefetchCategories || !context.state.gettingCategoriesPromise) {\n\t\t\tcontext.commit('startLoading', 'categories')\n\t\t\ttry {\n\t\t\t\tconst categoriesPromise = api.get(generateUrl('settings/apps/categories'))\n\t\t\t\tcontext.commit('updateCategories', categoriesPromise)\n\t\t\t\tconst categoriesPromiseResponse = await categoriesPromise\n\t\t\t\tif (categoriesPromiseResponse.data.length > 0) {\n\t\t\t\t\tcontext.commit('appendCategories', categoriesPromiseResponse.data)\n\t\t\t\t\tcontext.commit('stopLoading', 'categories')\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\tcontext.commit('stopLoading', 'categories')\n\t\t\t\treturn false\n\t\t\t} catch (error) {\n\t\t\t\tcontext.commit('API_FAILURE', error)\n\t\t\t}\n\t\t}\n\t\treturn context.state.gettingCategoriesPromise\n\t},\n\n}\n\nexport default { state, mutations, getters, actions }\n","/**\n * @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nconst state = {\n\tserverData: {},\n}\nconst mutations = {\n\tsetServerData(state, data) {\n\t\tstate.serverData = data\n\t},\n}\nconst getters = {\n\tgetServerData(state) {\n\t\treturn state.serverData\n\t},\n}\nconst actions = {}\n\nexport default { state, mutations, getters, actions }\n","/**\n * @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport api from './api.js'\nimport { generateOcsUrl } from '@nextcloud/router'\n\nconst state = {}\nconst mutations = {}\nconst getters = {}\nconst actions = {\n\t/**\n\t * Set application config in database\n\t *\n\t * @param {object} context store context\n\t * @param {object} options destructuring object\n\t * @param {string} options.app Application name\n\t * @param {boolean} options.key Config key\n\t * @param {boolean} options.value Value to set\n\t * @return {Promise}\n\t */\n\tsetAppConfig(context, { app, key, value }) {\n\t\treturn api.requireAdmin().then((response) => {\n\t\t\treturn api.post(generateOcsUrl('apps/provisioning_api/api/v1/config/apps/{app}/{key}', { app, key }), { value })\n\t\t\t\t.catch((error) => { throw error })\n\t\t}).catch((error) => context.commit('API_FAILURE', { app, key, value, error }))\n\t},\n}\n\nexport default { state, mutations, getters, actions }\n","/**\n * @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport Vuex, { Store } from 'vuex'\nimport users from './users.js'\nimport apps from './apps.js'\nimport settings from './settings.js'\nimport oc from './oc.js'\nimport { showError } from '@nextcloud/dialogs'\n\nVue.use(Vuex)\n\nconst debug = process.env.NODE_ENV !== 'production'\n\nconst mutations = {\n\tAPI_FAILURE(state, error) {\n\t\ttry {\n\t\t\tconst message = error.error.response.data.ocs.meta.message\n\t\t\tshowError(t('settings', 'An error occurred during the request. Unable to proceed.') + '<br>' + message, { isHTML: true })\n\t\t} catch (e) {\n\t\t\tshowError(t('settings', 'An error occurred during the request. Unable to proceed.'))\n\t\t}\n\t\tconsole.error(state, error)\n\t},\n}\n\nexport default new Store({\n\tmodules: {\n\t\tusers,\n\t\tapps,\n\t\tsettings,\n\t\toc,\n\t},\n\tstrict: debug,\n\n\tmutations,\n})\n","/**\n * @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport { generateUrl } from '@nextcloud/router'\nimport { APPS_SECTION_ENUM } from './constants/AppsConstants.js'\nimport store from './store/index.js'\nimport { setPageHeading } from '../../../core/src/OCP/accessibility.js'\n\n// Dynamic loading\nconst Users = () => import(/* webpackChunkName: 'settings-users' */'./views/Users.vue')\nconst Apps = () => import(/* webpackChunkName: 'settings-apps-view' */'./views/Apps.vue')\n\nVue.use(Router)\n\n/*\n * This is the list of routes where the vuejs app will\n * take over php to provide data\n * You need to forward the php routing (routes.php) to\n * the settings-vue template, where the vue-router will\n * ensure the proper route.\n * ⚠️ Routes needs to match the php routes.\n */\nconst baseTitle = document.title\nconst router = new Router({\n\tmode: 'history',\n\t// if index.php is in the url AND we got this far, then it's working:\n\t// let's keep using index.php in the url\n\tbase: generateUrl(''),\n\tlinkActiveClass: 'active',\n\troutes: [\n\t\t{\n\t\t\tpath: '/:index(index.php/)?settings/users',\n\t\t\tcomponent: Users,\n\t\t\tprops: true,\n\t\t\tname: 'users',\n\t\t\tmeta: {\n\t\t\t\ttitle: () => {\n\t\t\t\t\treturn t('settings', 'Active users')\n\t\t\t\t},\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\t{\n\t\t\t\t\tpath: ':selectedGroup',\n\t\t\t\t\tname: 'group',\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\ttitle: (to) => {\n\t\t\t\t\t\t\tif (to.params.selectedGroup === 'admin') {\n\t\t\t\t\t\t\t\treturn t('settings', 'Admins')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (to.params.selectedGroup === 'disabled') {\n\t\t\t\t\t\t\t\treturn t('settings', 'Disabled users')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn decodeURIComponent(to.params.selectedGroup)\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tcomponent: Users,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tpath: '/:index(index.php/)?settings/apps',\n\t\t\tcomponent: Apps,\n\t\t\tprops: true,\n\t\t\tname: 'apps',\n\t\t\tmeta: {\n\t\t\t\ttitle: () => {\n\t\t\t\t\treturn t('settings', 'Your apps')\n\t\t\t\t},\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\t{\n\t\t\t\t\tpath: ':category',\n\t\t\t\t\tname: 'apps-category',\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\ttitle: async (to) => {\n\t\t\t\t\t\t\tif (to.name === 'apps') {\n\t\t\t\t\t\t\t\treturn t('settings', 'Your apps')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (APPS_SECTION_ENUM[to.params.category]) {\n\t\t\t\t\t\t\t\treturn APPS_SECTION_ENUM[to.params.category]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait store.dispatch('getCategories')\n\t\t\t\t\t\t\tconst category = store.getters.getCategoryById(to.params.category)\n\t\t\t\t\t\t\tif (category.displayName) {\n\t\t\t\t\t\t\t\treturn category.displayName\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tcomponent: Apps,\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: ':id',\n\t\t\t\t\t\t\tname: 'apps-details',\n\t\t\t\t\t\t\tcomponent: Apps,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t],\n})\n\nrouter.afterEach(async (to) => {\n\tconst metaTitle = await to.meta.title?.(to)\n\tif (metaTitle) {\n\t\tdocument.title = `${metaTitle} - ${baseTitle}`\n\t\tsetPageHeading(metaTitle)\n\t} else {\n\t\tdocument.title = baseTitle\n\t}\n})\n\nexport default router\n","/**\n * @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author rakekniven <mark.ziegler@rakekniven.de>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport VTooltip from 'v-tooltip'\nimport { sync } from 'vuex-router-sync'\n\nimport App from './App.vue'\nimport router from './router.js'\nimport store from './store/index.js'\n\nVue.use(VTooltip, { defaultHtml: false })\n\nsync(store, router)\n\n// bind to window\nVue.prototype.t = t\nVue.prototype.n = n\nVue.prototype.OC = OC\nVue.prototype.OCA = OCA\n// eslint-disable-next-line camelcase\nVue.prototype.oc_userconfig = oc_userconfig\n\nconst app = new Vue({\n\trouter,\n\tstore,\n\trender: h => h(App),\n}).$mount('#content')\n\nexport { app, router, store }\n"],"file":"dist/settings-vue-settings-apps-users-management.mjs"}