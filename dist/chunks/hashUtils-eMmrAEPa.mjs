/*! third party licenses: dist/vendor.LICENSE.txt */
import{bI as Rt,cN as Lt,bF as D,bU as z,bG as Tt}from"../core-common.mjs";import{u as dt,i as Q}from"./util-Bowr8LpN.mjs";var Ae={exports:{}},Y=typeof Reflect=="object"?Reflect:null,Be=Y&&typeof Y.apply=="function"?Y.apply:function(n,o,i){return Function.prototype.apply.call(n,o,i)},oe;Y&&typeof Y.ownKeys=="function"?oe=Y.ownKeys:Object.getOwnPropertySymbols?oe=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:oe=function(n){return Object.getOwnPropertyNames(n)};function kt(n){console&&console.warn&&console.warn(n)}var Ie=Number.isNaN||function(n){return n!==n};function P(){P.init.call(this)}Ae.exports=P,Ae.exports.once=Ct,P.EventEmitter=P,P.prototype._events=void 0,P.prototype._eventsCount=0,P.prototype._maxListeners=void 0;var qe=10;function se(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return qe},set:function(n){if(typeof n!="number"||n<0||Ie(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");qe=n}}),P.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},P.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||Ie(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function pt(n){return n._maxListeners===void 0?P.defaultMaxListeners:n._maxListeners}P.prototype.getMaxListeners=function(){return pt(this)},P.prototype.emit=function(n){for(var o=[],i=1;i<arguments.length;i++)o.push(arguments[i]);var h=n==="error",v=this._events;if(v!==void 0)h=h&&v.error===void 0;else if(!h)return!1;if(h){var s;if(o.length>0&&(s=o[0]),s instanceof Error)throw s;var c=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw c.context=s,c}var u=v[n];if(u===void 0)return!1;if(typeof u=="function")Be(u,this,o);else for(var l=u.length,d=bt(u,l),i=0;i<l;++i)Be(d[i],this,o);return!0};function He(n,o,i,h){var v,s,c;if(se(i),s=n._events,s===void 0?(s=n._events=Object.create(null),n._eventsCount=0):(s.newListener!==void 0&&(n.emit("newListener",o,i.listener?i.listener:i),s=n._events),c=s[o]),c===void 0)c=s[o]=i,++n._eventsCount;else if(typeof c=="function"?c=s[o]=h?[i,c]:[c,i]:h?c.unshift(i):c.push(i),v=pt(n),v>0&&c.length>v&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=n,u.type=o,u.count=c.length,kt(u)}return n}P.prototype.addListener=function(n,o){return He(this,n,o,!1)},P.prototype.on=P.prototype.addListener,P.prototype.prependListener=function(n,o){return He(this,n,o,!0)};function Mt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ve(n,o,i){var h={fired:!1,wrapFn:void 0,target:n,type:o,listener:i},v=Mt.bind(h);return v.listener=i,h.wrapFn=v,v}P.prototype.once=function(n,o){return se(o),this.on(n,Ve(this,n,o)),this},P.prototype.prependOnceListener=function(n,o){return se(o),this.prependListener(n,Ve(this,n,o)),this},P.prototype.removeListener=function(n,o){var i,h,v,s,c;if(se(o),h=this._events,h===void 0)return this;if(i=h[n],i===void 0)return this;if(i===o||i.listener===o)--this._eventsCount===0?this._events=Object.create(null):(delete h[n],h.removeListener&&this.emit("removeListener",n,i.listener||o));else if(typeof i!="function"){for(v=-1,s=i.length-1;s>=0;s--)if(i[s]===o||i[s].listener===o){c=i[s].listener,v=s;break}if(v<0)return this;v===0?i.shift():Ot(i,v),i.length===1&&(h[n]=i[0]),h.removeListener!==void 0&&this.emit("removeListener",n,c||o)}return this},P.prototype.off=P.prototype.removeListener,P.prototype.removeAllListeners=function(n){var o,i,h;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[n]),this;if(arguments.length===0){var v=Object.keys(i),s;for(h=0;h<v.length;++h)s=v[h],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(o=i[n],typeof o=="function")this.removeListener(n,o);else if(o!==void 0)for(h=o.length-1;h>=0;h--)this.removeListener(n,o[h]);return this};function Ge(n,o,i){var h=n._events;if(h===void 0)return[];var v=h[o];return v===void 0?[]:typeof v=="function"?i?[v.listener||v]:[v]:i?jt(v):bt(v,v.length)}P.prototype.listeners=function(n){return Ge(this,n,!0)},P.prototype.rawListeners=function(n){return Ge(this,n,!1)},P.listenerCount=function(n,o){return typeof n.listenerCount=="function"?n.listenerCount(o):Ke.call(n,o)},P.prototype.listenerCount=Ke;function Ke(n){var o=this._events;if(o!==void 0){var i=o[n];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}P.prototype.eventNames=function(){return this._eventsCount>0?oe(this._events):[]};function bt(n,o){for(var i=new Array(o),h=0;h<o;++h)i[h]=n[h];return i}function Ot(n,o){for(;o+1<n.length;o++)n[o]=n[o+1];n.pop()}function jt(n){for(var o=new Array(n.length),i=0;i<o.length;++i)o[i]=n[i].listener||n[i];return o}function Ct(n,o){return new Promise(function(i,h){function v(c){n.removeListener(o,s),h(c)}function s(){typeof n.removeListener=="function"&&n.removeListener("error",v),i([].slice.call(arguments))}gt(n,o,s,{once:!0}),o!=="error"&&xt(n,v,{once:!0})})}function xt(n,o,i){typeof n.on=="function"&&gt(n,"error",o,i)}function gt(n,o,i,h){if(typeof n.on=="function")h.once?n.once(o,i):n.on(o,i);else if(typeof n.addEventListener=="function")n.addEventListener(o,function v(s){h.once&&n.removeEventListener(o,v),i(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var Pe=Ae.exports,Ye,ze;function vt(){return ze||(ze=1,Ye=Pe.EventEmitter),Ye}const ue=Rt(Lt);var me,Je;function Nt(){if(Je)return me;Je=1;function n(E,y){var w=Object.keys(E);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(E);y&&(r=r.filter(function(p){return Object.getOwnPropertyDescriptor(E,p).enumerable})),w.push.apply(w,r)}return w}function o(E){for(var y=1;y<arguments.length;y++){var w=arguments[y]!=null?arguments[y]:{};y%2?n(Object(w),!0).forEach(function(r){i(E,r,w[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(w)):n(Object(w)).forEach(function(r){Object.defineProperty(E,r,Object.getOwnPropertyDescriptor(w,r))})}return E}function i(E,y,w){return y=c(y),y in E?Object.defineProperty(E,y,{value:w,enumerable:!0,configurable:!0,writable:!0}):E[y]=w,E}function h(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function v(E,y){for(var w=0;w<y.length;w++){var r=y[w];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(E,c(r.key),r)}}function s(E,y,w){return y&&v(E.prototype,y),w&&v(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E}function c(E){var y=u(E,"string");return typeof y=="symbol"?y:String(y)}function u(E,y){if(typeof E!="object"||E===null)return E;var w=E[Symbol.toPrimitive];if(w!==void 0){var r=w.call(E,y||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(E)}var l=ue,d=l.Buffer,T=dt,R=T.inspect,_=R&&R.custom||"inspect";function O(E,y,w){d.prototype.copy.call(E,y,w)}return me=function(){function E(){h(this,E),this.head=null,this.tail=null,this.length=0}return s(E,[{key:"push",value:function(y){var w={data:y,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(y){var w={data:y,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var w=this.head,r=""+w.data;w=w.next;)r+=y+w.data;return r}},{key:"concat",value:function(y){if(this.length===0)return d.alloc(0);for(var w=d.allocUnsafe(y>>>0),r=this.head,p=0;r;)O(r.data,w,p),p+=r.data.length,r=r.next;return w}},{key:"consume",value:function(y,w){var r;return y<this.head.data.length?(r=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?r=this.shift():r=w?this._getString(y):this._getBuffer(y),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var w=this.head,r=1,p=w.data;for(y-=p.length;w=w.next;){var b=w.data,S=y>b.length?b.length:y;if(S===b.length?p+=b:p+=b.slice(0,y),y-=S,y===0){S===b.length?(++r,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=b.slice(S));break}++r}return this.length-=r,p}},{key:"_getBuffer",value:function(y){var w=d.allocUnsafe(y),r=this.head,p=1;for(r.data.copy(w),y-=r.data.length;r=r.next;){var b=r.data,S=y>b.length?b.length:y;if(b.copy(w,w.length-y,0,S),y-=S,y===0){S===b.length?(++p,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=b.slice(S));break}++p}return this.length-=p,w}},{key:_,value:function(y,w){return R(this,o(o({},w),{},{depth:0,customInspect:!1}))}}]),E}(),me}var we,Qe;function yt(){if(Qe)return we;Qe=1;function n(c,u){var l=this,d=this._readableState&&this._readableState.destroyed,T=this._writableState&&this._writableState.destroyed;return d||T?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.nextTick(v,this,c)):D.nextTick(v,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(R){!u&&R?l._writableState?l._writableState.errorEmitted?D.nextTick(i,l):(l._writableState.errorEmitted=!0,D.nextTick(o,l,R)):D.nextTick(o,l,R):u?(D.nextTick(i,l),u(R)):D.nextTick(i,l)}),this)}function o(c,u){v(c,u),i(c)}function i(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(c,u){c.emit("error",u)}function s(c,u){var l=c._readableState,d=c._writableState;l&&l.autoDestroy||d&&d.autoDestroy?c.destroy(u):c.emit("error",u)}return we={destroy:n,undestroy:h,errorOrDestroy:s},we}var _e={},Ze;function Z(){if(Ze)return _e;Ze=1;function n(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,u.__proto__=l}var o={};function i(u,l,d){d||(d=Error);function T(_,O,E){return typeof l=="string"?l:l(_,O,E)}var R=function(_){n(O,_);function O(E,y,w){return _.call(this,T(E,y,w))||this}return O}(d);R.prototype.name=d.name,R.prototype.code=u,o[u]=R}function h(u,l){if(Array.isArray(u)){var d=u.length;return u=u.map(function(T){return String(T)}),d>2?"one of ".concat(l," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(l," ").concat(u[0]," or ").concat(u[1]):"of ".concat(l," ").concat(u[0])}else return"of ".concat(l," ").concat(String(u))}function v(u,l,d){return u.substr(!d||d<0?0:+d,l.length)===l}function s(u,l,d){return(d===void 0||d>u.length)&&(d=u.length),u.substring(d-l.length,d)===l}function c(u,l,d){return typeof d!="number"&&(d=0),d+l.length>u.length?!1:u.indexOf(l,d)!==-1}return i("ERR_INVALID_OPT_VALUE",function(u,l){return'The value "'+l+'" is invalid for option "'+u+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(u,l,d){var T;typeof l=="string"&&v(l,"not ")?(T="must not be",l=l.replace(/^not /,"")):T="must be";var R;if(s(u," argument"))R="The ".concat(u," ").concat(T," ").concat(h(l,"type"));else{var _=c(u,".")?"property":"argument";R='The "'.concat(u,'" ').concat(_," ").concat(T," ").concat(h(l,"type"))}return R+=". Received type ".concat(typeof d),R},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),_e.codes=o,_e}var Se,Xe;function mt(){if(Xe)return Se;Xe=1;var n=Z().codes.ERR_INVALID_OPT_VALUE;function o(h,v,s){return h.highWaterMark!=null?h.highWaterMark:v?h[s]:null}function i(h,v,s,c){var u=o(v,c,s);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var l=c?s:"highWaterMark";throw new n(l,u)}return Math.floor(u)}return h.objectMode?16:16*1024}return Se={getHighWaterMark:i},Se}var Ee,$e;function At(){if($e)return Ee;$e=1,Ee=n;function n(i,h){if(o("noDeprecation"))return i;var v=!1;function s(){if(!v){if(o("throwDeprecation"))throw new Error(h);o("traceDeprecation")?console.trace(h):console.warn(h),v=!0}return i.apply(this,arguments)}return s}function o(i){try{if(!z.localStorage)return!1}catch{return!1}var h=z.localStorage[i];return h==null?!1:String(h).toLowerCase()==="true"}return Ee}var Re,et;function wt(){if(et)return Re;et=1,Re=A;function n(a){var f=this;this.next=null,this.entry=null,this.finish=function(){pe(f,a)}}var o;A.WritableState=N;var i={deprecate:At()},h=vt(),v=ue.Buffer,s=(typeof z<"u"?z:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(a){return v.from(a)}function u(a){return v.isBuffer(a)||a instanceof s}var l=yt(),d=mt(),T=d.getHighWaterMark,R=Z().codes,_=R.ERR_INVALID_ARG_TYPE,O=R.ERR_METHOD_NOT_IMPLEMENTED,E=R.ERR_MULTIPLE_CALLBACK,y=R.ERR_STREAM_CANNOT_PIPE,w=R.ERR_STREAM_DESTROYED,r=R.ERR_STREAM_NULL_VALUES,p=R.ERR_STREAM_WRITE_AFTER_END,b=R.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;Q(A,h);function L(){}function N(a,f,m){o=o||J(),a=a||{},typeof m!="boolean"&&(m=f instanceof o),this.objectMode=!!a.objectMode,m&&(this.objectMode=this.objectMode||!!a.writableObjectMode),this.highWaterMark=T(this,a,"writableHighWaterMark",m),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var M=a.decodeStrings===!1;this.decodeStrings=!M,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(x){ce(f,x)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=a.emitClose!==!1,this.autoDestroy=!!a.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}N.prototype.getBuffer=function(){for(var a=this.bufferedRequest,f=[];a;)f.push(a),a=a.next;return f},function(){try{Object.defineProperty(N.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(a){return W.call(this,a)?!0:this!==A?!1:a&&a._writableState instanceof N}})):W=function(a){return a instanceof this};function A(a){o=o||J();var f=this instanceof o;if(!f&&!W.call(A,this))return new A(a);this._writableState=new N(a,this,f),this.writable=!0,a&&(typeof a.write=="function"&&(this._write=a.write),typeof a.writev=="function"&&(this._writev=a.writev),typeof a.destroy=="function"&&(this._destroy=a.destroy),typeof a.final=="function"&&(this._final=a.final)),h.call(this)}A.prototype.pipe=function(){S(this,new y)};function j(a,f){var m=new p;S(a,m),D.nextTick(f,m)}function ee(a,f,m,M){var x;return m===null?x=new r:typeof m!="string"&&!f.objectMode&&(x=new _("chunk",["string","Buffer"],m)),x?(S(a,x),D.nextTick(M,x),!1):!0}A.prototype.write=function(a,f,m){var M=this._writableState,x=!1,e=!M.objectMode&&u(a);return e&&!v.isBuffer(a)&&(a=c(a)),typeof f=="function"&&(m=f,f=null),e?f="buffer":f||(f=M.defaultEncoding),typeof m!="function"&&(m=L),M.ending?j(this,m):(e||ee(this,M,a,m))&&(M.pendingcb++,x=le(this,M,e,a,f,m)),x},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,!a.writing&&!a.corked&&!a.bufferProcessing&&a.bufferedRequest&&V(this,a))},A.prototype.setDefaultEncoding=function(a){if(typeof a=="string"&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new b(a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function X(a,f,m){return!a.objectMode&&a.decodeStrings!==!1&&typeof f=="string"&&(f=v.from(f,m)),f}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function le(a,f,m,M,x,e){if(!m){var t=X(f,M,x);M!==t&&(m=!0,x="buffer",M=t)}var g=f.objectMode?1:M.length;f.length+=g;var k=f.length<f.highWaterMark;if(k||(f.needDrain=!0),f.writing||f.corked){var U=f.lastBufferedRequest;f.lastBufferedRequest={chunk:M,encoding:x,isBuf:m,callback:e,next:null},U?U.next=f.lastBufferedRequest:f.bufferedRequest=f.lastBufferedRequest,f.bufferedRequestCount+=1}else H(a,f,!1,g,M,x,e);return k}function H(a,f,m,M,x,e,t){f.writelen=M,f.writecb=t,f.writing=!0,f.sync=!0,f.destroyed?f.onwrite(new w("write")):m?a._writev(x,f.onwrite):a._write(x,e,f.onwrite),f.sync=!1}function fe(a,f,m,M,x){--f.pendingcb,m?(D.nextTick(x,M),D.nextTick(q,a,f),a._writableState.errorEmitted=!0,S(a,M)):(x(M),a._writableState.errorEmitted=!0,S(a,M),q(a,f))}function te(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function ce(a,f){var m=a._writableState,M=m.sync,x=m.writecb;if(typeof x!="function")throw new E;if(te(m),f)fe(a,m,M,f,x);else{var e=re(m)||a.destroyed;!e&&!m.corked&&!m.bufferProcessing&&m.bufferedRequest&&V(a,m),M?D.nextTick(I,a,m,e,x):I(a,m,e,x)}}function I(a,f,m,M){m||ne(a,f),f.pendingcb--,M(),q(a,f)}function ne(a,f){f.length===0&&f.needDrain&&(f.needDrain=!1,a.emit("drain"))}function V(a,f){f.bufferProcessing=!0;var m=f.bufferedRequest;if(a._writev&&m&&m.next){var M=f.bufferedRequestCount,x=new Array(M),e=f.corkedRequestsFree;e.entry=m;for(var t=0,g=!0;m;)x[t]=m,m.isBuf||(g=!1),m=m.next,t+=1;x.allBuffers=g,H(a,f,!0,f.length,x,"",e.finish),f.pendingcb++,f.lastBufferedRequest=null,e.next?(f.corkedRequestsFree=e.next,e.next=null):f.corkedRequestsFree=new n(f),f.bufferedRequestCount=0}else{for(;m;){var k=m.chunk,U=m.encoding,C=m.callback,F=f.objectMode?1:k.length;if(H(a,f,!1,F,k,U,C),m=m.next,f.bufferedRequestCount--,f.writing)break}m===null&&(f.lastBufferedRequest=null)}f.bufferedRequest=m,f.bufferProcessing=!1}A.prototype._write=function(a,f,m){m(new O("_write()"))},A.prototype._writev=null,A.prototype.end=function(a,f,m){var M=this._writableState;return typeof a=="function"?(m=a,a=null,f=null):typeof f=="function"&&(m=f,f=null),a!=null&&this.write(a,f),M.corked&&(M.corked=1,this.uncork()),M.ending||de(this,M,m),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function re(a){return a.ending&&a.length===0&&a.bufferedRequest===null&&!a.finished&&!a.writing}function he(a,f){a._final(function(m){f.pendingcb--,m&&S(a,m),f.prefinished=!0,a.emit("prefinish"),q(a,f)})}function ie(a,f){!f.prefinished&&!f.finalCalled&&(typeof a._final=="function"&&!f.destroyed?(f.pendingcb++,f.finalCalled=!0,D.nextTick(he,a,f)):(f.prefinished=!0,a.emit("prefinish")))}function q(a,f){var m=re(f);if(m&&(ie(a,f),f.pendingcb===0&&(f.finished=!0,a.emit("finish"),f.autoDestroy))){var M=a._readableState;(!M||M.autoDestroy&&M.endEmitted)&&a.destroy()}return m}function de(a,f,m){f.ending=!0,q(a,f),m&&(f.finished?D.nextTick(m):a.once("finish",m)),f.ended=!0,a.writable=!1}function pe(a,f,m){var M=a.entry;for(a.entry=null;M;){var x=M.callback;f.pendingcb--,x(m),M=M.next}f.corkedRequestsFree.next=a}return Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),A.prototype.destroy=l.destroy,A.prototype._undestroy=l.undestroy,A.prototype._destroy=function(a,f){f(a)},Re}var Le,tt;function J(){if(tt)return Le;tt=1;var n=Object.keys||function(d){var T=[];for(var R in d)T.push(R);return T};Le=c;var o=_t(),i=wt();Q(c,o);for(var h=n(i.prototype),v=0;v<h.length;v++){var s=h[v];c.prototype[s]||(c.prototype[s]=i.prototype[s])}function c(d){if(!(this instanceof c))return new c(d);o.call(this,d),i.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||D.nextTick(l,this)}function l(d){d.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),Le}var Te={},ke={exports:{}},nt;function Pt(){return nt||(nt=1,function(n,o){var i=ue,h=i.Buffer;function v(c,u){for(var l in c)u[l]=c[l]}h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?n.exports=i:(v(i,o),o.Buffer=s);function s(c,u,l){return h(c,u,l)}s.prototype=Object.create(h.prototype),v(h,s),s.from=function(c,u,l){if(typeof c=="number")throw new TypeError("Argument must not be a number");return h(c,u,l)},s.alloc=function(c,u,l){if(typeof c!="number")throw new TypeError("Argument must be a number");var d=h(c);return u!==void 0?typeof l=="string"?d.fill(u,l):d.fill(u):d.fill(0),d},s.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return h(c)},s.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(c)}}(ke,ke.exports)),ke.exports}var rt;function it(){if(rt)return Te;rt=1;var n=Pt().Buffer,o=n.isEncoding||function(r){switch(r=""+r,r&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(r){if(!r)return"utf8";for(var p;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(p)return;r=(""+r).toLowerCase(),p=!0}}function h(r){var p=i(r);if(typeof p!="string"&&(n.isEncoding===o||!o(r)))throw new Error("Unknown encoding: "+r);return p||r}Te.StringDecoder=v;function v(r){this.encoding=h(r);var p;switch(this.encoding){case"utf16le":this.text=R,this.end=_,p=4;break;case"utf8":this.fillLast=l,p=4;break;case"base64":this.text=O,this.end=E,p=3;break;default:this.write=y,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(p)}v.prototype.write=function(r){if(r.length===0)return"";var p,b;if(this.lastNeed){if(p=this.fillLast(r),p===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<r.length?p?p+this.text(r,b):this.text(r,b):p||""},v.prototype.end=T,v.prototype.text=d,v.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length};function s(r){return r<=127?0:r>>5===6?2:r>>4===14?3:r>>3===30?4:r>>6===2?-1:-2}function c(r,p,b){var S=p.length-1;if(S<b)return 0;var L=s(p[S]);return L>=0?(L>0&&(r.lastNeed=L-1),L):--S<b||L===-2?0:(L=s(p[S]),L>=0?(L>0&&(r.lastNeed=L-2),L):--S<b||L===-2?0:(L=s(p[S]),L>=0?(L>0&&(L===2?L=0:r.lastNeed=L-3),L):0))}function u(r,p,b){if((p[0]&192)!==128)return r.lastNeed=0,"�";if(r.lastNeed>1&&p.length>1){if((p[1]&192)!==128)return r.lastNeed=1,"�";if(r.lastNeed>2&&p.length>2&&(p[2]&192)!==128)return r.lastNeed=2,"�"}}function l(r){var p=this.lastTotal-this.lastNeed,b=u(this,r);if(b!==void 0)return b;if(this.lastNeed<=r.length)return r.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,p,0,r.length),this.lastNeed-=r.length}function d(r,p){var b=c(this,r,p);if(!this.lastNeed)return r.toString("utf8",p);this.lastTotal=b;var S=r.length-(b-this.lastNeed);return r.copy(this.lastChar,0,S),r.toString("utf8",p,S)}function T(r){var p=r&&r.length?this.write(r):"";return this.lastNeed?p+"�":p}function R(r,p){if((r.length-p)%2===0){var b=r.toString("utf16le",p);if(b){var S=b.charCodeAt(b.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",p,r.length-1)}function _(r){var p=r&&r.length?this.write(r):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return p+this.lastChar.toString("utf16le",0,b)}return p}function O(r,p){var b=(r.length-p)%3;return b===0?r.toString("base64",p):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",p,r.length-b))}function E(r){var p=r&&r.length?this.write(r):"";return this.lastNeed?p+this.lastChar.toString("base64",0,3-this.lastNeed):p}function y(r){return r.toString(this.encoding)}function w(r){return r&&r.length?this.write(r):""}return Te}var Me,at;function De(){if(at)return Me;at=1;var n=Z().codes.ERR_STREAM_PREMATURE_CLOSE;function o(s){var c=!1;return function(){if(!c){c=!0;for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];s.apply(this,l)}}}function i(){}function h(s){return s.setHeader&&typeof s.abort=="function"}function v(s,c,u){if(typeof c=="function")return v(s,null,c);c||(c={}),u=o(u||i);var l=c.readable||c.readable!==!1&&s.readable,d=c.writable||c.writable!==!1&&s.writable,T=function(){s.writable||_()},R=s._writableState&&s._writableState.finished,_=function(){d=!1,R=!0,l||u.call(s)},O=s._readableState&&s._readableState.endEmitted,E=function(){l=!1,O=!0,d||u.call(s)},y=function(p){u.call(s,p)},w=function(){var p;if(l&&!O)return(!s._readableState||!s._readableState.ended)&&(p=new n),u.call(s,p);if(d&&!R)return(!s._writableState||!s._writableState.ended)&&(p=new n),u.call(s,p)},r=function(){s.req.on("finish",_)};return h(s)?(s.on("complete",_),s.on("abort",w),s.req?r():s.on("request",r)):d&&!s._writableState&&(s.on("end",T),s.on("close",T)),s.on("end",E),s.on("finish",_),c.error!==!1&&s.on("error",y),s.on("close",w),function(){s.removeListener("complete",_),s.removeListener("abort",w),s.removeListener("request",r),s.req&&s.req.removeListener("finish",_),s.removeListener("end",T),s.removeListener("close",T),s.removeListener("finish",_),s.removeListener("end",E),s.removeListener("error",y),s.removeListener("close",w)}}return Me=v,Me}var Oe,ot;function Dt(){if(ot)return Oe;ot=1;var n;function o(b,S,L){return S=i(S),S in b?Object.defineProperty(b,S,{value:L,enumerable:!0,configurable:!0,writable:!0}):b[S]=L,b}function i(b){var S=h(b,"string");return typeof S=="symbol"?S:String(S)}function h(b,S){if(typeof b!="object"||b===null)return b;var L=b[Symbol.toPrimitive];if(L!==void 0){var N=L.call(b,S||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(b)}var v=De(),s=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),T=Symbol("handlePromise"),R=Symbol("stream");function _(b,S){return{value:b,done:S}}function O(b){var S=b[s];if(S!==null){var L=b[R].read();L!==null&&(b[d]=null,b[s]=null,b[c]=null,S(_(L,!1)))}}function E(b){D.nextTick(O,b)}function y(b,S){return function(L,N){b.then(function(){if(S[l]){L(_(void 0,!0));return}S[T](L,N)},N)}}var w=Object.getPrototypeOf(function(){}),r=Object.setPrototypeOf((n={get stream(){return this[R]},next:function(){var b=this,S=this[u];if(S!==null)return Promise.reject(S);if(this[l])return Promise.resolve(_(void 0,!0));if(this[R].destroyed)return new Promise(function(A,j){D.nextTick(function(){b[u]?j(b[u]):A(_(void 0,!0))})});var L=this[d],N;if(L)N=new Promise(y(L,this));else{var W=this[R].read();if(W!==null)return Promise.resolve(_(W,!1));N=new Promise(this[T])}return this[d]=N,N}},o(n,Symbol.asyncIterator,function(){return this}),o(n,"return",function(){var b=this;return new Promise(function(S,L){b[R].destroy(null,function(N){if(N){L(N);return}S(_(void 0,!0))})})}),n),w),p=function(b){var S,L=Object.create(r,(S={},o(S,R,{value:b,writable:!0}),o(S,s,{value:null,writable:!0}),o(S,c,{value:null,writable:!0}),o(S,u,{value:null,writable:!0}),o(S,l,{value:b._readableState.endEmitted,writable:!0}),o(S,T,{value:function(N,W){var A=L[R].read();A?(L[d]=null,L[s]=null,L[c]=null,N(_(A,!1))):(L[s]=N,L[c]=W)},writable:!0}),S));return L[d]=null,v(b,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=L[c];W!==null&&(L[d]=null,L[s]=null,L[c]=null,W(N)),L[u]=N;return}var A=L[s];A!==null&&(L[d]=null,L[s]=null,L[c]=null,A(_(void 0,!0))),L[l]=!0}),b.on("readable",E.bind(null,L)),L};return Oe=p,Oe}var st,ut;function Ft(){return ut||(ut=1,st=function(){throw new Error("Readable.from is not available in the browser")}),st}var je,lt;function _t(){if(lt)return je;lt=1,je=j;var n;j.ReadableState=A,Pe.EventEmitter;var o=function(e,t){return e.listeners(t).length},i=vt(),h=ue.Buffer,v=(typeof z<"u"?z:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(e){return h.from(e)}function c(e){return h.isBuffer(e)||e instanceof v}var u=dt,l;u&&u.debuglog?l=u.debuglog("stream"):l=function(){};var d=Nt(),T=yt(),R=mt(),_=R.getHighWaterMark,O=Z().codes,E=O.ERR_INVALID_ARG_TYPE,y=O.ERR_STREAM_PUSH_AFTER_EOF,w=O.ERR_METHOD_NOT_IMPLEMENTED,r=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,b,S;Q(j,i);var L=T.errorOrDestroy,N=["error","close","destroy","pause","resume"];function W(e,t,g){if(typeof e.prependListener=="function")return e.prependListener(t,g);!e._events||!e._events[t]?e.on(t,g):Array.isArray(e._events[t])?e._events[t].unshift(g):e._events[t]=[g,e._events[t]]}function A(e,t,g){n=n||J(),e=e||{},typeof g!="boolean"&&(g=t instanceof n),this.objectMode=!!e.objectMode,g&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=_(this,e,"readableHighWaterMark",g),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=it().StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function j(e){if(n=n||J(),!(this instanceof j))return new j(e);var t=this instanceof n;this._readableState=new A(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),i.call(this)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),j.prototype.destroy=T.destroy,j.prototype._undestroy=T.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var g=this._readableState,k;return g.objectMode?k=!0:typeof e=="string"&&(t=t||g.defaultEncoding,t!==g.encoding&&(e=h.from(e,t),t=""),k=!0),ee(this,e,t,!1,k)},j.prototype.unshift=function(e){return ee(this,e,null,!0,!1)};function ee(e,t,g,k,U){l("readableAddChunk",t);var C=e._readableState;if(t===null)C.reading=!1,ce(e,C);else{var F;if(U||(F=le(C,t)),F)L(e,F);else if(C.objectMode||t&&t.length>0)if(typeof t!="string"&&!C.objectMode&&Object.getPrototypeOf(t)!==h.prototype&&(t=s(t)),k)C.endEmitted?L(e,new r):X(e,C,t,!0);else if(C.ended)L(e,new y);else{if(C.destroyed)return!1;C.reading=!1,C.decoder&&!g?(t=C.decoder.write(t),C.objectMode||t.length!==0?X(e,C,t,!1):V(e,C)):X(e,C,t,!1)}else k||(C.reading=!1,V(e,C))}return!C.ended&&(C.length<C.highWaterMark||C.length===0)}function X(e,t,g,k){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",g)):(t.length+=t.objectMode?1:g.length,k?t.buffer.unshift(g):t.buffer.push(g),t.needReadable&&I(e)),V(e,t)}function le(e,t){var g;return!c(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(g=new E("chunk",["string","Buffer","Uint8Array"],t)),g}j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function(e){p||(p=it().StringDecoder);var t=new p(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var g=this._readableState.buffer.head,k="";g!==null;)k+=t.write(g.data),g=g.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var H=1073741824;function fe(e){return e>=H?e=H:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function te(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=fe(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}j.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,g=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?m(this):I(this),null;if(e=te(e,t),e===0&&t.ended)return t.length===0&&m(this),null;var k=t.needReadable;l("need readable",k),(t.length===0||t.length-e<t.highWaterMark)&&(k=!0,l("length less than watermark",k)),t.ended||t.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=te(g,t)));var U;return e>0?U=f(e,t):U=null,U===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),g!==e&&t.ended&&m(this)),U!==null&&this.emit("data",U),U};function ce(e,t){if(l("onEofChunk"),!t.ended){if(t.decoder){var g=t.decoder.end();g&&g.length&&(t.buffer.push(g),t.length+=t.objectMode?1:g.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,ne(e)))}}function I(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,D.nextTick(ne,e))}function ne(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,a(e)}function V(e,t){t.readingMore||(t.readingMore=!0,D.nextTick(re,e,t))}function re(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var g=t.length;if(l("maybeReadMore read 0"),e.read(0),g===t.length)break}t.readingMore=!1}j.prototype._read=function(e){L(this,new w("_read()"))},j.prototype.pipe=function(e,t){var g=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=e;break;case 1:k.pipes=[k.pipes,e];break;default:k.pipes.push(e);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,t);var U=(!t||t.end!==!1)&&e!==D.stdout&&e!==D.stderr,C=U?ae:$;k.endEmitted?D.nextTick(C):g.once("end",C),e.on("unpipe",F);function F(G,K){l("onunpipe"),G===g&&K&&K.hasUnpiped===!1&&(K.hasUnpiped=!0,Et())}function ae(){l("onend"),e.end()}var be=he(g);e.on("drain",be);var Ue=!1;function Et(){l("cleanup"),e.removeListener("close",ve),e.removeListener("finish",ye),e.removeListener("drain",be),e.removeListener("error",ge),e.removeListener("unpipe",F),g.removeListener("end",ae),g.removeListener("end",$),g.removeListener("data",We),Ue=!0,k.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&be()}g.on("data",We);function We(G){l("ondata");var K=e.write(G);l("dest.write",K),K===!1&&((k.pipesCount===1&&k.pipes===e||k.pipesCount>1&&x(k.pipes,e)!==-1)&&!Ue&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),g.pause())}function ge(G){l("onerror",G),$(),e.removeListener("error",ge),o(e,"error")===0&&L(e,G)}W(e,"error",ge);function ve(){e.removeListener("finish",ye),$()}e.once("close",ve);function ye(){l("onfinish"),e.removeListener("close",ve),$()}e.once("finish",ye);function $(){l("unpipe"),g.unpipe(e)}return e.emit("pipe",g),k.flowing||(l("pipe resume"),g.resume()),e};function he(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&o(e,"data")&&(t.flowing=!0,a(e))}}j.prototype.unpipe=function(e){var t=this._readableState,g={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,g),this);if(!e){var k=t.pipes,U=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var C=0;C<U;C++)k[C].emit("unpipe",this,{hasUnpiped:!1});return this}var F=x(t.pipes,e);return F===-1?this:(t.pipes.splice(F,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,g),this)},j.prototype.on=function(e,t){var g=i.prototype.on.call(this,e,t),k=this._readableState;return e==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):e==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?I(this):k.reading||D.nextTick(q,this)),g},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(e,t){var g=i.prototype.removeListener.call(this,e,t);return e==="readable"&&D.nextTick(ie,this),g},j.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&D.nextTick(ie,this),t};function ie(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function q(e){l("readable nexttick read 0"),e.read(0)}j.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,de(this,e)),e.paused=!1,this};function de(e,t){t.resumeScheduled||(t.resumeScheduled=!0,D.nextTick(pe,e,t))}function pe(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),a(e),t.flowing&&!t.reading&&e.read(0)}j.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function a(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&e.read()!==null;);}j.prototype.wrap=function(e){var t=this,g=this._readableState,k=!1;e.on("end",function(){if(l("wrapped end"),g.decoder&&!g.ended){var F=g.decoder.end();F&&F.length&&t.push(F)}t.push(null)}),e.on("data",function(F){if(l("wrapped data"),g.decoder&&(F=g.decoder.write(F)),!(g.objectMode&&F==null)&&!(!g.objectMode&&(!F||!F.length))){var ae=t.push(F);ae||(k=!0,e.pause())}});for(var U in e)this[U]===void 0&&typeof e[U]=="function"&&(this[U]=function(F){return function(){return e[F].apply(e,arguments)}}(U));for(var C=0;C<N.length;C++)e.on(N[C],this.emit.bind(this,N[C]));return this._read=function(F){l("wrapped _read",F),k&&(k=!1,e.resume())},this},typeof Symbol=="function"&&(j.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=Dt()),b(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),j._fromList=f,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function f(e,t){if(t.length===0)return null;var g;return t.objectMode?g=t.buffer.shift():!e||e>=t.length?(t.decoder?g=t.buffer.join(""):t.buffer.length===1?g=t.buffer.first():g=t.buffer.concat(t.length),t.buffer.clear()):g=t.buffer.consume(e,t.decoder),g}function m(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,D.nextTick(M,t,e))}function M(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var g=t._writableState;(!g||g.autoDestroy&&g.finished)&&t.destroy()}}typeof Symbol=="function"&&(j.from=function(e,t){return S===void 0&&(S=Ft()),S(j,e,t)});function x(e,t){for(var g=0,k=e.length;g<k;g++)if(e[g]===t)return g;return-1}return je}var Ce,ft;function St(){if(ft)return Ce;ft=1,Ce=u;var n=Z().codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,h=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,v=n.ERR_TRANSFORM_WITH_LENGTH_0,s=J();Q(u,s);function c(T,R){var _=this._transformState;_.transforming=!1;var O=_.writecb;if(O===null)return this.emit("error",new i);_.writechunk=null,_.writecb=null,R!=null&&this.push(R),O(T);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function u(T){if(!(this instanceof u))return new u(T);s.call(this,T),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",l)}function l(){var T=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(R,_){d(T,R,_)}):d(this,null,null)}u.prototype.push=function(T,R){return this._transformState.needTransform=!1,s.prototype.push.call(this,T,R)},u.prototype._transform=function(T,R,_){_(new o("_transform()"))},u.prototype._write=function(T,R,_){var O=this._transformState;if(O.writecb=_,O.writechunk=T,O.writeencoding=R,!O.transforming){var E=this._readableState;(O.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},u.prototype._read=function(T){var R=this._transformState;R.writechunk!==null&&!R.transforming?(R.transforming=!0,this._transform(R.writechunk,R.writeencoding,R.afterTransform)):R.needTransform=!0},u.prototype._destroy=function(T,R){s.prototype._destroy.call(this,T,function(_){R(_)})};function d(T,R,_){if(R)return T.emit("error",R);if(_!=null&&T.push(_),T._writableState.length)throw new v;if(T._transformState.transforming)throw new h;return T.push(null)}return Ce}var xe,ct;function Ut(){if(ct)return xe;ct=1,xe=o;var n=St();Q(o,n);function o(i){if(!(this instanceof o))return new o(i);n.call(this,i)}return o.prototype._transform=function(i,h,v){v(null,i)},xe}var Ne,ht;function Wt(){if(ht)return Ne;ht=1;var n;function o(_){var O=!1;return function(){O||(O=!0,_.apply(void 0,arguments))}}var i=Z().codes,h=i.ERR_MISSING_ARGS,v=i.ERR_STREAM_DESTROYED;function s(_){if(_)throw _}function c(_){return _.setHeader&&typeof _.abort=="function"}function u(_,O,E,y){y=o(y);var w=!1;_.on("close",function(){w=!0}),n===void 0&&(n=De()),n(_,{readable:O,writable:E},function(p){if(p)return y(p);w=!0,y()});var r=!1;return function(p){if(!w&&!r){if(r=!0,c(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();y(p||new v("pipe"))}}}function l(_){_()}function d(_,O){return _.pipe(O)}function T(_){return!_.length||typeof _[_.length-1]!="function"?s:_.pop()}function R(){for(var _=arguments.length,O=new Array(_),E=0;E<_;E++)O[E]=arguments[E];var y=T(O);if(Array.isArray(O[0])&&(O=O[0]),O.length<2)throw new h("streams");var w,r=O.map(function(p,b){var S=b<O.length-1,L=b>0;return u(p,S,L,function(N){w||(w=N),N&&r.forEach(l),!S&&(r.forEach(l),y(w))})});return O.reduce(d)}return Ne=R,Ne}var Bt=B,Fe=Pe.EventEmitter,It=Q;It(B,Fe),B.Readable=_t(),B.Writable=wt(),B.Duplex=J(),B.Transform=St(),B.PassThrough=Ut(),B.finished=De(),B.pipeline=Wt(),B.Stream=B;function B(){Fe.call(this)}B.prototype.pipe=function(n,o){var i=this;function h(T){n.writable&&n.write(T)===!1&&i.pause&&i.pause()}i.on("data",h);function v(){i.readable&&i.resume&&i.resume()}n.on("drain",v),!n._isStdio&&(!o||o.end!==!1)&&(i.on("end",c),i.on("close",u));var s=!1;function c(){s||(s=!0,n.end())}function u(){s||(s=!0,typeof n.destroy=="function"&&n.destroy())}function l(T){if(d(),Fe.listenerCount(this,"error")===0)throw T}i.on("error",l),n.on("error",l);function d(){i.removeListener("data",h),n.removeListener("drain",v),i.removeListener("end",c),i.removeListener("close",u),i.removeListener("error",l),n.removeListener("error",l),i.removeListener("end",d),i.removeListener("close",d),n.removeListener("close",d)}return i.on("end",d),i.on("close",d),n.on("close",d),n.emit("pipe",i),n};const Vt=Tt(Bt),Gt=function(n){return n.split("").reduce(function(o,i){return o=(o<<5)-o+i.charCodeAt(0),o&o},0)};export{Vt as S,wt as a,J as b,St as c,Ut as d,De as e,Wt as f,it as g,Gt as h,Pe as i,_t as r,Bt as s};
