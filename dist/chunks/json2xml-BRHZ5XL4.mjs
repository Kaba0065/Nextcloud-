/*! third party licenses: dist/vendor.LICENSE.txt */
var L={},y={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",i=new RegExp("^"+r+"$"),s=function(o,a){const u=[];let h=a.exec(o);for(;h;){const c=[];c.startIndex=a.lastIndex-h[0].length;const f=h.length;for(let d=0;d<f;d++)c.push(h[d]);u.push(c),h=a.exec(o)}return u},l=function(o){const a=i.exec(o);return!(a===null||typeof a>"u")};t.isExist=function(o){return typeof o<"u"},t.isEmptyObject=function(o){return Object.keys(o).length===0},t.merge=function(o,a,u){if(a){const h=Object.keys(a),c=h.length;for(let f=0;f<c;f++)u==="strict"?o[h[f]]=[a[h[f]]]:o[h[f]]=a[h[f]]}},t.getValue=function(o){return t.isExist(o)?o:""},t.isName=l,t.getAllMatches=s,t.nameRegexp=r})(y);const P=y,M={allowBooleanAttributes:!1,unpairedTags:[]};L.validate=function(t,e){e=Object.assign({},M,e);const n=[];let r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=C(t,s),s.err)return s}else if(t[s]==="<"){let l=s;if(s++,t[s]==="!"){s=j(t,s);continue}else{let o=!1;t[s]==="/"&&(o=!0,s++);let a="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!=="\n"&&t[s]!=="\r";s++)a+=t[s];if(a=a.trim(),a[a.length-1]==="/"&&(a=a.substring(0,a.length-1),s--),!q(a)){let c;return a.trim().length===0?c="Invalid space after '<'.":c="Tag '"+a+"' is an invalid name.",p("InvalidTag",c,g(t,s))}const u=G(t,s);if(u===!1)return p("InvalidAttr","Attributes for '"+a+"' have open quote.",g(t,s));let h=u.value;if(s=u.index,h[h.length-1]==="/"){const c=s-h.length;h=h.substring(0,h.length-1);const f=k(h,e);if(f===!0)r=!0;else return p(f.err.code,f.err.msg,g(t,c+f.err.line))}else if(o)if(u.tagClosed){if(h.trim().length>0)return p("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",g(t,l));{const c=n.pop();if(a!==c.tagName){let f=g(t,c.tagStartPos);return p("InvalidTag","Expected closing tag '"+c.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+a+"'.",g(t,l))}n.length==0&&(i=!0)}}else return p("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",g(t,s));else{const c=k(h,e);if(c!==!0)return p(c.err.code,c.err.msg,g(t,s-h.length+c.err.line));if(i===!0)return p("InvalidXml","Multiple possible root nodes found.",g(t,s));e.unpairedTags.indexOf(a)!==-1||n.push({tagName:a,tagStartPos:l}),r=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=j(t,s);continue}else if(t[s+1]==="?"){if(s=C(t,++s),s.err)return s}else break;else if(t[s]==="&"){const c=Y(t,s);if(c==-1)return p("InvalidChar","char '&' is not expected.",g(t,s));s=c}else if(i===!0&&!I(t[s]))return p("InvalidXml","Extra text at the end",g(t,s));t[s]==="<"&&s--}}else{if(I(t[s]))continue;return p("InvalidChar","char '"+t[s]+"' is not expected.",g(t,s))}if(r){if(n.length==1)return p("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",g(t,n[0].tagStartPos));if(n.length>0)return p("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return p("InvalidXml","Start tag expected.",1);return!0};function I(t){return t===" "||t==="	"||t==="\n"||t==="\r"}function C(t,e){const n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const r=t.substr(n,e-n);if(e>5&&r==="xml")return p("InvalidXml","XML declaration allowed only at the start of the document.",g(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function j(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const B='"',R="'";function G(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===B||t[e]===R)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}const U=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function k(t,e){const n=P.getAllMatches(t,U),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return p("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",v(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return p("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",v(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",v(n[i]));const s=n[i][2];if(!Z(s))return p("InvalidAttr","Attribute '"+s+"' is an invalid name.",v(n[i]));if(!r.hasOwnProperty(s))r[s]=1;else return p("InvalidAttr","Attribute '"+s+"' is repeated.",v(n[i]))}return!0}function X(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function Y(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,X(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function p(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function Z(t){return P.isName(t)}function q(t){return P.isName(t)}function g(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function v(t){return t.startIndex+t[1].length}var S={};const F={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},J=function(t){return Object.assign({},F,t)};S.buildOptions=J,S.defaultOptions=F;class W{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}var z=W;const H=y;function K(t,e){const n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,s=!1,l="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&et(t,e))e+=7,[entityName,val,e]=Q(t,e+1),val.indexOf("&")===-1&&(n[rt(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(i&&nt(t,e))e+=8;else if(i&&it(t,e))e+=8;else if(i&&st(t,e))e+=9;else if(tt)s=!0;else throw new Error("Invalid DOCTYPE");r++,l=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:l+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function Q(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const r=t[e++];let i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function tt(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function et(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function nt(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function it(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function st(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function rt(t){if(H.isName(t))return t;throw new Error("Invalid entity name ".concat(t))}var ot=K;const at=/^[-+]?0x[a-fA-F0-9]+$/,lt=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const ut={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function ht(t,e={}){if(e=Object.assign({},ut,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&at.test(n))return Number.parseInt(n,16);{const r=lt.exec(n);if(r){const i=r[1],s=r[2];let l=ct(r[3]);const o=r[4]||r[6];if(!e.leadingZeros&&s.length>0&&i&&n[2]!=="."||!e.leadingZeros&&s.length>0&&!i&&n[1]!==".")return t;{const a=Number(n),u=""+a;return u.search(/[eE]/)!==-1||o?e.eNotation?a:t:n.indexOf(".")!==-1?u==="0"&&l===""||u===l||i&&u==="-"+l?a:t:s?l===u||i+l===u?a:t:n===u||n===i+u?a:t}}else return t}}function ct(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var dt=ht;const w=y,E=z,ft=ot,pt=dt;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,w.nameRegexp);class gt{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=mt,this.parseXml=Et,this.parseTextData=xt,this.resolveNameSpace=Nt,this.buildAttributesMap=vt,this.isItStopNode=Ot,this.replaceEntitiesValue=yt,this.readStopNodeData=wt,this.saveTextToParentTag=At,this.addChild=Tt}}function mt(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function xt(t,e,n,r,i,s,l){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){l||(t=this.replaceEntitiesValue(t));const o=this.options.tagValueProcessor(e,t,n,i,s);return o==null?t:typeof o!=typeof t||o!==t?o:this.options.trimValues?O(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?O(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Nt(t){if(this.options.removeNSPrefix){const e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}const bt=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function vt(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){const r=w.getAllMatches(t,bt),i=r.length,s={};for(let l=0;l<i;l++){const o=this.resolveNameSpace(r[l][1]);let a=r[l][4],u=this.options.attributeNamePrefix+o;if(o.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);const h=this.options.attributeValueProcessor(o,a,e);h==null?s[u]=a:typeof h!=typeof a||h!==a?s[u]=h:s[u]=O(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const l={};return l[this.options.attributesGroupName]=s,l}return s}}const Et=function(t){t=t.replace(/\r\n?/g,"\n");const e=new E("!xml");let n=e,r="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){const l=N(t,">",s,"Closing Tag is not closed.");let o=t.substring(s+2,l).trim();if(this.options.removeNSPrefix){const h=o.indexOf(":");h!==-1&&(o=o.substr(h+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&(r=this.saveTextToParentTag(r,n,i));const a=i.substring(i.lastIndexOf(".")+1);if(o&&this.options.unpairedTags.indexOf(o)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(o,">"));let u=0;a&&this.options.unpairedTags.indexOf(a)!==-1?(u=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=i.lastIndexOf("."),i=i.substring(0,u),n=this.tagsNodeStack.pop(),r="",s=l}else if(t[s+1]==="?"){let l=A(t,s,!1,"?>");if(!l)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&l.tagName==="?xml"||this.options.ignorePiTags)){const o=new E(l.tagName);o.add(this.options.textNodeName,""),l.tagName!==l.tagExp&&l.attrExpPresent&&(o[":@"]=this.buildAttributesMap(l.tagExp,i,l.tagName)),this.addChild(n,o,i)}s=l.closeIndex+1}else if(t.substr(s+1,3)==="!--"){const l=N(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const o=t.substring(s+4,l-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}s=l}else if(t.substr(s+1,2)==="!D"){const l=ft(t,s);this.docTypeEntities=l.entities,s=l.i}else if(t.substr(s+1,2)==="!["){const l=N(t,"]]>",s,"CDATA is not closed.")-2,o=t.substring(s+9,l);if(r=this.saveTextToParentTag(r,n,i),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]);else{let a=this.parseTextData(o,n.tagname,i,!0,!1,!0);a==null&&(a=""),n.add(this.options.textNodeName,a)}s=l+2}else{let l=A(t,s,this.options.removeNSPrefix),o=l.tagName;const a=l.rawTagName;let u=l.tagExp,h=l.attrExpPresent,c=l.closeIndex;this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));const f=n;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),o!==e.tagname&&(i+=i?"."+o:o),this.isItStopNode(this.options.stopNodes,i,o)){let d="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)s=l.closeIndex;else if(this.options.unpairedTags.indexOf(o)!==-1)s=l.closeIndex;else{const b=this.readStopNodeData(t,a,c+1);if(!b)throw new Error("Unexpected end of ".concat(a));s=b.i,d=b.tagContent}const m=new E(o);o!==u&&h&&(m[":@"]=this.buildAttributesMap(u,i,o)),d&&(d=this.parseTextData(d,o,i,!0,h,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),m.add(this.options.textNodeName,d),this.addChild(n,m,i)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){o[o.length-1]==="/"?(o=o.substr(0,o.length-1),i=i.substr(0,i.length-1),u=o):u=u.substr(0,u.length-1),this.options.transformTagName&&(o=this.options.transformTagName(o));const d=new E(o);o!==u&&h&&(d[":@"]=this.buildAttributesMap(u,i,o)),this.addChild(n,d,i),i=i.substr(0,i.lastIndexOf("."))}else{const d=new E(o);this.tagsNodeStack.push(n),o!==u&&h&&(d[":@"]=this.buildAttributesMap(u,i,o)),this.addChild(n,d,i),n=d}r="",s=c}}else r+=t[s];return e.child};function Tt(t,e,n){const r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}const yt=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function At(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Ot(t,e,n){const r="*."+n;for(const i in t){const s=t[i];if(r===s||e===s)return!0}return!1}function Pt(t,e,n=">"){let r,i="";for(let s=e;s<t.length;s++){let l=t[s];if(r)l===r&&(r="");else if(l==='"'||l==="'")r=l;else if(l===n[0])if(n[1]){if(t[s+1]===n[1])return{data:i,index:s}}else return{data:i,index:s};else l==="	"&&(l=" ");i+=l}}function N(t,e,n,r){const i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function A(t,e,n,r=">"){const i=Pt(t,e+1,r);if(!i)return;let s=i.data;const l=i.index,o=s.search(/\s/);let a=s,u=!0;o!==-1&&(a=s.substr(0,o).replace(/\s\s*$/,""),s=s.substr(o+1));const h=a;if(n){const c=a.indexOf(":");c!==-1&&(a=a.substr(c+1),u=a!==i.data.substr(c+1))}return{tagName:a,tagExp:s,closeIndex:l,attrExpPresent:u,rawTagName:h}}function wt(t,e,n){const r=n;let i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){const s=N(t,">",n,"".concat(e," is not closed"));if(t.substring(n+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:s};n=s}else if(t[n+1]==="?")n=N(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=N(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=N(t,"]]>",n,"StopNode is not closed.")-2;else{const s=A(t,n,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,n=s.closeIndex)}}function O(t,e,n){if(e&&typeof t=="string"){const r=t.trim();return r==="true"?!0:r==="false"?!1:pt(t,n)}else return w.isExist(t)?t:""}var Ut=gt,It={};function Ct(t,e){return $(t,e)}function $(t,e,n){let r;const i={};for(let s=0;s<t.length;s++){const l=t[s],o=jt(l);let a="";if(n===void 0?a=o:a=n+"."+o,o===e.textNodeName)r===void 0?r=l[o]:r+=""+l[o];else{if(o===void 0)continue;if(l[o]){let u=$(l[o],e,a);const h=St(u,e);l[":@"]?kt(u,l[":@"],a,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),i[o]!==void 0&&i.hasOwnProperty(o)?(Array.isArray(i[o])||(i[o]=[i[o]]),i[o].push(u)):e.isArray(o,a,h)?i[o]=[u]:i[o]=u}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function jt(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(r!==":@")return r}}function kt(t,e,n,r){if(e){const i=Object.keys(e),s=i.length;for(let l=0;l<s;l++){const o=i[l];r.isArray(o,n+"."+o,!0,!0)?t[o]=[e[o]]:t[o]=e[o]}}}function St(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}It.prettify=Ct;const Vt="\n";function Ft(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=Vt),_(t,e,"",n)}function _(t,e,n,r){let i="",s=!1;for(let l=0;l<t.length;l++){const o=t[l],a=$t(o);if(a===void 0)continue;let u="";if(n.length===0?u=a:u="".concat(n,".").concat(a),a===e.textNodeName){let m=o[a];_t(u,e)||(m=e.tagValueProcessor(a,m),m=D(m,e)),s&&(i+=r),i+=m,s=!1;continue}else if(a===e.cdataPropName){s&&(i+=r),i+="<![CDATA[".concat(o[a][0][e.textNodeName],"]]>"),s=!1;continue}else if(a===e.commentPropName){i+=r+"<!--".concat(o[a][0][e.textNodeName],"-->"),s=!0;continue}else if(a[0]==="?"){const m=V(o[":@"],e),b=a==="?xml"?"":r;let T=o[a][0][e.textNodeName];T=T.length!==0?" "+T:"",i+=b+"<".concat(a).concat(T).concat(m,"?>"),s=!0;continue}let h=r;h!==""&&(h+=e.indentBy);const c=V(o[":@"],e),f=r+"<".concat(a).concat(c),d=_(o[a],e,u,h);e.unpairedTags.indexOf(a)!==-1?e.suppressUnpairedNode?i+=f+">":i+=f+"/>":(!d||d.length===0)&&e.suppressEmptyNode?i+=f+"/>":d&&d.endsWith(">")?i+=f+">".concat(d).concat(r,"</").concat(a,">"):(i+=f+">",d&&r!==""&&(d.includes("/>")||d.includes("</"))?i+=r+e.indentBy+d+r:i+=d,i+="</".concat(a,">")),s=!0}return i}function $t(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function V(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=D(i,e),i===!0&&e.suppressBooleanAttributes?n+=" ".concat(r.substr(e.attributeNamePrefix.length)):n+=" ".concat(r.substr(e.attributeNamePrefix.length),'="').concat(i,'"')}return n}function _t(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function D(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}var Dt=Ft;const Lt=Dt,Mt={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function x(t){this.options=Object.assign({},Mt,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Gt),this.processTextOrObjNode=Bt,this.options.format?(this.indentate=Rt,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}x.prototype.build=function(t){return this.options.preserveOrder?Lt(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)},x.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(r+="");else if(t[i]===null)this.isAttribute(i)?r+="":i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){const s=this.isAttribute(i);if(s)n+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let l=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(l)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){const s=t[i].length;let l="";for(let o=0;o<s;o++){const a=t[i][o];typeof a>"u"||(a===null?i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:typeof a=="object"?this.options.oneListGroup?l+=this.j2x(a,e+1).val:l+=this.processTextOrObjNode(a,i,e):l+=this.buildTextValNode(a,i,"",e))}this.options.oneListGroup&&(l=this.buildObjectNode(l,i,"",e)),r+=l}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const s=Object.keys(t[i]),l=s.length;for(let o=0;o<l;o++)n+=this.buildAttrPairStr(s[o],""+t[i][s[o]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}},x.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function Bt(t,e,n){const r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}x.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(r)+"<!--".concat(t,"-->")+this.newLine:this.indentate(r)+"<"+e+n+s+this.tagEndChar+t+this.indentate(r)+i}},x.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e="></".concat(t),e},x.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+"<![CDATA[".concat(t,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+"<!--".concat(t,"-->")+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}},x.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function Rt(t){return this.options.indentBy.repeat(t)}function Gt(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}var Xt=x;export{S as O,Ut as a,Xt as j,It as n,L as v};
