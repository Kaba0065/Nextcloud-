/*! third party licenses: dist/vendor.LICENSE.txt */
const F="%[a-f0-9]{2}",d=new RegExp("("+F+")|([^%]+?)","gi"),m=new RegExp("("+F+")+","gi");function l(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],l(r),l(o))}function I(e){try{return decodeURIComponent(e)}catch{let t=e.match(d)||[];for(let r=1;r<t.length;r++)e=l(t,r).join(""),t=e.match(d)||[];return e}}function N(e){const t={"%FE%FF":"��","%FF%FE":"��"};let r=m.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{const n=I(r[0]);n!==r[0]&&(t[r[0]]=n)}r=m.exec(e)}t["%C2"]="�";const o=Object.keys(t);for(const n of o)e=e.replace(new RegExp(n,"g"),t[n]);return e}function v(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return N(e)}}function b(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const r=e.indexOf(t);return r===-1?[]:[e.slice(0,r),e.slice(r+t.length)]}function $(e,t){const r={};if(Array.isArray(t))for(const o of t){const n=Object.getOwnPropertyDescriptor(e,o);n!=null&&n.enumerable&&Object.defineProperty(r,o,n)}else for(const o of Reflect.ownKeys(e)){const n=Object.getOwnPropertyDescriptor(e,o);if(n.enumerable){const a=e[o];t(o,a,e)&&Object.defineProperty(r,o,n)}}return r}const C=e=>e==null,R=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>"%".concat(t.charCodeAt(0).toString(16).toUpperCase())),p=Symbol("encodeFragmentIdentifier");function A(e){switch(e.arrayFormat){case"index":return t=>(r,o)=>{const n=r.length;return o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?r:o===null?[...r,[s(t,e),"[",n,"]"].join("")]:[...r,[s(t,e),"[",s(n,e),"]=",s(o,e)].join("")]};case"bracket":return t=>(r,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?r:o===null?[...r,[s(t,e),"[]"].join("")]:[...r,[s(t,e),"[]=",s(o,e)].join("")];case"colon-list-separator":return t=>(r,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?r:o===null?[...r,[s(t,e),":list="].join("")]:[...r,[s(t,e),":list=",s(o,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(o,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?o:(n=n===null?"":n,o.length===0?[[s(r,e),t,s(n,e)].join("")]:[[o,s(n,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?r:o===null?[...r,s(t,e)]:[...r,[s(t,e),"=",s(o,e)].join("")]}}function U(e){let t;switch(e.arrayFormat){case"index":return(r,o,n)=>{if(t=/\[(\d*)]$/.exec(r),r=r.replace(/\[\d*]$/,""),!t){n[r]=o;return}n[r]===void 0&&(n[r]={}),n[r][t[1]]=o};case"bracket":return(r,o,n)=>{if(t=/(\[])$/.exec(r),r=r.replace(/\[]$/,""),!t){n[r]=o;return}if(n[r]===void 0){n[r]=[o];return}n[r]=[...n[r],o]};case"colon-list-separator":return(r,o,n)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){n[r]=o;return}if(n[r]===void 0){n[r]=[o];return}n[r]=[...n[r],o]};case"comma":case"separator":return(r,o,n)=>{const a=typeof o=="string"&&o.includes(e.arrayFormatSeparator),i=typeof o=="string"&&!a&&u(o,e).includes(e.arrayFormatSeparator);o=i?u(o,e):o;const c=a||i?o.split(e.arrayFormatSeparator).map(E=>u(E,e)):o===null?o:u(o,e);n[r]=c};case"bracket-separator":return(r,o,n)=>{const a=/(\[])$/.test(r);if(r=r.replace(/\[]$/,""),!a){n[r]=o&&u(o,e);return}const i=o===null?[]:o.split(e.arrayFormatSeparator).map(c=>u(c,e));if(n[r]===void 0){n[r]=i;return}n[r]=[...n[r],...i]};default:return(r,o,n)=>{if(n[r]===void 0){n[r]=o;return}n[r]=[...[n[r]].flat(),o]}}}function j(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?R(e):encodeURIComponent(e):e}function u(e,t){return t.decode?v(e):e}function h(e){return Array.isArray(e)?e.sort():typeof e=="object"?h(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function k(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function D(e){let t="";const r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function f(e){e=k(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function y(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},j(t.arrayFormatSeparator);const r=U(t),o=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return o;for(const n of e.split("&")){if(n==="")continue;const a=t.decode?n.replace(/\+/g," "):n;let[i,c]=b(a,"=");i===void 0&&(i=a),c=c===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?c:u(c,t),r(u(i,t),c,o)}for(const[n,a]of Object.entries(o))if(typeof a=="object"&&a!==null)for(const[i,c]of Object.entries(a))a[i]=g(c,t);else o[n]=g(a,t);return t.sort===!1?o:(t.sort===!0?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((n,a)=>{const i=o[a];return i&&typeof i=="object"&&!Array.isArray(i)?n[a]=h(i):n[a]=i,n},Object.create(null))}function O(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},j(t.arrayFormatSeparator);const r=i=>t.skipNull&&C(e[i])||t.skipEmptyString&&e[i]==="",o=A(t),n={};for(const[i,c]of Object.entries(e))r(i)||(n[i]=c);const a=Object.keys(n);return t.sort!==!1&&a.sort(t.sort),a.map(i=>{const c=e[i];return c===void 0?"":c===null?s(i,t):Array.isArray(c)?c.length===0&&t.arrayFormat==="bracket-separator"?s(i,t)+"[]":c.reduce(o(i),[]).join("&"):s(i,t)+"="+s(c,t)}).filter(i=>i.length>0).join("&")}function x(e,t){var n,a;t={decode:!0,...t};let[r,o]=b(e,"#");return r===void 0&&(r=e),{url:(a=(n=r==null?void 0:r.split("?"))==null?void 0:n[0])!=null?a:"",query:y(f(e),t),...t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:u(o,t)}:{}}}function S(e,t){t={encode:!0,strict:!0,[p]:!0,...t};const r=k(e.url).split("?")[0]||"",o=f(e.url),n={...y(o,{sort:!1}),...e.query};let a=O(n,t);a&&(a="?".concat(a));let i=D(e.url);if(e.fragmentIdentifier){const c=new URL(r);c.hash=e.fragmentIdentifier,i=t[p]?c.hash:"#".concat(e.fragmentIdentifier)}return"".concat(r).concat(a).concat(i)}function w(e,t,r){r={parseFragmentIdentifier:!0,[p]:!1,...r};const{url:o,query:n,fragmentIdentifier:a}=x(e,r);return S({url:o,query:$(n,t),fragmentIdentifier:a},r)}function q(e,t,r){const o=Array.isArray(t)?n=>!t.includes(n):(n,a)=>!t(n,a);return w(e,o,r)}const P=Object.freeze(Object.defineProperty({__proto__:null,exclude:q,extract:f,parse:y,parseUrl:x,pick:w,stringify:O,stringifyUrl:S},Symbol.toStringTag,{value:"Module"}));export{P as q};
