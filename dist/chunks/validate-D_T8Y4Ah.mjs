/*! third party licenses: dist/vendor.LICENSE.txt */
import{bQ as n,bD as A,bJ as O,bE as a}from"../core-common.mjs";import{H as I}from"./style-3JoZM1Ml.mjs";const x=async(i,s)=>{const o=O().uid,L=n("/profile/{userId}",{userId:o});return await I(),(await A.put(L,{paramId:i,visibility:s})).data},T=async i=>{i=i?"1":"0";const s=n("/apps/provisioning_api/api/v1/config/apps/{appId}/{key}",{appId:"settings",key:"profile_enabled_by_default"});return await I(),(await A.post(s,{value:i})).data},E=Object.freeze({ADDRESS:"address",AVATAR:"avatar",BIOGRAPHY:"biography",DISPLAYNAME:"displayname",EMAIL_COLLECTION:"additional_mail",EMAIL:"email",HEADLINE:"headline",NOTIFICATION_EMAIL:"notify_email",FEDIVERSE:"fediverse",ORGANISATION:"organisation",PHONE:"phone",PROFILE_ENABLED:"profile_enabled",ROLE:"role",TWITTER:"twitter",WEBSITE:"website"}),e=Object.freeze({ADDRESS:a("settings","Location"),AVATAR:a("settings","Profile picture"),BIOGRAPHY:a("settings","About"),DISPLAYNAME:a("settings","Full name"),EMAIL_COLLECTION:a("settings","Additional email"),EMAIL:a("settings","Email"),HEADLINE:a("settings","Headline"),ORGANISATION:a("settings","Organisation"),PHONE:a("settings","Phone number"),PROFILE_ENABLED:a("settings","Profile"),ROLE:a("settings","Role"),TWITTER:a("settings","X (formerly Twitter)"),FEDIVERSE:a("settings","Fediverse (e.g. Mastodon)"),WEBSITE:a("settings","Website")}),c=Object.freeze({[E.ADDRESS]:e.ADDRESS,[E.AVATAR]:e.AVATAR,[E.BIOGRAPHY]:e.BIOGRAPHY,[E.DISPLAYNAME]:e.DISPLAYNAME,[E.EMAIL_COLLECTION]:e.EMAIL_COLLECTION,[E.EMAIL]:e.EMAIL,[E.HEADLINE]:e.HEADLINE,[E.ORGANISATION]:e.ORGANISATION,[E.PHONE]:e.PHONE,[E.PROFILE_ENABLED]:e.PROFILE_ENABLED,[E.ROLE]:e.ROLE,[E.TWITTER]:e.TWITTER,[E.FEDIVERSE]:e.FEDIVERSE,[E.WEBSITE]:e.WEBSITE}),N=Object.freeze({PROFILE_VISIBILITY:a("settings","Profile visibility")}),D=Object.freeze({[e.ADDRESS]:E.ADDRESS,[e.AVATAR]:E.AVATAR,[e.BIOGRAPHY]:E.BIOGRAPHY,[e.DISPLAYNAME]:E.DISPLAYNAME,[e.EMAIL_COLLECTION]:E.EMAIL_COLLECTION,[e.EMAIL]:E.EMAIL,[e.HEADLINE]:E.HEADLINE,[e.ORGANISATION]:E.ORGANISATION,[e.PHONE]:E.PHONE,[e.PROFILE_ENABLED]:E.PROFILE_ENABLED,[e.ROLE]:E.ROLE,[e.TWITTER]:E.TWITTER,[e.FEDIVERSE]:E.FEDIVERSE,[e.WEBSITE]:E.WEBSITE}),d=Object.freeze({LANGUAGE:"language",LOCALE:"locale"}),P=Object.freeze({LANGUAGE:a("settings","Language"),LOCALE:a("settings","Locale")}),t=Object.freeze({PRIVATE:"v2-private",LOCAL:"v2-local",FEDERATED:"v2-federated",PUBLISHED:"v2-published"}),f=Object.freeze({[e.ADDRESS]:[t.LOCAL,t.PRIVATE],[e.AVATAR]:[t.LOCAL,t.PRIVATE],[e.BIOGRAPHY]:[t.LOCAL,t.PRIVATE],[e.DISPLAYNAME]:[t.LOCAL],[e.EMAIL_COLLECTION]:[t.LOCAL],[e.EMAIL]:[t.LOCAL],[e.HEADLINE]:[t.LOCAL,t.PRIVATE],[e.ORGANISATION]:[t.LOCAL,t.PRIVATE],[e.PHONE]:[t.LOCAL,t.PRIVATE],[e.PROFILE_ENABLED]:[t.LOCAL,t.PRIVATE],[e.ROLE]:[t.LOCAL,t.PRIVATE],[e.TWITTER]:[t.LOCAL,t.PRIVATE],[e.FEDIVERSE]:[t.LOCAL,t.PRIVATE],[e.WEBSITE]:[t.LOCAL,t.PRIVATE]}),p=Object.freeze([e.BIOGRAPHY,e.HEADLINE,e.ORGANISATION,e.ROLE]),S="Scope",g=Object.freeze({[t.PRIVATE]:{name:t.PRIVATE,displayName:a("settings","Private"),tooltip:a("settings","Only visible to people matched via phone number integration through Talk on mobile"),tooltipDisabled:a("settings","Not available as this property is required for core functionality including file sharing and calendar invitations"),iconClass:"icon-phone"},[t.LOCAL]:{name:t.LOCAL,displayName:a("settings","Local"),tooltip:a("settings","Only visible to people on this instance and guests"),iconClass:"icon-password"},[t.FEDERATED]:{name:t.FEDERATED,displayName:a("settings","Federated"),tooltip:a("settings","Only synchronize to trusted servers"),tooltipDisabled:a("settings","Not available as federation has been disabled for your account, contact your system administrator if you have any questions"),iconClass:"icon-contacts-dark"},[t.PUBLISHED]:{name:t.PUBLISHED,displayName:a("settings","Published"),tooltip:a("settings","Synchronize to trusted servers and the global and public address book"),tooltipDisabled:a("settings","Not available as publishing user specific data to the lookup server is not allowed, contact your system administrator if you have any questions"),iconClass:"icon-link"}}),C=t.LOCAL,u=Object.freeze({NOT_VERIFIED:0,VERIFICATION_IN_PROGRESS:1,VERIFIED:2}),r=/^(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){255,})(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){65,}@)(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22))(?:\.(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-+[a-z0-9]+)*\.){1,126}){1,}(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-+[a-z0-9]+)*)|(?:\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))\]))$/i;function b(i){return typeof i=="string"&&r.test(i)&&i.slice(-1)!=="\n"&&i.length<=320&&encodeURIComponent(i).replace(/%../g,"x").length<=320}function F(i){try{return new URL(i),!0}catch{return!1}}function m(i){return i.code!==""&&i.name!==""&&i.name!==void 0}function y(i){return i.code!==""&&i.name!==""&&i.name!==void 0}function V(i){return typeof i=="boolean"}export{e as A,C as D,c as N,N as P,S,p as U,u as V,P as a,g as b,f as c,t as d,D as e,E as f,b as g,F as h,m as i,d as j,y as k,x as l,T as s,V as v};
