{"version":3,"file":"Files-CiOJEZCE.mjs","sources":["../../node_modules/stream-http/lib/capability.js","../../node_modules/readable-stream/readable-browser.js","../../node_modules/stream-http/lib/response.js","../../node_modules/stream-http/lib/request.js","../../node_modules/xtend/immutable.js","../../node_modules/builtin-status-codes/browser.js","../../node_modules/stream-http/index.js","../../node_modules/https-browserify/index.js","../../node_modules/@buttercup/fetch/dist/index.browser.js","../../node_modules/hot-patcher/dist/functions.js","../../node_modules/hot-patcher/dist/patcher.js","../../node_modules/webdav/dist/node/compat/patcher.js","../../node_modules/webdav/dist/node/compat/env.js","../../node_modules/webdav/dist/node/tools/crypto.js","../../node_modules/webdav/dist/node/auth/digest.js","../../node_modules/webdav/dist/node/tools/merge.js","../../node_modules/webdav/dist/node/compat/arrayBuffer.js","../../node_modules/webdav/dist/node/compat/buffer.js","../../node_modules/webdav/dist/node/tools/body.js","../../node_modules/webdav/dist/node/request.js","../../apps/files/src/services/WebdavClient.ts","../../node_modules/cancelable-promise/esm/CancelablePromise.mjs","../../apps/files/src/services/Files.ts"],"sourcesContent":["exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || checkTypeSupport('arraybuffer')\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && checkTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, resetTimers) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\tresetTimers(false)\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(Buffer.from(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tresetTimers(result.done)\n\t\t\t\tif (result.done) {\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(Buffer.from(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tresetTimers(true)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function (resetTimers) {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text':\n\t\t\tresponse = xhr.responseText\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = Buffer.alloc(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(Buffer.from(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(Buffer.from(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(Buffer.from(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tresetTimers(true)\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tresetTimers(true)\n\t\tself.push(null)\n\t}\n}\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + Buffer.from(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\tself._socketTimeout = null\n\tself._socketTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tif ('timeout' in opts && opts.timeout !== 0) {\n\t\tself.setTimeout(opts.timeout)\n\t}\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n        body = new Blob(self._body, {\n            type: (headersObj['content-type'] || {}).value || ''\n        });\n    }\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._resetTimers(false)\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tself._resetTimers(true)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself._resetTimers(true)\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tself._resetTimers(false)\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress(self._resetTimers.bind(self))\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._resetTimers.bind(self))\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype._resetTimers = function (done) {\n\tvar self = this\n\n\tglobal.clearTimeout(self._socketTimer)\n\tself._socketTimer = null\n\n\tif (done) {\n\t\tglobal.clearTimeout(self._fetchTimer)\n\t\tself._fetchTimer = null\n\t} else if (self._socketTimeout) {\n\t\tself._socketTimer = global.setTimeout(function () {\n\t\t\tself.emit('timeout')\n\t\t}, self._socketTimeout)\n\t}\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function (err) {\n\tvar self = this\n\tself._destroyed = true\n\tself._resetTimers(true)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n\n\tif (err)\n\t\tself.emit('error', err)\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.setTimeout = function (timeout, cb) {\n\tvar self = this\n\n\tif (cb)\n\t\tself.once('timeout', cb)\n\n\tself._socketTimeout = timeout\n\tself._resetTimers(false)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","var http = require('http')\nvar url = require('url')\n\nvar https = module.exports\n\nfor (var key in http) {\n  if (http.hasOwnProperty(key)) https[key] = http[key]\n}\n\nhttps.request = function (params, cb) {\n  params = validateParams(params)\n  return http.request.call(this, params, cb)\n}\n\nhttps.get = function (params, cb) {\n  params = validateParams(params)\n  return http.get.call(this, params, cb)\n}\n\nfunction validateParams (params) {\n  if (typeof params === 'string') {\n    params = url.parse(params)\n  }\n  if (!params.protocol) {\n    params.protocol = 'https:'\n  }\n  if (params.protocol !== 'https:') {\n    throw new Error('Protocol \"' + params.protocol + '\" not supported. Expected \"https:\"')\n  }\n  return params\n}\n","const inWebWorker = typeof WorkerGlobalScope !== \"undefined\" &&\n    self instanceof WorkerGlobalScope;\nconst root = inWebWorker\n    ? self\n    : typeof window !== \"undefined\"\n        ? window\n        : globalThis;\nexport const fetch = root.fetch.bind(root);\nexport const Headers = root.Headers;\nexport const Request = root.Request;\nexport const Response = root.Response;\n","export function sequence(...methods) {\n    if (methods.length === 0) {\n        throw new Error(\"Failed creating sequence: No functions provided\");\n    }\n    return function __executeSequence(...args) {\n        let result = args;\n        const _this = this;\n        while (methods.length > 0) {\n            const method = methods.shift();\n            result = [method.apply(_this, result)];\n        }\n        return result[0];\n    };\n}\n","import { sequence } from \"./functions.js\";\nconst HOT_PATCHER_TYPE = \"@@HOTPATCHER\";\nconst NOOP = () => { };\nfunction createNewItem(method) {\n    return {\n        original: method,\n        methods: [method],\n        final: false\n    };\n}\n/**\n * Hot patching manager class\n */\nexport class HotPatcher {\n    constructor() {\n        this._configuration = {\n            registry: {},\n            getEmptyAction: \"null\"\n        };\n        this.__type__ = HOT_PATCHER_TYPE;\n    }\n    /**\n     * Configuration object reference\n     * @readonly\n     */\n    get configuration() {\n        return this._configuration;\n    }\n    /**\n     * The action to take when a non-set method is requested\n     * Possible values: null/throw\n     */\n    get getEmptyAction() {\n        return this.configuration.getEmptyAction;\n    }\n    set getEmptyAction(newAction) {\n        this.configuration.getEmptyAction = newAction;\n    }\n    /**\n     * Control another hot-patcher instance\n     * Force the remote instance to use patched methods from calling instance\n     * @param target The target instance to control\n     * @param allowTargetOverrides Allow the target to override patched methods on\n     * the controller (default is false)\n     * @returns Returns self\n     * @throws {Error} Throws if the target is invalid\n     */\n    control(target, allowTargetOverrides = false) {\n        if (!target || target.__type__ !== HOT_PATCHER_TYPE) {\n            throw new Error(\"Failed taking control of target HotPatcher instance: Invalid type or object\");\n        }\n        Object.keys(target.configuration.registry).forEach(foreignKey => {\n            if (this.configuration.registry.hasOwnProperty(foreignKey)) {\n                if (allowTargetOverrides) {\n                    this.configuration.registry[foreignKey] = Object.assign({}, target.configuration.registry[foreignKey]);\n                }\n            }\n            else {\n                this.configuration.registry[foreignKey] = Object.assign({}, target.configuration.registry[foreignKey]);\n            }\n        });\n        target._configuration = this.configuration;\n        return this;\n    }\n    /**\n     * Execute a patched method\n     * @param key The method key\n     * @param args Arguments to pass to the method (optional)\n     * @see HotPatcher#get\n     * @returns The output of the called method\n     */\n    execute(key, ...args) {\n        const method = this.get(key) || NOOP;\n        return method(...args);\n    }\n    /**\n     * Get a method for a key\n     * @param key The method key\n     * @returns Returns the requested function or null if the function\n     * does not exist and the host is configured to return null (and not throw)\n     * @throws {Error} Throws if the configuration specifies to throw and the method\n     * does not exist\n     * @throws {Error} Throws if the `getEmptyAction` value is invalid\n     */\n    get(key) {\n        const item = this.configuration.registry[key];\n        if (!item) {\n            switch (this.getEmptyAction) {\n                case \"null\":\n                    return null;\n                case \"throw\":\n                    throw new Error(`Failed handling method request: No method provided for override: ${key}`);\n                default:\n                    throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`);\n            }\n        }\n        return sequence(...item.methods);\n    }\n    /**\n     * Check if a method has been patched\n     * @param key The function key\n     * @returns True if already patched\n     */\n    isPatched(key) {\n        return !!this.configuration.registry[key];\n    }\n    /**\n     * Patch a method name\n     * @param key The method key to patch\n     * @param method The function to set\n     * @param opts Patch options\n     * @returns Returns self\n     */\n    patch(key, method, opts = {}) {\n        const { chain = false } = opts;\n        if (this.configuration.registry[key] && this.configuration.registry[key].final) {\n            throw new Error(`Failed patching '${key}': Method marked as being final`);\n        }\n        if (typeof method !== \"function\") {\n            throw new Error(`Failed patching '${key}': Provided method is not a function`);\n        }\n        if (chain) {\n            // Add new method to the chain\n            if (!this.configuration.registry[key]) {\n                // New key, create item\n                this.configuration.registry[key] = createNewItem(method);\n            }\n            else {\n                // Existing, push the method\n                this.configuration.registry[key].methods.push(method);\n            }\n        }\n        else {\n            // Replace the original\n            if (this.isPatched(key)) {\n                const { original } = this.configuration.registry[key];\n                this.configuration.registry[key] = Object.assign(createNewItem(method), {\n                    original\n                });\n            }\n            else {\n                this.configuration.registry[key] = createNewItem(method);\n            }\n        }\n        return this;\n    }\n    /**\n     * Patch a method inline, execute it and return the value\n     * Used for patching contents of functions. This method will not apply a patched\n     * function if it has already been patched, allowing for external overrides to\n     * function. It also means that the function is cached so that it is not\n     * instantiated every time the outer function is invoked.\n     * @param key The function key to use\n     * @param method The function to patch (once, only if not patched)\n     * @param args Arguments to pass to the function\n     * @returns The output of the patched function\n     * @example\n     *  function mySpecialFunction(a, b) {\n     *      return hotPatcher.patchInline(\"func\", (a, b) => {\n     *          return a + b;\n     *      }, a, b);\n     *  }\n     */\n    patchInline(key, method, ...args) {\n        if (!this.isPatched(key)) {\n            this.patch(key, method);\n        }\n        return this.execute(key, ...args);\n    }\n    /**\n     * Patch a method (or methods) in sequential-mode\n     * See `patch()` with the option `chain: true`\n     * @see patch\n     * @param key The key to patch\n     * @param methods The methods to patch\n     * @returns Returns self\n     */\n    plugin(key, ...methods) {\n        methods.forEach(method => {\n            this.patch(key, method, { chain: true });\n        });\n        return this;\n    }\n    /**\n     * Restore a patched method if it has been overridden\n     * @param key The method key\n     * @returns Returns self\n     */\n    restore(key) {\n        if (!this.isPatched(key)) {\n            throw new Error(`Failed restoring method: No method present for key: ${key}`);\n        }\n        else if (typeof this.configuration.registry[key].original !== \"function\") {\n            throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${key}`);\n        }\n        this.configuration.registry[key].methods = [this.configuration.registry[key].original];\n        return this;\n    }\n    /**\n     * Set a method as being final\n     * This sets a method as having been finally overridden. Attempts at overriding\n     * again will fail with an error.\n     * @param key The key to make final\n     * @returns Returns self\n     */\n    setFinal(key) {\n        if (!this.configuration.registry.hasOwnProperty(key)) {\n            throw new Error(`Failed marking '${key}' as final: No method found for key`);\n        }\n        this.configuration.registry[key].final = true;\n        return this;\n    }\n}\n","import { HotPatcher } from \"hot-patcher\";\nlet __patcher = null;\nexport function getPatcher() {\n    if (!__patcher) {\n        __patcher = new HotPatcher();\n    }\n    return __patcher;\n}\n","export function isWeb() {\n    if (typeof WEB === \"boolean\" && WEB === true) {\n        return true;\n    }\n    return false;\n}\n","import md5 from \"md5\";\nexport function ha1Compute(algorithm, user, realm, pass, nonce, cnonce, ha1) {\n    const ha1Hash = ha1 || md5(`${user}:${realm}:${pass}`);\n    if (algorithm && algorithm.toLowerCase() === \"md5-sess\") {\n        return md5(`${ha1Hash}:${nonce}:${cnonce}`);\n    }\n    return ha1Hash;\n}\n","import md5 from \"md5\";\nimport { ha1Compute } from \"../tools/crypto.js\";\nconst NONCE_CHARS = \"abcdef0123456789\";\nconst NONCE_SIZE = 32;\nexport function createDigestContext(username, password, ha1) {\n    return { username, password, ha1, nc: 0, algorithm: \"md5\", hasDigestAuth: false };\n}\nexport function generateDigestAuthHeader(options, digest) {\n    const url = options.url.replace(\"//\", \"\");\n    const uri = url.indexOf(\"/\") == -1 ? \"/\" : url.slice(url.indexOf(\"/\"));\n    const method = options.method ? options.method.toUpperCase() : \"GET\";\n    const qop = /(^|,)\\s*auth\\s*($|,)/.test(digest.qop) ? \"auth\" : false;\n    const ncString = `00000000${digest.nc}`.slice(-8);\n    const ha1 = ha1Compute(digest.algorithm, digest.username, digest.realm, digest.password, digest.nonce, digest.cnonce, digest.ha1);\n    const ha2 = md5(`${method}:${uri}`);\n    const digestResponse = qop\n        ? md5(`${ha1}:${digest.nonce}:${ncString}:${digest.cnonce}:${qop}:${ha2}`)\n        : md5(`${ha1}:${digest.nonce}:${ha2}`);\n    const authValues = {\n        username: digest.username,\n        realm: digest.realm,\n        nonce: digest.nonce,\n        uri,\n        qop,\n        response: digestResponse,\n        nc: ncString,\n        cnonce: digest.cnonce,\n        algorithm: digest.algorithm,\n        opaque: digest.opaque\n    };\n    const authHeader = [];\n    for (const k in authValues) {\n        if (authValues[k]) {\n            if (k === \"qop\" || k === \"nc\" || k === \"algorithm\") {\n                authHeader.push(`${k}=${authValues[k]}`);\n            }\n            else {\n                authHeader.push(`${k}=\"${authValues[k]}\"`);\n            }\n        }\n    }\n    return `Digest ${authHeader.join(\", \")}`;\n}\nfunction makeNonce() {\n    let uid = \"\";\n    for (let i = 0; i < NONCE_SIZE; ++i) {\n        uid = `${uid}${NONCE_CHARS[Math.floor(Math.random() * NONCE_CHARS.length)]}`;\n    }\n    return uid;\n}\nexport function parseDigestAuth(response, _digest) {\n    const authHeader = (response.headers && response.headers.get(\"www-authenticate\")) || \"\";\n    if (authHeader.split(/\\s/)[0].toLowerCase() !== \"digest\") {\n        return false;\n    }\n    const re = /([a-z0-9_-]+)=(?:\"([^\"]+)\"|([a-z0-9_-]+))/gi;\n    for (;;) {\n        const match = re.exec(authHeader);\n        if (!match) {\n            break;\n        }\n        _digest[match[1]] = match[2] || match[3];\n    }\n    _digest.nc += 1;\n    _digest.cnonce = makeNonce();\n    return true;\n}\n","export function cloneShallow(obj) {\n    return isPlainObject(obj)\n        ? Object.assign({}, obj)\n        : Object.setPrototypeOf(Object.assign({}, obj), Object.getPrototypeOf(obj));\n}\nfunction isPlainObject(obj) {\n    if (typeof obj !== \"object\" ||\n        obj === null ||\n        Object.prototype.toString.call(obj) != \"[object Object]\") {\n        // Not an object\n        return false;\n    }\n    if (Object.getPrototypeOf(obj) === null) {\n        return true;\n    }\n    let proto = obj;\n    // Find the prototype\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(obj) === proto;\n}\nexport function merge(...args) {\n    let output = null, items = [...args];\n    while (items.length > 0) {\n        const nextItem = items.shift();\n        if (!output) {\n            output = cloneShallow(nextItem);\n        }\n        else {\n            output = mergeObjects(output, nextItem);\n        }\n    }\n    return output;\n}\nfunction mergeObjects(obj1, obj2) {\n    const output = cloneShallow(obj1);\n    Object.keys(obj2).forEach(key => {\n        if (!output.hasOwnProperty(key)) {\n            output[key] = obj2[key];\n            return;\n        }\n        if (Array.isArray(obj2[key])) {\n            output[key] = Array.isArray(output[key])\n                ? [...output[key], ...obj2[key]]\n                : [...obj2[key]];\n        }\n        else if (typeof obj2[key] === \"object\" && !!obj2[key]) {\n            output[key] =\n                typeof output[key] === \"object\" && !!output[key]\n                    ? mergeObjects(output[key], obj2[key])\n                    : cloneShallow(obj2[key]);\n        }\n        else {\n            output[key] = obj2[key];\n        }\n    });\n    return output;\n}\n","const hasArrayBuffer = typeof ArrayBuffer === \"function\";\nconst { toString: objToString } = Object.prototype;\n// Taken from: https://github.com/fengyuanchen/is-array-buffer/blob/master/src/index.js\nexport function isArrayBuffer(value) {\n    return (hasArrayBuffer &&\n        (value instanceof ArrayBuffer || objToString.call(value) === \"[object ArrayBuffer]\"));\n}\n","export function isBuffer(value) {\n    return (value != null &&\n        value.constructor != null &&\n        typeof value.constructor.isBuffer === \"function\" &&\n        value.constructor.isBuffer(value));\n}\n","import Stream from \"stream\";\nimport { isArrayBuffer } from \"../compat/arrayBuffer.js\";\nimport { isBuffer } from \"../compat/buffer.js\";\nimport { isWeb } from \"../compat/env.js\";\nexport function requestDataToFetchBody(data) {\n    if (!isWeb() && data instanceof Stream.Readable) {\n        // @ts-ignore\n        return [data, {}];\n    }\n    if (typeof data === \"string\") {\n        return [data, {}];\n    }\n    else if (isBuffer(data)) {\n        return [data, {}];\n    }\n    else if (isArrayBuffer(data)) {\n        return [data, {}];\n    }\n    else if (data && typeof data === \"object\") {\n        return [\n            JSON.stringify(data),\n            {\n                \"content-type\": \"application/json\"\n            }\n        ];\n    }\n    throw new Error(`Unable to convert request body: Unexpected body type: ${typeof data}`);\n}\n","import { Agent as HTTPAgent } from \"http\";\nimport { Agent as HTTPSAgent } from \"https\";\nimport { fetch } from \"@buttercup/fetch\";\nimport { getPatcher } from \"./compat/patcher.js\";\nimport { isWeb } from \"./compat/env.js\";\nimport { generateDigestAuthHeader, parseDigestAuth } from \"./auth/digest.js\";\nimport { cloneShallow, merge } from \"./tools/merge.js\";\nimport { mergeHeaders } from \"./tools/headers.js\";\nimport { requestDataToFetchBody } from \"./tools/body.js\";\nfunction _request(requestOptions) {\n    const patcher = getPatcher();\n    return patcher.patchInline(\"request\", (options) => patcher.patchInline(\"fetch\", fetch, options.url, getFetchOptions(options)), requestOptions);\n}\nfunction getFetchOptions(requestOptions) {\n    let headers = {};\n    // Handle standard options\n    const opts = {\n        method: requestOptions.method\n    };\n    if (requestOptions.headers) {\n        headers = mergeHeaders(headers, requestOptions.headers);\n    }\n    if (typeof requestOptions.data !== \"undefined\") {\n        const [body, newHeaders] = requestDataToFetchBody(requestOptions.data);\n        opts.body = body;\n        headers = mergeHeaders(headers, newHeaders);\n    }\n    if (requestOptions.signal) {\n        opts.signal = requestOptions.signal;\n    }\n    if (requestOptions.withCredentials) {\n        opts.credentials = \"include\";\n    }\n    // Check for node-specific options\n    if (!isWeb()) {\n        if (requestOptions.httpAgent || requestOptions.httpsAgent) {\n            opts.agent = (parsedURL) => {\n                if (parsedURL.protocol === \"http:\") {\n                    return requestOptions.httpAgent || new HTTPAgent();\n                }\n                return requestOptions.httpsAgent || new HTTPSAgent();\n            };\n        }\n    }\n    // Attach headers\n    opts.headers = headers;\n    return opts;\n}\nexport function prepareRequestOptions(requestOptions, context, userOptions) {\n    const finalOptions = cloneShallow(requestOptions);\n    finalOptions.headers = mergeHeaders(context.headers, finalOptions.headers || {}, userOptions.headers || {});\n    if (typeof userOptions.data !== \"undefined\") {\n        finalOptions.data = userOptions.data;\n    }\n    if (userOptions.signal) {\n        finalOptions.signal = userOptions.signal;\n    }\n    if (context.httpAgent) {\n        finalOptions.httpAgent = context.httpAgent;\n    }\n    if (context.httpsAgent) {\n        finalOptions.httpsAgent = context.httpsAgent;\n    }\n    if (context.digest) {\n        finalOptions._digest = context.digest;\n    }\n    if (typeof context.withCredentials === \"boolean\") {\n        finalOptions.withCredentials = context.withCredentials;\n    }\n    return finalOptions;\n}\nexport async function request(requestOptions) {\n    // Client not configured for digest authentication\n    if (!requestOptions._digest) {\n        return _request(requestOptions);\n    }\n    // Remove client's digest authentication object from request options\n    const _digest = requestOptions._digest;\n    delete requestOptions._digest;\n    // If client is already using digest authentication, include the digest authorization header\n    if (_digest.hasDigestAuth) {\n        requestOptions = merge(requestOptions, {\n            headers: {\n                Authorization: generateDigestAuthHeader(requestOptions, _digest)\n            }\n        });\n    }\n    // Perform digest request + check\n    const response = await _request(requestOptions);\n    if (response.status == 401) {\n        _digest.hasDigestAuth = parseDigestAuth(response, _digest);\n        if (_digest.hasDigestAuth) {\n            requestOptions = merge(requestOptions, {\n                headers: {\n                    Authorization: generateDigestAuthHeader(requestOptions, _digest)\n                }\n            });\n            const response2 = await _request(requestOptions);\n            if (response2.status == 401) {\n                _digest.hasDigestAuth = false;\n            }\n            else {\n                _digest.nc++;\n            }\n            return response2;\n        }\n    }\n    else {\n        _digest.nc++;\n    }\n    return response;\n}\n","/**\n * @copyright Copyright (c) 2023 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport type { RequestOptions, Response } from 'webdav'\n\nimport { createClient, getPatcher } from 'webdav'\nimport { generateRemoteUrl } from '@nextcloud/router'\nimport { getCurrentUser, getRequestToken } from '@nextcloud/auth'\nimport { request } from 'webdav/dist/node/request.js'\n\nexport const rootPath = `/files/${getCurrentUser()?.uid}`\nexport const defaultRootUrl = generateRemoteUrl('dav' + rootPath)\n\nexport const getClient = (rootUrl = defaultRootUrl) => {\n\tconst client = createClient(rootUrl, {\n\t\theaders: {\n\t\t\trequesttoken: getRequestToken() || '',\n\t\t},\n\t})\n\n\t/**\n\t * Allow to override the METHOD to support dav REPORT\n\t *\n\t * @see https://github.com/perry-mitchell/webdav-client/blob/8d9694613c978ce7404e26a401c39a41f125f87f/source/request.ts\n\t */\n\tconst patcher = getPatcher()\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\t// https://github.com/perry-mitchell/hot-patcher/issues/6\n\tpatcher.patch('request', (options: RequestOptions): Promise<Response> => {\n\t\tif (options.headers?.method) {\n\t\t\toptions.method = options.headers.method\n\t\t\tdelete options.headers.method\n\t\t}\n\t\treturn request(options)\n\t})\n\treturn client\n}\n","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar toStringTag = typeof Symbol !== 'undefined' ? Symbol.toStringTag : '@@toStringTag';\n\nvar _internals = /*#__PURE__*/new WeakMap();\n\nvar _promise = /*#__PURE__*/new WeakMap();\n\nclass CancelablePromiseInternal {\n  constructor(_ref) {\n    var {\n      executor = () => {},\n      internals = defaultInternals(),\n      promise = new Promise((resolve, reject) => executor(resolve, reject, onCancel => {\n        internals.onCancelList.push(onCancel);\n      }))\n    } = _ref;\n\n    _classPrivateFieldInitSpec(this, _internals, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldInitSpec(this, _promise, {\n      writable: true,\n      value: void 0\n    });\n\n    _defineProperty(this, toStringTag, 'CancelablePromise');\n\n    this.cancel = this.cancel.bind(this);\n\n    _classPrivateFieldSet(this, _internals, internals);\n\n    _classPrivateFieldSet(this, _promise, promise || new Promise((resolve, reject) => executor(resolve, reject, onCancel => {\n      internals.onCancelList.push(onCancel);\n    })));\n  }\n\n  then(onfulfilled, onrejected) {\n    return makeCancelable(_classPrivateFieldGet(this, _promise).then(createCallback(onfulfilled, _classPrivateFieldGet(this, _internals)), createCallback(onrejected, _classPrivateFieldGet(this, _internals))), _classPrivateFieldGet(this, _internals));\n  }\n\n  catch(onrejected) {\n    return makeCancelable(_classPrivateFieldGet(this, _promise).catch(createCallback(onrejected, _classPrivateFieldGet(this, _internals))), _classPrivateFieldGet(this, _internals));\n  }\n\n  finally(onfinally, runWhenCanceled) {\n    if (runWhenCanceled) {\n      _classPrivateFieldGet(this, _internals).onCancelList.push(onfinally);\n    }\n\n    return makeCancelable(_classPrivateFieldGet(this, _promise).finally(createCallback(() => {\n      if (onfinally) {\n        if (runWhenCanceled) {\n          _classPrivateFieldGet(this, _internals).onCancelList = _classPrivateFieldGet(this, _internals).onCancelList.filter(callback => callback !== onfinally);\n        }\n\n        return onfinally();\n      }\n    }, _classPrivateFieldGet(this, _internals))), _classPrivateFieldGet(this, _internals));\n  }\n\n  cancel() {\n    _classPrivateFieldGet(this, _internals).isCanceled = true;\n\n    var callbacks = _classPrivateFieldGet(this, _internals).onCancelList;\n\n    _classPrivateFieldGet(this, _internals).onCancelList = [];\n\n    for (var callback of callbacks) {\n      if (typeof callback === 'function') {\n        try {\n          callback();\n        } catch (err) {\n          console.error(err);\n        }\n      }\n    }\n  }\n\n  isCanceled() {\n    return _classPrivateFieldGet(this, _internals).isCanceled === true;\n  }\n\n}\n\nexport class CancelablePromise extends CancelablePromiseInternal {\n  constructor(executor) {\n    super({\n      executor\n    });\n  }\n\n}\n\n_defineProperty(CancelablePromise, \"all\", function all(iterable) {\n  return makeAllCancelable(iterable, Promise.all(iterable));\n});\n\n_defineProperty(CancelablePromise, \"allSettled\", function allSettled(iterable) {\n  return makeAllCancelable(iterable, Promise.allSettled(iterable));\n});\n\n_defineProperty(CancelablePromise, \"any\", function any(iterable) {\n  return makeAllCancelable(iterable, Promise.any(iterable));\n});\n\n_defineProperty(CancelablePromise, \"race\", function race(iterable) {\n  return makeAllCancelable(iterable, Promise.race(iterable));\n});\n\n_defineProperty(CancelablePromise, \"resolve\", function resolve(value) {\n  return cancelable(Promise.resolve(value));\n});\n\n_defineProperty(CancelablePromise, \"reject\", function reject(reason) {\n  return cancelable(Promise.reject(reason));\n});\n\n_defineProperty(CancelablePromise, \"isCancelable\", isCancelablePromise);\n\nexport default CancelablePromise;\nexport function cancelable(promise) {\n  return makeCancelable(promise, defaultInternals());\n}\nexport function isCancelablePromise(promise) {\n  return promise instanceof CancelablePromise || promise instanceof CancelablePromiseInternal;\n}\n\nfunction createCallback(onResult, internals) {\n  if (onResult) {\n    return arg => {\n      if (!internals.isCanceled) {\n        var result = onResult(arg);\n\n        if (isCancelablePromise(result)) {\n          internals.onCancelList.push(result.cancel);\n        }\n\n        return result;\n      }\n\n      return arg;\n    };\n  }\n}\n\nfunction makeCancelable(promise, internals) {\n  return new CancelablePromiseInternal({\n    internals,\n    promise\n  });\n}\n\nfunction makeAllCancelable(iterable, promise) {\n  var internals = defaultInternals();\n  internals.onCancelList.push(() => {\n    for (var resolvable of iterable) {\n      if (isCancelablePromise(resolvable)) {\n        resolvable.cancel();\n      }\n    }\n  });\n  return new CancelablePromiseInternal({\n    internals,\n    promise\n  });\n}\n\nfunction defaultInternals() {\n  return {\n    isCanceled: false,\n    onCancelList: []\n  };\n}\n//# sourceMappingURL=CancelablePromise.mjs.map","/**\n * @copyright Copyright (c) 2023 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport type { ContentsWithRoot } from '@nextcloud/files'\nimport type { FileStat, ResponseDataDetailed, DAVResultResponseProps } from 'webdav'\n\nimport { CancelablePromise } from 'cancelable-promise'\nimport { File, Folder, davParsePermissions, davGetDefaultPropfind } from '@nextcloud/files'\nimport { generateRemoteUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nimport { getClient, rootPath } from './WebdavClient'\nimport { hashCode } from '../utils/hashUtils'\nimport logger from '../logger'\n\nconst client = getClient()\n\ninterface ResponseProps extends DAVResultResponseProps {\n\tpermissions: string,\n\tfileid: number,\n\tsize: number,\n}\n\nexport const resultToNode = function(node: FileStat): File | Folder {\n\tconst userId = getCurrentUser()?.uid\n\tif (!userId) {\n\t\tthrow new Error('No user id found')\n\t}\n\n\tconst props = node.props as ResponseProps\n\tconst permissions = davParsePermissions(props?.permissions)\n\tconst owner = (props['owner-id'] || userId).toString()\n\n\tconst source = generateRemoteUrl('dav' + rootPath + node.filename)\n\tconst id = props?.fileid < 0\n\t\t? hashCode(source)\n\t\t: props?.fileid as number || 0\n\n\tconst nodeData = {\n\t\tid,\n\t\tsource,\n\t\tmtime: new Date(node.lastmod),\n\t\tmime: node.mime || 'application/octet-stream',\n\t\tsize: props?.size as number || 0,\n\t\tpermissions,\n\t\towner,\n\t\troot: rootPath,\n\t\tattributes: {\n\t\t\t...node,\n\t\t\t...props,\n\t\t\thasPreview: props?.['has-preview'],\n\t\t\tfailed: props?.fileid < 0,\n\t\t},\n\t}\n\n\tdelete nodeData.attributes.props\n\n\treturn node.type === 'file'\n\t\t? new File(nodeData)\n\t\t: new Folder(nodeData)\n}\n\nexport const getContents = (path = '/'): Promise<ContentsWithRoot> => {\n\tconst controller = new AbortController()\n\tconst propfindPayload = davGetDefaultPropfind()\n\n\treturn new CancelablePromise(async (resolve, reject, onCancel) => {\n\t\tonCancel(() => controller.abort())\n\t\ttry {\n\t\t\tconst contentsResponse = await client.getDirectoryContents(path, {\n\t\t\t\tdetails: true,\n\t\t\t\tdata: propfindPayload,\n\t\t\t\tincludeSelf: true,\n\t\t\t\tsignal: controller.signal,\n\t\t\t}) as ResponseDataDetailed<FileStat[]>\n\n\t\t\tconst root = contentsResponse.data[0]\n\t\t\tconst contents = contentsResponse.data.slice(1)\n\t\t\tif (root.filename !== path) {\n\t\t\t\tthrow new Error('Root node does not match requested path')\n\t\t\t}\n\n\t\t\tresolve({\n\t\t\t\tfolder: resultToNode(root) as Folder,\n\t\t\t\tcontents: contents.map(result => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn resultToNode(result)\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tlogger.error(`Invalid node detected '${result.basename}'`, { error })\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t}).filter(Boolean) as File[],\n\t\t\t})\n\t\t} catch (error) {\n\t\t\treject(error)\n\t\t}\n\t})\n}\n"],"names":["exports","isFunction","global","xhr","getXHR","checkTypeSupport","type","value","module","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","capability","inherits","stream","rStates","response","IncomingMessage","mode","resetTimers","self","process","read","reader","result","Buffer","err","header","key","writable","chunk","resolve","reject","headers","matches","mimeType","charsetMatch","newData","buffer","i","decideMode","preferBinary","useFetch","ClientRequest","requestModule","opts","name","lowerName","unsafeHeaders","headersObj","body","headersList","keyName","v","signal","controller","reason","statusValid","status","encoding","cb","done","data","timeout","immutable","extend","hasOwnProperty","target","source","browser","statusCodes","url","http","defaultProtocol","protocol","host","port","path","req","https","params","validateParams","inWebWorker","root","fetch","sequence","methods","args","_this","HOT_PATCHER_TYPE","NOOP","createNewItem","method","HotPatcher","newAction","allowTargetOverrides","foreignKey","item","chain","original","__patcher","getPatcher","isWeb","ha1Compute","algorithm","user","realm","pass","nonce","cnonce","ha1","ha1Hash","md5","NONCE_CHARS","NONCE_SIZE","generateDigestAuthHeader","options","digest","uri","qop","ncString","ha2","digestResponse","authValues","authHeader","k","makeNonce","uid","parseDigestAuth","_digest","re","match","cloneShallow","obj","isPlainObject","proto","merge","output","items","nextItem","mergeObjects","obj1","obj2","hasArrayBuffer","objToString","isArrayBuffer","isBuffer","requestDataToFetchBody","Stream","_request","requestOptions","patcher","getFetchOptions","mergeHeaders","newHeaders","parsedURL","HTTPAgent","HTTPSAgent","request","response2","_a","rootPath","getCurrentUser","defaultRootUrl","generateRemoteUrl","getClient","rootUrl","client","createClient","getRequestToken","_defineProperty","_classPrivateFieldInitSpec","privateMap","_checkPrivateRedeclaration","privateCollection","_classPrivateFieldGet","receiver","descriptor","_classExtractFieldDescriptor","_classApplyDescriptorGet","_classPrivateFieldSet","_classApplyDescriptorSet","action","toStringTag","_internals","_promise","CancelablePromiseInternal","_ref","executor","internals","defaultInternals","promise","onCancel","onfulfilled","onrejected","makeCancelable","createCallback","onfinally","runWhenCanceled","callback","callbacks","CancelablePromise","iterable","makeAllCancelable","cancelable","isCancelablePromise","onResult","arg","resolvable","resultToNode","node","userId","props","permissions","davParsePermissions","owner","nodeData","hashCode","File","Folder","getContents","propfindPayload","davGetDefaultPropfind","contentsResponse","contents","error","logger"],"mappings":";+gBAAAA,EAAA,MAAgBC,EAAWC,EAAO,KAAK,GAAKD,EAAWC,EAAO,cAAc,EAE5EF,EAAA,eAAyBC,EAAWC,EAAO,cAAc,EAEzDF,EAAA,gBAA0BC,EAAWC,EAAO,eAAe,EAK3D,IAAIC,EACJ,SAASC,GAAU,CAElB,GAAID,IAAQ,OAAW,OAAOA,EAE9B,GAAID,EAAO,eAAgB,CAC1BC,EAAM,IAAID,EAAO,eAIjB,GAAI,CACHC,EAAI,KAAK,MAAOD,EAAO,eAAiB,IAAM,qBAAqB,CACnE,MAAU,CACVC,EAAM,IACN,CACH,MAEEA,EAAM,KAEP,OAAOA,CACP,CAED,SAASE,EAAkBC,EAAM,CAChC,IAAIH,EAAMC,EAAQ,EAClB,GAAI,CAACD,EAAK,MAAO,GACjB,GAAI,CACH,OAAAA,EAAI,aAAeG,EACZH,EAAI,eAAiBG,CAC9B,MAAa,CAAE,CACd,MAAO,EACP,CAIDN,EAAA,YAAsBA,EAAQ,OAASK,EAAiB,aAAa,EAIrEL,EAAmB,SAAA,CAACA,EAAQ,OAASK,EAAiB,WAAW,EACjEL,EAAgC,sBAAA,CAACA,EAAQ,OAASK,EAAiB,yBAAyB,EAI5FL,EAAA,iBAA2BA,EAAQ,QAAUI,EAAM,EAAKH,EAAWG,EAAQ,EAAC,gBAAgB,EAAI,IAEhG,SAASH,EAAYM,EAAO,CAC3B,OAAO,OAAOA,GAAU,UACxB,CAEDJ,EAAM,iDC1DNH,EAAUQ,EAAiB,QAAAC,KAC3BT,EAAA,OAAiBA,EACjBA,EAAA,SAAmBA,EACnBA,EAAA,SAAmBU,KACnBV,EAAA,OAAiBW,KACjBX,EAAA,UAAoBY,KACpBZ,EAAA,YAAsBa,KACtBb,EAAA,SAAmBc,KACnBd,EAAA,SAAmBe,qCCRfC,EAAaP,EACbQ,GAAWP,GACXQ,GAASP,GAETQ,EAAUC,EAAA,YAAsB,CACnC,OAAQ,EACR,OAAQ,EACR,iBAAkB,EAClB,QAAS,EACT,KAAM,CACP,EAEIC,EAAyCD,EAAA,gBAAG,SAAUjB,EAAKiB,EAAUE,EAAMC,EAAa,CAC3F,IAAIC,EAAO,KAiBX,GAhBAN,GAAO,SAAS,KAAKM,CAAI,EAEzBA,EAAK,MAAQF,EACbE,EAAK,QAAU,CAAE,EACjBA,EAAK,WAAa,CAAE,EACpBA,EAAK,SAAW,CAAE,EAClBA,EAAK,YAAc,CAAE,EAGrBA,EAAK,GAAG,MAAO,UAAY,CAE1BC,EAAQ,SAAS,UAAY,CAC5BD,EAAK,KAAK,OAAO,CACpB,CAAG,CACH,CAAE,EAEGF,IAAS,QAAS,CAiDrB,IAASI,EAAT,UAAiB,CAChBC,EAAO,KAAI,EAAG,KAAK,SAAUC,EAAQ,CACpC,GAAI,CAAAJ,EAAK,WAGT,CAAA,GADAD,EAAYK,EAAO,IAAI,EACnBA,EAAO,KAAM,CAChBJ,EAAK,KAAK,IAAI,EACd,MACA,CACDA,EAAK,KAAKK,EAAO,KAAKD,EAAO,KAAK,CAAC,EACnCF,EAAM,CACV,CAAA,CAAI,EAAE,MAAM,SAAUI,EAAK,CACvBP,EAAY,EAAI,EACXC,EAAK,YACTA,EAAK,KAAK,QAASM,CAAG,CAC3B,CAAI,CACD,EArDD,GAXAN,EAAK,eAAiBJ,EAEtBI,EAAK,IAAMJ,EAAS,IACpBI,EAAK,WAAaJ,EAAS,OAC3BI,EAAK,cAAgBJ,EAAS,WAE9BA,EAAS,QAAQ,QAAQ,SAAUW,EAAQC,EAAI,CAC9CR,EAAK,QAAQQ,EAAI,YAAW,CAAE,EAAID,EAClCP,EAAK,WAAW,KAAKQ,EAAKD,CAAM,CACnC,CAAG,EAEGf,EAAW,eAAgB,CAC9B,IAAIiB,EAAW,IAAI,eAAe,CACjC,MAAO,SAAUC,EAAO,CACvB,OAAAX,EAAY,EAAK,EACV,IAAI,QAAQ,SAAUY,EAASC,EAAQ,CACzCZ,EAAK,WACRY,EAAQ,EACCZ,EAAK,KAAKK,EAAO,KAAKK,CAAK,CAAC,EACrCC,EAAS,EAETX,EAAK,aAAeW,CAE3B,CAAM,CACD,EACD,MAAO,UAAY,CAClBZ,EAAY,EAAI,EACXC,EAAK,YACTA,EAAK,KAAK,IAAI,CACf,EACD,MAAO,SAAUM,EAAK,CACrBP,EAAY,EAAI,EACXC,EAAK,YACTA,EAAK,KAAK,QAASM,CAAG,CACvB,CACL,CAAI,EAED,GAAI,CACHV,EAAS,KAAK,OAAOa,CAAQ,EAAE,MAAM,SAAUH,EAAK,CACnDP,EAAY,EAAI,EACXC,EAAK,YACTA,EAAK,KAAK,QAASM,CAAG,CAC5B,CAAK,EACD,MACJ,MAAe,CAAE,CACd,CAED,IAAIH,EAASP,EAAS,KAAK,UAAW,EAkBtCM,EAAM,CACR,KAAQ,CACNF,EAAK,KAAOrB,EACZqB,EAAK,KAAO,EAEZA,EAAK,IAAMrB,EAAI,YACfqB,EAAK,WAAarB,EAAI,OACtBqB,EAAK,cAAgBrB,EAAI,WACzB,IAAIkC,EAAUlC,EAAI,sBAAqB,EAAG,MAAM,OAAO,EAoBvD,GAnBAkC,EAAQ,QAAQ,SAAUN,EAAQ,CACjC,IAAIO,EAAUP,EAAO,MAAM,kBAAkB,EAC7C,GAAIO,EAAS,CACZ,IAAIN,EAAMM,EAAQ,CAAC,EAAE,YAAa,EAC9BN,IAAQ,cACPR,EAAK,QAAQQ,CAAG,IAAM,SACzBR,EAAK,QAAQQ,CAAG,EAAI,CAAE,GAEvBR,EAAK,QAAQQ,CAAG,EAAE,KAAKM,EAAQ,CAAC,CAAC,GACvBd,EAAK,QAAQQ,CAAG,IAAM,OAChCR,EAAK,QAAQQ,CAAG,GAAK,KAAOM,EAAQ,CAAC,EAErCd,EAAK,QAAQQ,CAAG,EAAIM,EAAQ,CAAC,EAE9Bd,EAAK,WAAW,KAAKc,EAAQ,CAAC,EAAGA,EAAQ,CAAC,CAAC,CAC3C,CACJ,CAAG,EAEDd,EAAK,SAAW,iBACZ,CAACR,EAAW,iBAAkB,CACjC,IAAIuB,EAAWf,EAAK,WAAW,WAAW,EAC1C,GAAIe,EAAU,CACb,IAAIC,EAAeD,EAAS,MAAM,yBAAyB,EACvDC,IACHhB,EAAK,SAAWgB,EAAa,CAAC,EAAE,YAAa,EAE9C,CACIhB,EAAK,WACTA,EAAK,SAAW,QACjB,CACD,CACF,EAEAP,GAASI,EAAiBH,GAAO,QAAQ,EAEzCG,EAAgB,UAAU,MAAQ,UAAY,CAC7C,IAAIG,EAAO,KAEPW,EAAUX,EAAK,aACfW,IACHX,EAAK,aAAe,KACpBW,EAAS,EAEX,EAEAd,EAAgB,UAAU,eAAiB,SAAUE,EAAa,CACjE,IAAIC,EAAO,KAEPrB,EAAMqB,EAAK,KAEXJ,EAAW,KACf,OAAQI,EAAK,MAAK,CACjB,IAAK,OAEJ,GADAJ,EAAWjB,EAAI,aACXiB,EAAS,OAASI,EAAK,KAAM,CAChC,IAAIiB,EAAUrB,EAAS,OAAOI,EAAK,IAAI,EACvC,GAAIA,EAAK,WAAa,iBAAkB,CAEvC,QADIkB,EAASb,EAAO,MAAMY,EAAQ,MAAM,EAC/BE,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IACnCD,EAAOC,CAAC,EAAIF,EAAQ,WAAWE,CAAC,EAAI,IAErCnB,EAAK,KAAKkB,CAAM,CACrB,MACKlB,EAAK,KAAKiB,EAASjB,EAAK,QAAQ,EAEjCA,EAAK,KAAOJ,EAAS,MACrB,CACD,MACD,IAAK,cACJ,GAAIjB,EAAI,aAAegB,EAAQ,MAAQ,CAAChB,EAAI,SAC3C,MACDiB,EAAWjB,EAAI,SACfqB,EAAK,KAAKK,EAAO,KAAK,IAAI,WAAWT,CAAQ,CAAC,CAAC,EAC/C,MACD,IAAK,0BAEJ,GADAA,EAAWjB,EAAI,SACXA,EAAI,aAAegB,EAAQ,SAAW,CAACC,EAC1C,MACDI,EAAK,KAAKK,EAAO,KAAK,IAAI,WAAWT,CAAQ,CAAC,CAAC,EAC/C,MACD,IAAK,YAEJ,GADAA,EAAWjB,EAAI,SACXA,EAAI,aAAegB,EAAQ,QAC9B,MACD,IAAIQ,EAAS,IAAIzB,EAAO,eACxByB,EAAO,WAAa,UAAY,CAC3BA,EAAO,OAAO,WAAaH,EAAK,OACnCA,EAAK,KAAKK,EAAO,KAAK,IAAI,WAAWF,EAAO,OAAO,MAAMH,EAAK,IAAI,CAAC,CAAC,CAAC,EACrEA,EAAK,KAAOG,EAAO,OAAO,WAE3B,EACDA,EAAO,OAAS,UAAY,CAC3BJ,EAAY,EAAI,EAChBC,EAAK,KAAK,IAAI,CACd,EAEDG,EAAO,kBAAkBP,CAAQ,EACjC,KACD,CAGGI,EAAK,KAAK,aAAeL,EAAQ,MAAQK,EAAK,QAAU,cAC3DD,EAAY,EAAI,EAChBC,EAAK,KAAK,IAAI,EAEhB,EClNA,IAAIR,EAAaP,EACbQ,GAAWP,GACXU,GAAWT,EACXO,EAASN,GAETS,GAAkBD,GAAS,gBAC3BD,EAAUC,GAAS,YAEvB,SAASwB,GAAYC,EAAcC,EAAU,CAC5C,OAAI9B,EAAW,OAAS8B,EAChB,QACG9B,EAAW,sBACd,0BACGA,EAAW,SACd,YACGA,EAAW,aAAe6B,EAC7B,cAEA,MAET,CAEA,IAAIE,EAAgBC,GAAA,QAAiB,SAAUC,EAAM,CACpD,IAAIzB,EAAO,KACXN,EAAO,SAAS,KAAKM,CAAI,EAEzBA,EAAK,MAAQyB,EACbzB,EAAK,MAAQ,CAAE,EACfA,EAAK,SAAW,CAAE,EACdyB,EAAK,MACRzB,EAAK,UAAU,gBAAiB,SAAWK,EAAO,KAAKoB,EAAK,IAAI,EAAE,SAAS,QAAQ,CAAC,EACrF,OAAO,KAAKA,EAAK,OAAO,EAAE,QAAQ,SAAUC,EAAM,CACjD1B,EAAK,UAAU0B,EAAMD,EAAK,QAAQC,CAAI,CAAC,CACzC,CAAE,EAED,IAAIL,EACAC,EAAW,GACf,GAAIG,EAAK,OAAS,iBAAoB,mBAAoBA,GAAQ,CAACjC,EAAW,gBAE7E8B,EAAW,GACXD,EAAe,WACLI,EAAK,OAAS,mBAGxBJ,EAAe,WACLI,EAAK,OAAS,2BAExBJ,EAAe,CAAC7B,EAAW,yBACjB,CAACiC,EAAK,MAAQA,EAAK,OAAS,WAAaA,EAAK,OAAS,cAEjEJ,EAAe,OAET,OAAA,IAAI,MAAM,6BAA6B,EAE9CrB,EAAK,MAAQoB,GAAWC,EAAcC,CAAQ,EAC9CtB,EAAK,YAAc,KACnBA,EAAK,eAAiB,KACtBA,EAAK,aAAe,KAEpBA,EAAK,GAAG,SAAU,UAAY,CAC7BA,EAAK,UAAW,CAClB,CAAE,CACF,EAEAP,GAAS8B,EAAe7B,EAAO,QAAQ,EAEvC6B,EAAc,UAAU,UAAY,SAAUG,EAAM3C,EAAO,CAC1D,IAAIiB,EAAO,KACP2B,EAAYD,EAAK,YAAa,EAI9BE,GAAc,QAAQD,CAAS,IAAM,KAGzC3B,EAAK,SAAS2B,CAAS,EAAI,CAC1B,KAAMD,EACN,MAAO3C,CACP,EACF,EAEAwC,EAAc,UAAU,UAAY,SAAUG,EAAM,CACnD,IAAInB,EAAS,KAAK,SAASmB,EAAK,YAAW,CAAE,EAC7C,OAAInB,EACIA,EAAO,MACR,IACR,EAEAgB,EAAc,UAAU,aAAe,SAAUG,EAAM,CACtD,IAAI1B,EAAO,KACX,OAAOA,EAAK,SAAS0B,EAAK,YAAW,CAAE,CACxC,EAEAH,EAAc,UAAU,UAAY,UAAY,CAC/C,IAAIvB,EAAO,KAEX,GAAI,CAAAA,EAAK,WAET,CAAA,IAAIyB,EAAOzB,EAAK,MAEZ,YAAayB,GAAQA,EAAK,UAAY,GACzCzB,EAAK,WAAWyB,EAAK,OAAO,EAG7B,IAAII,EAAa7B,EAAK,SAClB8B,EAAO,KACPL,EAAK,SAAW,OAASA,EAAK,SAAW,SACtCK,EAAO,IAAI,KAAK9B,EAAK,MAAO,CACxB,MAAO6B,EAAW,cAAc,GAAK,CAAE,GAAE,OAAS,EAC9D,CAAS,GAIR,IAAIE,EAAc,CAAE,EAapB,GAZA,OAAO,KAAKF,CAAU,EAAE,QAAQ,SAAUG,EAAS,CAClD,IAAIN,EAAOG,EAAWG,CAAO,EAAE,KAC3BjD,EAAQ8C,EAAWG,CAAO,EAAE,MAC5B,MAAM,QAAQjD,CAAK,EACtBA,EAAM,QAAQ,SAAUkD,EAAG,CAC1BF,EAAY,KAAK,CAACL,EAAMO,CAAC,CAAC,CAC9B,CAAI,EAEDF,EAAY,KAAK,CAACL,EAAM3C,CAAK,CAAC,CAEjC,CAAE,EAEGiB,EAAK,QAAU,QAAS,CAC3B,IAAIkC,EAAS,KACb,GAAI1C,EAAW,gBAAiB,CAC/B,IAAI2C,EAAa,IAAI,gBACrBD,EAASC,EAAW,OACpBnC,EAAK,sBAAwBmC,EAEzB,mBAAoBV,GAAQA,EAAK,iBAAmB,IACvDzB,EAAK,YAActB,EAAO,WAAW,UAAY,CAChDsB,EAAK,KAAK,gBAAgB,EACtBA,EAAK,uBACRA,EAAK,sBAAsB,MAAO,CACxC,EAAOyB,EAAK,cAAc,EAEvB,CAED/C,EAAO,MAAMsB,EAAK,MAAM,IAAK,CAC5B,OAAQA,EAAK,MAAM,OACnB,QAAS+B,EACT,KAAMD,GAAQ,OACd,KAAM,OACN,YAAaL,EAAK,gBAAkB,UAAY,cAChD,OAAQS,CACX,CAAG,EAAE,KAAK,SAAUtC,EAAU,CAC3BI,EAAK,eAAiBJ,EACtBI,EAAK,aAAa,EAAK,EACvBA,EAAK,SAAU,CACf,EAAE,SAAUoC,EAAQ,CACpBpC,EAAK,aAAa,EAAI,EACjBA,EAAK,YACTA,EAAK,KAAK,QAASoC,CAAM,CAC7B,CAAG,CACH,KAAQ,CACN,IAAIzD,EAAMqB,EAAK,KAAO,IAAItB,EAAO,eACjC,GAAI,CACHC,EAAI,KAAKqB,EAAK,MAAM,OAAQA,EAAK,MAAM,IAAK,EAAI,CAChD,OAAQM,EAAK,CACbL,EAAQ,SAAS,UAAY,CAC5BD,EAAK,KAAK,QAASM,CAAG,CAC1B,CAAI,EACD,MACA,CAGG,iBAAkB3B,IACrBA,EAAI,aAAeqB,EAAK,OAErB,oBAAqBrB,IACxBA,EAAI,gBAAkB,CAAC,CAAC8C,EAAK,iBAE1BzB,EAAK,QAAU,QAAU,qBAAsBrB,GAClDA,EAAI,iBAAiB,oCAAoC,EAEtD,mBAAoB8C,IACvB9C,EAAI,QAAU8C,EAAK,eACnB9C,EAAI,UAAY,UAAY,CAC3BqB,EAAK,KAAK,gBAAgB,CAC1B,GAGF+B,EAAY,QAAQ,SAAUxB,EAAQ,CACrC5B,EAAI,iBAAiB4B,EAAO,CAAC,EAAGA,EAAO,CAAC,CAAC,CAC5C,CAAG,EAEDP,EAAK,UAAY,KACjBrB,EAAI,mBAAqB,UAAY,CACpC,OAAQA,EAAI,WAAU,CACrB,KAAKgB,EAAQ,QACb,KAAKA,EAAQ,KACZK,EAAK,eAAgB,EACrB,KACD,CACD,EAGGA,EAAK,QAAU,4BAClBrB,EAAI,WAAa,UAAY,CAC5BqB,EAAK,eAAgB,CACrB,GAGFrB,EAAI,QAAU,UAAY,CACrBqB,EAAK,aAETA,EAAK,aAAa,EAAI,EACtBA,EAAK,KAAK,QAAS,IAAI,MAAM,WAAW,CAAC,EACzC,EAED,GAAI,CACHrB,EAAI,KAAKmD,CAAI,CACb,OAAQxB,EAAK,CACbL,EAAQ,SAAS,UAAY,CAC5BD,EAAK,KAAK,QAASM,CAAG,CAC1B,CAAI,EACD,MACA,CACD,CACF,CAAA,EAOA,SAAS+B,GAAa1D,EAAK,CAC1B,GAAI,CACH,IAAI2D,EAAS3D,EAAI,OACjB,OAAQ2D,IAAW,MAAQA,IAAW,CACtC,MAAW,CACX,MAAO,EACP,CACF,CAEAf,EAAc,UAAU,eAAiB,UAAY,CACpD,IAAIvB,EAAO,KAEXA,EAAK,aAAa,EAAK,EAEnB,EAACqC,CAAAA,GAAYrC,EAAK,IAAI,GAAKA,EAAK,cAG/BA,EAAK,WACTA,EAAK,SAAU,EAEhBA,EAAK,UAAU,eAAeA,EAAK,aAAa,KAAKA,CAAI,CAAC,EAC3D,EAEAuB,EAAc,UAAU,SAAW,UAAY,CAC9C,IAAIvB,EAAO,KAEPA,EAAK,aAGTA,EAAK,UAAY,IAAIH,GAAgBG,EAAK,KAAMA,EAAK,eAAgBA,EAAK,MAAOA,EAAK,aAAa,KAAKA,CAAI,CAAC,EAC7GA,EAAK,UAAU,GAAG,QAAS,SAASM,EAAK,CACxCN,EAAK,KAAK,QAASM,CAAG,CACxB,CAAE,EAEDN,EAAK,KAAK,WAAYA,EAAK,SAAS,EACrC,EAEAuB,EAAc,UAAU,OAAS,SAAUb,EAAO6B,EAAUC,EAAI,CAC/D,IAAIxC,EAAO,KAEXA,EAAK,MAAM,KAAKU,CAAK,EACrB8B,EAAI,CACL,EAEAjB,EAAc,UAAU,aAAe,SAAUkB,EAAM,CACtD,IAAIzC,EAAO,KAEXtB,EAAO,aAAasB,EAAK,YAAY,EACrCA,EAAK,aAAe,KAEhByC,GACH/D,EAAO,aAAasB,EAAK,WAAW,EACpCA,EAAK,YAAc,MACTA,EAAK,iBACfA,EAAK,aAAetB,EAAO,WAAW,UAAY,CACjDsB,EAAK,KAAK,SAAS,CACtB,EAAKA,EAAK,cAAc,EAExB,EAEAuB,EAAc,UAAU,MAAQA,EAAc,UAAU,QAAU,SAAUjB,EAAK,CAChF,IAAIN,EAAO,KACXA,EAAK,WAAa,GAClBA,EAAK,aAAa,EAAI,EAClBA,EAAK,YACRA,EAAK,UAAU,WAAa,IACzBA,EAAK,KACRA,EAAK,KAAK,MAAO,EACTA,EAAK,uBACbA,EAAK,sBAAsB,MAAO,EAE/BM,GACHN,EAAK,KAAK,QAASM,CAAG,CACxB,EAEAiB,EAAc,UAAU,IAAM,SAAUmB,EAAMH,EAAUC,EAAI,CAC3D,IAAIxC,EAAO,KACP,OAAO0C,GAAS,aACnBF,EAAKE,EACLA,EAAO,QAGRhD,EAAO,SAAS,UAAU,IAAI,KAAKM,EAAM0C,EAAMH,EAAUC,CAAE,CAC5D,EAEAjB,EAAc,UAAU,WAAa,SAAUoB,EAASH,EAAI,CAC3D,IAAIxC,EAAO,KAEPwC,GACHxC,EAAK,KAAK,UAAWwC,CAAE,EAExBxC,EAAK,eAAiB2C,EACtB3C,EAAK,aAAa,EAAK,CACxB,EAEAuB,EAAc,UAAU,aAAe,UAAY,CAAE,EACrDA,EAAc,UAAU,WAAa,UAAY,CAAE,EACnDA,EAAc,UAAU,mBAAqB,UAAY,CAAE,EAG3D,IAAIK,GAAgB,CACnB,iBACA,kBACA,iCACA,gCACA,aACA,iBACA,SACA,UACA,OACA,MACA,SACA,OACA,aACA,SACA,UACA,KACA,UACA,oBACA,UACA,KACD,gBC/VAgB,GAAiBC,GAEbC,GAAiB,OAAO,UAAU,eAEtC,SAASD,IAAS,CAGd,QAFIE,EAAS,CAAE,EAEN5B,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CACvC,IAAI6B,EAAS,UAAU7B,CAAC,EAExB,QAASX,KAAOwC,EACRF,GAAe,KAAKE,EAAQxC,CAAG,IAC/BuC,EAAOvC,CAAG,EAAIwC,EAAOxC,CAAG,EAGnC,CAED,OAAOuC,CACX,CClBA,IAAAE,GAAiB,CACf,IAAO,WACP,IAAO,sBACP,IAAO,aACP,IAAO,KACP,IAAO,UACP,IAAO,WACP,IAAO,gCACP,IAAO,aACP,IAAO,gBACP,IAAO,kBACP,IAAO,eACP,IAAO,mBACP,IAAO,UACP,IAAO,mBACP,IAAO,oBACP,IAAO,QACP,IAAO,YACP,IAAO,eACP,IAAO,YACP,IAAO,qBACP,IAAO,qBACP,IAAO,cACP,IAAO,eACP,IAAO,mBACP,IAAO,YACP,IAAO,YACP,IAAO,qBACP,IAAO,iBACP,IAAO,gCACP,IAAO,kBACP,IAAO,WACP,IAAO,OACP,IAAO,kBACP,IAAO,sBACP,IAAO,oBACP,IAAO,eACP,IAAO,yBACP,IAAO,wBACP,IAAO,qBACP,IAAO,eACP,IAAO,sBACP,IAAO,uBACP,IAAO,SACP,IAAO,oBACP,IAAO,uBACP,IAAO,mBACP,IAAO,wBACP,IAAO,oBACP,IAAO,kCACP,IAAO,gCACP,IAAO,wBACP,IAAO,kBACP,IAAO,cACP,IAAO,sBACP,IAAO,kBACP,IAAO,6BACP,IAAO,0BACP,IAAO,uBACP,IAAO,gBACP,IAAO,2BACP,IAAO,eACP,IAAO,iCACT,eC/DA,IAAI1B,EAAgBtC,GAChBW,EAAWV,EACX2D,EAAS1D,GACT+D,EAAc9D,GACd+D,EAAM9D,GAEN+D,EAAO5E,EAEX4E,EAAK,QAAU,SAAU3B,EAAMe,EAAI,CAC9B,OAAOf,GAAS,SACnBA,EAAO0B,EAAI,MAAM1B,CAAI,EAErBA,EAAOoB,EAAOpB,CAAI,EAKnB,IAAI4B,EAAkB3E,EAAO,SAAS,SAAS,OAAO,WAAW,IAAM,GAAK,QAAU,GAElF4E,EAAW7B,EAAK,UAAY4B,EAC5BE,EAAO9B,EAAK,UAAYA,EAAK,KAC7B+B,EAAO/B,EAAK,KACZgC,EAAOhC,EAAK,MAAQ,IAGpB8B,GAAQA,EAAK,QAAQ,GAAG,IAAM,KACjCA,EAAO,IAAMA,EAAO,KAGrB9B,EAAK,KAAO8B,EAAQD,EAAW,KAAOC,EAAQ,KAAOC,EAAO,IAAMA,EAAO,IAAMC,EAC/EhC,EAAK,QAAUA,EAAK,QAAU,OAAO,YAAa,EAClDA,EAAK,QAAUA,EAAK,SAAW,CAAE,EAIjC,IAAIiC,EAAM,IAAInC,EAAcE,CAAI,EAChC,OAAIe,GACHkB,EAAI,GAAG,WAAYlB,CAAE,EACfkB,CACP,EAEDN,EAAK,IAAM,SAAc3B,EAAMe,EAAI,CAClC,IAAIkB,EAAMN,EAAK,QAAQ3B,EAAMe,CAAE,EAC/B,OAAAkB,EAAI,IAAK,EACFA,CACP,EAEDN,EAAK,cAAgB7B,EACrB6B,EAAK,gBAAkBxD,EAAS,gBAEhCwD,EAAK,MAAQ,UAAY,CAAE,EAC3BA,EAAK,MAAM,kBAAoB,EAE/BA,EAAK,YAAc,IAAIA,EAAK,MAE5BA,EAAK,aAAeF,EAEpBE,EAAK,QAAU,CACd,WACA,UACA,OACA,SACA,MACA,OACA,OACA,WACA,QACA,aACA,QACA,OACA,SACA,UACA,QACA,OACA,WACA,YACA,QACA,MACA,SACA,SACA,YACA,QACA,SACA,aACD,wCCpFA,IAAIA,EAAOnE,EACPkE,EAAMjE,GAENyE,EAAQ3E,EAAO,QAEnB,QAASwB,KAAO4C,EACVA,EAAK,eAAe5C,CAAG,IAAGmD,EAAMnD,CAAG,EAAI4C,EAAK5C,CAAG,GAGrDmD,EAAM,QAAU,SAAUC,EAAQpB,EAAI,CACpC,OAAAoB,EAASC,EAAeD,CAAM,EACvBR,EAAK,QAAQ,KAAK,KAAMQ,EAAQpB,CAAE,CAC1C,EAEDmB,EAAM,IAAM,SAAUC,EAAQpB,EAAI,CAChC,OAAAoB,EAASC,EAAeD,CAAM,EACvBR,EAAK,IAAI,KAAK,KAAMQ,EAAQpB,CAAE,CACtC,EAED,SAASqB,EAAgBD,EAAQ,CAO/B,GANI,OAAOA,GAAW,WACpBA,EAAST,EAAI,MAAMS,CAAM,GAEtBA,EAAO,WACVA,EAAO,SAAW,UAEhBA,EAAO,WAAa,SACtB,MAAM,IAAI,MAAM,aAAeA,EAAO,SAAW,oCAAoC,EAEvF,OAAOA,CACT,0BC9BA,MAAME,GAAc,OAAO,kBAAsB,KAC7C,gBAAgB,kBACdC,EAAOD,GACP,KACA,OAAO,OAAW,IACd,OACA,WACGE,GAAQD,EAAK,MAAM,KAAKA,CAAI,ECPlC,SAASE,MAAYC,EAAS,CACjC,GAAIA,EAAQ,SAAW,EACnB,MAAM,IAAI,MAAM,iDAAiD,EAErE,OAAO,YAA8BC,EAAM,CACvC,IAAI/D,EAAS+D,EACb,MAAMC,EAAQ,KACd,KAAOF,EAAQ,OAAS,GAEpB9D,EAAS,CADM8D,EAAQ,QACN,MAAME,EAAOhE,CAAM,CAAC,EAEzC,OAAOA,EAAO,CAAC,CACvB,CACA,CCZA,MAAMiE,EAAmB,eACnBC,GAAO,IAAM,CAAA,EACnB,SAASC,EAAcC,EAAQ,CAC3B,MAAO,CACH,SAAUA,EACV,QAAS,CAACA,CAAM,EAChB,MAAO,EACf,CACA,CAIO,MAAMC,EAAW,CACpB,aAAc,CACV,KAAK,eAAiB,CAClB,SAAU,CAAE,EACZ,eAAgB,MAC5B,EACQ,KAAK,SAAWJ,CACnB,CAKD,IAAI,eAAgB,CAChB,OAAO,KAAK,cACf,CAKD,IAAI,gBAAiB,CACjB,OAAO,KAAK,cAAc,cAC7B,CACD,IAAI,eAAeK,EAAW,CAC1B,KAAK,cAAc,eAAiBA,CACvC,CAUD,QAAQ3B,EAAQ4B,EAAuB,GAAO,CAC1C,GAAI,CAAC5B,GAAUA,EAAO,WAAasB,EAC/B,MAAM,IAAI,MAAM,6EAA6E,EAEjG,OAAA,OAAO,KAAKtB,EAAO,cAAc,QAAQ,EAAE,QAAQ6B,GAAc,CACzD,KAAK,cAAc,SAAS,eAAeA,CAAU,EACjDD,IACA,KAAK,cAAc,SAASC,CAAU,EAAI,OAAO,OAAO,CAAE,EAAE7B,EAAO,cAAc,SAAS6B,CAAU,CAAC,GAIzG,KAAK,cAAc,SAASA,CAAU,EAAI,OAAO,OAAO,CAAE,EAAE7B,EAAO,cAAc,SAAS6B,CAAU,CAAC,CAErH,CAAS,EACD7B,EAAO,eAAiB,KAAK,cACtB,IACV,CAQD,QAAQvC,KAAQ2D,EAAM,CAElB,OADe,KAAK,IAAI3D,CAAG,GAAK8D,IAClB,GAAGH,CAAI,CACxB,CAUD,IAAI3D,EAAK,CACL,MAAMqE,EAAO,KAAK,cAAc,SAASrE,CAAG,EAC5C,GAAI,CAACqE,EACD,OAAQ,KAAK,eAAc,CACvB,IAAK,OACD,OAAO,KACX,IAAK,QACD,MAAM,IAAI,MAAM,oEAAoErE,SAAK,EAC7F,QACI,MAAM,IAAI,MAAM,8FAA8F,YAAK,eAAgB,CAC1I,CAEL,OAAOyD,GAAS,GAAGY,EAAK,OAAO,CAClC,CAMD,UAAUrE,EAAK,CACX,MAAO,CAAC,CAAC,KAAK,cAAc,SAASA,CAAG,CAC3C,CAQD,MAAMA,EAAKgE,EAAQ/C,EAAO,CAAA,EAAI,CAC1B,KAAM,CAAE,MAAAqD,EAAQ,EAAO,EAAGrD,EAC1B,GAAI,KAAK,cAAc,SAASjB,CAAG,GAAK,KAAK,cAAc,SAASA,CAAG,EAAE,MACrE,MAAM,IAAI,MAAM,oBAAoBA,SAAG,kCAAiC,EAE5E,GAAI,OAAOgE,GAAW,WAClB,MAAM,IAAI,MAAM,oBAAoBhE,SAAG,uCAAsC,EAEjF,GAAIsE,EAEK,KAAK,cAAc,SAAStE,CAAG,EAMhC,KAAK,cAAc,SAASA,CAAG,EAAE,QAAQ,KAAKgE,CAAM,EAJpD,KAAK,cAAc,SAAShE,CAAG,EAAI+D,EAAcC,CAAM,UASvD,KAAK,UAAUhE,CAAG,EAAG,CACrB,KAAM,CAAE,SAAAuE,CAAQ,EAAK,KAAK,cAAc,SAASvE,CAAG,EACpD,KAAK,cAAc,SAASA,CAAG,EAAI,OAAO,OAAO+D,EAAcC,CAAM,EAAG,CACpE,SAAAO,CACpB,CAAiB,CACJ,MAEG,KAAK,cAAc,SAASvE,CAAG,EAAI+D,EAAcC,CAAM,EAG/D,OAAO,IACV,CAkBD,YAAYhE,EAAKgE,KAAWL,EAAM,CAC9B,OAAK,KAAK,UAAU3D,CAAG,GACnB,KAAK,MAAMA,EAAKgE,CAAM,EAEnB,KAAK,QAAQhE,EAAK,GAAG2D,CAAI,CACnC,CASD,OAAO3D,KAAQ0D,EAAS,CACpB,OAAAA,EAAQ,QAAQM,GAAU,CACtB,KAAK,MAAMhE,EAAKgE,EAAQ,CAAE,MAAO,EAAI,CAAE,CACnD,CAAS,EACM,IACV,CAMD,QAAQhE,EAAK,CACT,GAAK,KAAK,UAAUA,CAAG,GAGlB,GAAI,OAAO,KAAK,cAAc,SAASA,CAAG,EAAE,UAAa,WAC1D,MAAM,IAAI,MAAM,kFAAkFA,SAAK,MAHvG,OAAM,IAAI,MAAM,uDAAuDA,SAAK,EAKhF,OAAK,KAAA,cAAc,SAASA,CAAG,EAAE,QAAU,CAAC,KAAK,cAAc,SAASA,CAAG,EAAE,QAAQ,EAC9E,IACV,CAQD,SAASA,EAAK,CACV,GAAI,CAAC,KAAK,cAAc,SAAS,eAAeA,CAAG,EAC/C,MAAM,IAAI,MAAM,mBAAmBA,SAAG,sCAAqC,EAE/E,OAAK,KAAA,cAAc,SAASA,CAAG,EAAE,MAAQ,GAClC,IACV,CACL,CCnNA,IAAIwE,EAAY,KACT,SAASC,IAAa,CACzB,OAAKD,IACDA,EAAY,IAAIP,IAEbO,CACX,CCPO,SAASE,IAAQ,CACpB,OAAI,OAAO,KAAQ,WAAa,MAAQ,EAI5C,CCJO,SAASC,GAAWC,EAAWC,EAAMC,EAAOC,EAAMC,EAAOC,EAAQC,EAAK,CACzE,MAAMC,EAAUD,GAAOE,EAAI,GAAGP,SAAI,KAAIC,SAAK,KAAIC,OAAAA,EAAM,EACrD,OAAIH,GAAaA,EAAU,YAAW,IAAO,WAClCQ,EAAI,GAAGD,SAAO,KAAIH,OAAAA,EAAK,KAAIC,SAAQ,EAEvCE,CACX,CCLA,MAAME,EAAc,mBACdC,GAAa,GAIZ,SAASC,EAAyBC,EAASC,EAAQ,CACtD,MAAM9C,EAAM6C,EAAQ,IAAI,QAAQ,KAAM,EAAE,EAClCE,EAAM/C,EAAI,QAAQ,GAAG,GAAK,GAAK,IAAMA,EAAI,MAAMA,EAAI,QAAQ,GAAG,CAAC,EAC/DqB,EAASwB,EAAQ,OAASA,EAAQ,OAAO,YAAa,EAAG,MACzDG,EAAM,uBAAuB,KAAKF,EAAO,GAAG,EAAI,OAAS,GACzDG,EAAW,WAAWH,SAAO,IAAK,MAAM,EAAE,EAC1CP,EAAMP,GAAWc,EAAO,UAAWA,EAAO,SAAUA,EAAO,MAAOA,EAAO,SAAUA,EAAO,MAAOA,EAAO,OAAQA,EAAO,GAAG,EAC1HI,EAAMT,EAAI,GAAGpB,OAAAA,EAAM,KAAI0B,OAAAA,EAAK,EAC5BI,EAAiBH,EACjBP,EAAI,GAAGF,SAAG,KAAIO,SAAO,MAAK,KAAIG,SAAQ,KAAIH,SAAO,OAAM,KAAIE,SAAG,KAAIE,SAAK,EACvET,EAAI,GAAGF,SAAG,KAAIO,SAAO,MAAK,KAAII,SAAK,EACnCE,EAAa,CACf,SAAUN,EAAO,SACjB,MAAOA,EAAO,MACd,MAAOA,EAAO,MACd,IAAAC,EACA,IAAAC,EACA,SAAUG,EACV,GAAIF,EACJ,OAAQH,EAAO,OACf,UAAWA,EAAO,UAClB,OAAQA,EAAO,MACvB,EACUO,EAAa,CAAA,EACnB,UAAWC,KAAKF,EACRA,EAAWE,CAAC,IACRA,IAAM,OAASA,IAAM,MAAQA,IAAM,YACnCD,EAAW,KAAK,GAAGC,OAAAA,EAAC,KAAIF,OAAAA,EAAWE,CAAC,EAAG,EAGvCD,EAAW,KAAK,GAAGC,OAAAA,EAAC,MAAKF,OAAAA,EAAWE,CAAC,EAAC,IAAG,GAIrD,MAAO,UAAUD,SAAW,KAAK,IAAI,EACzC,CACA,SAASE,IAAY,CACjB,IAAIC,EAAM,GACV,QAASxF,EAAI,EAAGA,EAAI2E,GAAY,EAAE3E,EAC9BwF,EAAM,GAAGA,UAAMd,OAAAA,EAAY,KAAK,MAAM,KAAK,OAAM,EAAKA,EAAY,MAAM,CAAC,GAE7E,OAAOc,CACX,CACO,SAASC,GAAgBhH,EAAUiH,EAAS,CAC/C,MAAML,EAAc5G,EAAS,SAAWA,EAAS,QAAQ,IAAI,kBAAkB,GAAM,GACrF,GAAI4G,EAAW,MAAM,IAAI,EAAE,CAAC,EAAE,YAAa,IAAK,SAC5C,MAAO,GAEX,MAAMM,EAAK,8CACX,OAAS,CACL,MAAMC,EAAQD,EAAG,KAAKN,CAAU,EAChC,GAAI,CAACO,EACD,MAEJF,EAAQE,EAAM,CAAC,CAAC,EAAIA,EAAM,CAAC,GAAKA,EAAM,CAAC,CAC1C,CACD,OAAAF,EAAQ,IAAM,EACdA,EAAQ,OAASH,KACV,EACX,CClEO,SAASM,EAAaC,EAAK,CAC9B,OAAOC,GAAcD,CAAG,EAClB,OAAO,OAAO,CAAE,EAAEA,CAAG,EACrB,OAAO,eAAe,OAAO,OAAO,CAAE,EAAEA,CAAG,EAAG,OAAO,eAAeA,CAAG,CAAC,CAClF,CACA,SAASC,GAAcD,EAAK,CACxB,GAAI,OAAOA,GAAQ,UACfA,IAAQ,MACR,OAAO,UAAU,SAAS,KAAKA,CAAG,GAAK,kBAEvC,MAAO,GAEX,GAAI,OAAO,eAAeA,CAAG,IAAM,KAC/B,MAAO,GAEX,IAAIE,EAAQF,EAEZ,KAAO,OAAO,eAAeE,CAAK,IAAM,MACpCA,EAAQ,OAAO,eAAeA,CAAK,EAEvC,OAAO,OAAO,eAAeF,CAAG,IAAME,CAC1C,CACO,SAASC,KAASjD,EAAM,CAC3B,IAAIkD,EAAS,KAAMC,EAAQ,CAAC,GAAGnD,CAAI,EACnC,KAAOmD,EAAM,OAAS,GAAG,CACrB,MAAMC,EAAWD,EAAM,QAClBD,EAIDA,EAASG,GAAaH,EAAQE,CAAQ,EAHtCF,EAASL,EAAaO,CAAQ,CAKrC,CACD,OAAOF,CACX,CACA,SAASG,GAAaC,EAAMC,EAAM,CAC9B,MAAML,EAASL,EAAaS,CAAI,EAChC,OAAA,OAAO,KAAKC,CAAI,EAAE,QAAQlH,GAAO,CAC7B,GAAI,CAAC6G,EAAO,eAAe7G,CAAG,EAAG,CAC7B6G,EAAO7G,CAAG,EAAIkH,EAAKlH,CAAG,EACtB,MACH,CACG,MAAM,QAAQkH,EAAKlH,CAAG,CAAC,EACvB6G,EAAO7G,CAAG,EAAI,MAAM,QAAQ6G,EAAO7G,CAAG,CAAC,EACjC,CAAC,GAAG6G,EAAO7G,CAAG,EAAG,GAAGkH,EAAKlH,CAAG,CAAC,EAC7B,CAAC,GAAGkH,EAAKlH,CAAG,CAAC,EAEd,OAAOkH,EAAKlH,CAAG,GAAM,UAAckH,EAAKlH,CAAG,EAChD6G,EAAO7G,CAAG,EACN,OAAO6G,EAAO7G,CAAG,GAAM,UAAc6G,EAAO7G,CAAG,EACzCgH,GAAaH,EAAO7G,CAAG,EAAGkH,EAAKlH,CAAG,CAAC,EACnCwG,EAAaU,EAAKlH,CAAG,CAAC,EAGhC6G,EAAO7G,CAAG,EAAIkH,EAAKlH,CAAG,CAElC,CAAK,EACM6G,CACX,CC1DA,MAAMM,GAAiB,OAAO,aAAgB,WACxC,CAAE,SAAUC,IAAgB,OAAO,UAElC,SAASC,GAAc9I,EAAO,CACjC,OAAQ4I,KACH5I,aAAiB,aAAe6I,GAAY,KAAK7I,CAAK,IAAM,uBACrE,CCNO,SAAS+I,GAAS/I,EAAO,CAC5B,OAAQA,GAAS,MACbA,EAAM,aAAe,MACrB,OAAOA,EAAM,YAAY,UAAa,YACtCA,EAAM,YAAY,SAASA,CAAK,CACxC,CCDO,SAASgJ,GAAuBrF,EAAM,CACzC,GAAI,CAACwC,GAAO,GAAIxC,aAAgBsF,GAAO,SAEnC,MAAO,CAACtF,EAAM,CAAA,CAAE,EAEpB,GAAI,OAAOA,GAAS,SAChB,MAAO,CAACA,EAAM,CAAA,CAAE,EAEf,GAAIoF,GAASpF,CAAI,EAClB,MAAO,CAACA,EAAM,CAAA,CAAE,EAEf,GAAImF,GAAcnF,CAAI,EACvB,MAAO,CAACA,EAAM,CAAA,CAAE,EAEf,GAAIA,GAAQ,OAAOA,GAAS,SAC7B,MAAO,CACH,KAAK,UAAUA,CAAI,EACnB,CACI,eAAgB,kBACnB,CACb,EAEI,MAAM,IAAI,MAAM,yDAAyD,cAAOA,EAAM,CAC1F,CClBA,SAASuF,EAASC,EAAgB,CAC9B,MAAMC,EAAUlD,KAChB,OAAOkD,EAAQ,YAAY,UAAYnC,GAAYmC,EAAQ,YAAY,QAASnE,GAAOgC,EAAQ,IAAKoC,GAAgBpC,CAAO,CAAC,EAAGkC,CAAc,CACjJ,CACA,SAASE,GAAgBF,EAAgB,CACrC,IAAIrH,EAAU,CAAA,EAEd,MAAMY,EAAO,CACT,OAAQyG,EAAe,MAC/B,EAII,GAHIA,EAAe,UACfrH,EAAUwH,EAAaxH,EAASqH,EAAe,OAAO,GAEtD,OAAOA,EAAe,KAAS,IAAa,CAC5C,KAAM,CAACpG,EAAMwG,CAAU,EAAIP,GAAuBG,EAAe,IAAI,EACrEzG,EAAK,KAAOK,EACZjB,EAAUwH,EAAaxH,EAASyH,CAAU,CAC7C,CACD,OAAIJ,EAAe,SACfzG,EAAK,OAASyG,EAAe,QAE7BA,EAAe,kBACfzG,EAAK,YAAc,WAGlByD,GAAK,IACFgD,EAAe,WAAaA,EAAe,cAC3CzG,EAAK,MAAS8G,GACNA,EAAU,WAAa,QAChBL,EAAe,WAAa,IAAIM,EAAAA,MAEpCN,EAAe,YAAc,IAAIO,GAAAA,OAKpDhH,EAAK,QAAUZ,EACRY,CACX,CAwBO,eAAeiH,GAAQR,EAAgB,CAE1C,GAAI,CAACA,EAAe,QAChB,OAAOD,EAASC,CAAc,EAGlC,MAAMrB,EAAUqB,EAAe,QAC/B,OAAOA,EAAe,QAElBrB,EAAQ,gBACRqB,EAAiBd,EAAMc,EAAgB,CACnC,QAAS,CACL,cAAenC,EAAyBmC,EAAgBrB,CAAO,CAClE,CACb,CAAS,GAGL,MAAMjH,EAAW,MAAMqI,EAASC,CAAc,EAC9C,GAAItI,EAAS,QAAU,KAEnB,GADAiH,EAAQ,cAAgBD,GAAgBhH,EAAUiH,CAAO,EACrDA,EAAQ,cAAe,CACvBqB,EAAiBd,EAAMc,EAAgB,CACnC,QAAS,CACL,cAAenC,EAAyBmC,EAAgBrB,CAAO,CAClE,CACjB,CAAa,EACD,MAAM8B,EAAY,MAAMV,EAASC,CAAc,EAC/C,OAAIS,EAAU,QAAU,IACpB9B,EAAQ,cAAgB,GAGxBA,EAAQ,KAEL8B,CACV,OAGD9B,EAAQ,KAEZ,OAAOjH,CACX,CC/GA,IAAAgJ,EA4BO,MAAMC,EAAW,UAAU,QAAeD,EAAAE,OAAf,KAAkB,OAAAF,EAAA,GAAA,EACvCG,GAAiBC,GAAkB,MAAQH,CAAQ,EAEnDI,GAAY,CAACC,EAAUH,KAAmB,CAChD,MAAAI,EAASC,GAAaF,EAAS,CACpC,QAAS,CACR,aAAcG,MAAqB,EACpC,CAAA,CACA,EAWO,OAJQpE,KAIR,MAAM,UAAYe,GAA+C,CA/C1E4C,IAAAA,EAgDE,OAAIA,EAAA5C,EAAQ,UAAR,MAAA4C,EAAiB,SACZ5C,EAAA,OAASA,EAAQ,QAAQ,OACjC,OAAOA,EAAQ,QAAQ,QAEjB0C,GAAQ1C,CAAO,CAAA,CACtB,EACMmD,CACR,ECvDA,SAASG,EAAgBrC,EAAKzG,EAAKzB,EAAO,CAAE,OAAIyB,KAAOyG,EAAO,OAAO,eAAeA,EAAKzG,EAAK,CAAE,MAAOzB,EAAO,WAAY,GAAM,aAAc,GAAM,SAAU,EAAM,CAAA,EAAYkI,EAAIzG,CAAG,EAAIzB,EAAgBkI,CAAM,CAEjN,SAASsC,EAA2BtC,EAAKuC,EAAYzK,EAAO,CAAE0K,GAA2BxC,EAAKuC,CAAU,EAAGA,EAAW,IAAIvC,EAAKlI,CAAK,CAAI,CAExI,SAAS0K,GAA2BxC,EAAKyC,EAAmB,CAAE,GAAIA,EAAkB,IAAIzC,CAAG,EAAK,MAAM,IAAI,UAAU,gEAAgE,CAAM,CAE1L,SAAS0C,EAAsBC,EAAUJ,EAAY,CAAE,IAAIK,EAAaC,GAA6BF,EAAUJ,EAAY,KAAK,EAAG,OAAOO,GAAyBH,EAAUC,CAAU,CAAI,CAE3L,SAASE,GAAyBH,EAAUC,EAAY,CAAE,OAAIA,EAAW,IAAcA,EAAW,IAAI,KAAKD,CAAQ,EAAYC,EAAW,KAAQ,CAElJ,SAASG,GAAsBJ,EAAUJ,EAAYzK,EAAO,CAAE,IAAI8K,EAAaC,GAA6BF,EAAUJ,EAAY,KAAK,EAAG,OAAAS,GAAyBL,EAAUC,EAAY9K,CAAK,EAAUA,CAAQ,CAEhN,SAAS+K,GAA6BF,EAAUJ,EAAYU,EAAQ,CAAE,GAAI,CAACV,EAAW,IAAII,CAAQ,EAAK,MAAM,IAAI,UAAU,gBAAkBM,EAAS,gCAAgC,EAAK,OAAOV,EAAW,IAAII,CAAQ,CAAI,CAE7N,SAASK,GAAyBL,EAAUC,EAAY9K,EAAO,CAAE,GAAI8K,EAAW,IAAOA,EAAW,IAAI,KAAKD,EAAU7K,CAAK,MAAU,CAAE,GAAI,CAAC8K,EAAW,SAAY,MAAM,IAAI,UAAU,0CAA0C,EAAKA,EAAW,MAAQ9K,CAAM,CAAI,CAElQ,IAAIoL,GAAc,OAAO,OAAW,IAAc,OAAO,YAAc,gBAEnEC,EAA0B,IAAI,QAE9BC,EAAwB,IAAI,QAEhC,MAAMC,CAA0B,CAC9B,YAAYC,EAAM,CAChB,GAAI,CACF,SAAAC,EAAW,IAAM,CAAE,EACnB,UAAAC,EAAYC,EAAkB,EAC9B,QAAAC,EAAU,IAAI,QAAQ,CAAChK,EAASC,IAAW4J,EAAS7J,EAASC,EAAQgK,GAAY,CAC/EH,EAAU,aAAa,KAAKG,CAAQ,CAC5C,CAAO,CAAC,CACH,EAAGL,EAEJhB,EAA2B,KAAMa,EAAY,CAC3C,SAAU,GACV,MAAO,MACb,CAAK,EAEDb,EAA2B,KAAMc,EAAU,CACzC,SAAU,GACV,MAAO,MACb,CAAK,EAEDf,EAAgB,KAAMa,GAAa,mBAAmB,EAEtD,KAAK,OAAS,KAAK,OAAO,KAAK,IAAI,EAEnCH,GAAsB,KAAMI,EAAYK,CAAS,EAEjDT,GAAsB,KAAMK,EAAUM,GAAW,IAAI,QAAQ,CAAChK,EAASC,IAAW4J,EAAS7J,EAASC,EAAQgK,GAAY,CACtHH,EAAU,aAAa,KAAKG,CAAQ,CACrC,CAAA,CAAC,CAAC,CACJ,CAED,KAAKC,EAAaC,EAAY,CAC5B,OAAOC,EAAepB,EAAsB,KAAMU,CAAQ,EAAE,KAAKW,EAAeH,EAAalB,EAAsB,KAAMS,CAAU,CAAC,EAAGY,EAAeF,EAAYnB,EAAsB,KAAMS,CAAU,CAAC,CAAC,EAAGT,EAAsB,KAAMS,CAAU,CAAC,CACrP,CAED,MAAMU,EAAY,CAChB,OAAOC,EAAepB,EAAsB,KAAMU,CAAQ,EAAE,MAAMW,EAAeF,EAAYnB,EAAsB,KAAMS,CAAU,CAAC,CAAC,EAAGT,EAAsB,KAAMS,CAAU,CAAC,CAChL,CAED,QAAQa,EAAWC,EAAiB,CAClC,OAAIA,GACFvB,EAAsB,KAAMS,CAAU,EAAE,aAAa,KAAKa,CAAS,EAG9DF,EAAepB,EAAsB,KAAMU,CAAQ,EAAE,QAAQW,EAAe,IAAM,CACvF,GAAIC,EACF,OAAIC,IACFvB,EAAsB,KAAMS,CAAU,EAAE,aAAeT,EAAsB,KAAMS,CAAU,EAAE,aAAa,OAAOe,GAAYA,IAAaF,CAAS,GAGhJA,EAAS,CAExB,EAAOtB,EAAsB,KAAMS,CAAU,CAAC,CAAC,EAAGT,EAAsB,KAAMS,CAAU,CAAC,CACtF,CAED,QAAS,CACPT,EAAsB,KAAMS,CAAU,EAAE,WAAa,GAErD,IAAIgB,EAAYzB,EAAsB,KAAMS,CAAU,EAAE,aAExDT,EAAsB,KAAMS,CAAU,EAAE,aAAe,CAAA,EAEvD,QAASe,KAAYC,EACnB,GAAI,OAAOD,GAAa,WACtB,GAAI,CACFA,GACD,OAAQ7K,EAAK,CACZ,QAAQ,MAAMA,CAAG,CAClB,CAGN,CAED,YAAa,CACX,OAAOqJ,EAAsB,KAAMS,CAAU,EAAE,aAAe,EAC/D,CAEH,CAEO,MAAMiB,UAA0Bf,CAA0B,CAC/D,YAAYE,EAAU,CACpB,MAAM,CACJ,SAAAA,CACN,CAAK,CACF,CAEH,CAEAlB,EAAgB+B,EAAmB,MAAO,SAAaC,EAAU,CAC/D,OAAOC,EAAkBD,EAAU,QAAQ,IAAIA,CAAQ,CAAC,CAC1D,CAAC,EAEDhC,EAAgB+B,EAAmB,aAAc,SAAoBC,EAAU,CAC7E,OAAOC,EAAkBD,EAAU,QAAQ,WAAWA,CAAQ,CAAC,CACjE,CAAC,EAEDhC,EAAgB+B,EAAmB,MAAO,SAAaC,EAAU,CAC/D,OAAOC,EAAkBD,EAAU,QAAQ,IAAIA,CAAQ,CAAC,CAC1D,CAAC,EAEDhC,EAAgB+B,EAAmB,OAAQ,SAAcC,EAAU,CACjE,OAAOC,EAAkBD,EAAU,QAAQ,KAAKA,CAAQ,CAAC,CAC3D,CAAC,EAEDhC,EAAgB+B,EAAmB,UAAW,SAAiBtM,EAAO,CACpE,OAAOyM,GAAW,QAAQ,QAAQzM,CAAK,CAAC,CAC1C,CAAC,EAEDuK,EAAgB+B,EAAmB,SAAU,SAAgBjJ,EAAQ,CACnE,OAAOoJ,GAAW,QAAQ,OAAOpJ,CAAM,CAAC,CAC1C,CAAC,EAEDkH,EAAgB+B,EAAmB,eAAgBI,CAAmB,EAG/D,SAASD,GAAWb,EAAS,CAClC,OAAOI,EAAeJ,EAASD,EAAgB,CAAE,CACnD,CACO,SAASe,EAAoBd,EAAS,CAC3C,OAAOA,aAAmBU,GAAqBV,aAAmBL,CACpE,CAEA,SAASU,EAAeU,EAAUjB,EAAW,CAC3C,GAAIiB,EACF,OAAOC,GAAO,CACZ,GAAI,CAAClB,EAAU,WAAY,CACzB,IAAIrK,EAASsL,EAASC,CAAG,EAEzB,OAAIF,EAAoBrL,CAAM,GAC5BqK,EAAU,aAAa,KAAKrK,EAAO,MAAM,EAGpCA,CACR,CAED,OAAOuL,CACb,CAEA,CAEA,SAASZ,EAAeJ,EAASF,EAAW,CAC1C,OAAO,IAAIH,EAA0B,CACnC,UAAAG,EACA,QAAAE,CACJ,CAAG,CACH,CAEA,SAASY,EAAkBD,EAAUX,EAAS,CAC5C,IAAIF,EAAYC,IAChB,OAAAD,EAAU,aAAa,KAAK,IAAM,CAChC,QAASmB,KAAcN,EACjBG,EAAoBG,CAAU,GAChCA,EAAW,OAAM,CAGzB,CAAG,EACM,IAAItB,EAA0B,CACnC,UAAAG,EACA,QAAAE,CACJ,CAAG,CACH,CAEA,SAASD,GAAmB,CAC1B,MAAO,CACL,WAAY,GACZ,aAAc,CAAE,CACpB,CACA,CC5JA,MAAMvB,GAASF,GAAU,EAQZ4C,GAAe,SAASC,EAA+B,CAzCpE,IAAAlD,EA0CO,MAAAmD,GAASnD,EAAeE,GAAA,IAAf,KAAkB,OAAAF,EAAA,IACjC,GAAI,CAACmD,EACE,MAAA,IAAI,MAAM,kBAAkB,EAGnC,MAAMC,EAAQF,EAAK,MACbG,EAAcC,GAAoBF,GAAAA,YAAAA,EAAO,WAAW,EACpDG,GAASH,EAAM,UAAU,GAAKD,GAAQ,WAEtC/I,EAASgG,GAAkB,MAAQH,EAAWiD,EAAK,QAAQ,EAK3DM,EAAW,CAChB,qBALiB,QAAS,EACxBC,GAASrJ,CAAM,oBACR,SAAoB,EAI7B,OAAAA,EACA,MAAO,IAAI,KAAK8I,EAAK,OAAO,EAC5B,KAAMA,EAAK,MAAQ,2BACnB,uBAAa,OAAkB,EAC/B,YAAAG,EACA,MAAAE,EACA,KAAMtD,EACN,WAAY,CACX,GAAGiD,EACH,GAAGE,EACH,WAAoBA,GAAAA,YAAAA,EAAA,eACpB,yBAAe,QAAS,CACzB,CAAA,EAGD,cAAOI,EAAS,WAAW,MAEpBN,EAAK,OAAS,OAClB,IAAIQ,GAAKF,CAAQ,EACjB,IAAIG,GAAOH,CAAQ,CACvB,EAEaI,GAAc,CAAC/I,EAAO,MAAmC,CAC/D,MAAAtB,EAAa,IAAI,gBACjBsK,EAAkBC,KAExB,OAAO,IAAIrB,EAAkB,MAAO1K,EAASC,EAAQgK,IAAa,CACxDA,EAAA,IAAMzI,EAAW,MAAA,CAAO,EAC7B,GAAA,CACH,MAAMwK,EAAmB,MAAMxD,GAAO,qBAAqB1F,EAAM,CAChE,QAAS,GACT,KAAMgJ,EACN,YAAa,GACb,OAAQtK,EAAW,MAAA,CACnB,EAEK4B,EAAO4I,EAAiB,KAAK,CAAC,EAC9BC,EAAWD,EAAiB,KAAK,MAAM,CAAC,EAC1C,GAAA5I,EAAK,WAAaN,EACf,MAAA,IAAI,MAAM,yCAAyC,EAGlD9C,EAAA,CACP,OAAQkL,GAAa9H,CAAI,EACzB,SAAU6I,EAAS,IAAcxM,GAAA,CAC5B,GAAA,CACH,OAAOyL,GAAazL,CAAM,QAClByM,EAAO,CACf,OAAAC,GAAO,MAAM,0BAA0B,OAAA1M,EAAO,SAAQ,GAAK,EAAA,CAAE,MAAAyM,EAAO,EAC7D,IACR,CAAA,CACA,EAAE,OAAO,OAAO,CAAA,CACjB,QACOA,EAAO,CACfjM,EAAOiM,CAAK,CACb,CAAA,CACA,CACF","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,21]}