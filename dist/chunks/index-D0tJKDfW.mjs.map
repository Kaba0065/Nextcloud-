{"version":3,"mappings":"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","names":["p","n","s","u","o","l","h","m","w","f","A","b","T","r","__publicField","__vitePreload","_a","y","_b","_c","c","a","d","M"],"sources":["../../node_modules/@nextcloud/dialogs/dist/index.mjs"],"sourcesContent":["import { basename as c } from \"path\";\nimport u, { toRaw as m } from \"vue\";\nimport { t as a, n as d } from \"./chunks/toast-7xJhDYMn.mjs\";\nimport { g as E, e as _, f as F, c as I, d as H, b as O, T as L, a as x, k as B, j as D, s as R, h as U, l as N, i as k } from \"./chunks/toast-7xJhDYMn.mjs\";\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst p = (e, t, i = () => {\n}) => {\n  const n = document.createElement(\"div\");\n  (document.querySelector(t?.container) || document.body).appendChild(n);\n  const s = new u({\n    el: n,\n    name: \"VueDialogHelper\",\n    render: (o) => o(e, {\n      props: t,\n      on: {\n        close: (...l) => {\n          i(...l.map((h) => m(h))), s.$destroy();\n        }\n      }\n    })\n  });\n}, w = '<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"mdi-folder-move\" viewBox=\"0 0 24 24\"><path d=\"M14,18V15H10V11H14V8L19,13M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z\" /></svg>', f = '<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"mdi-folder-multiple\" viewBox=\"0 0 24 24\"><path d=\"M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z\" /></svg>';\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nvar A = /* @__PURE__ */ ((e) => (e[e.Choose = 1] = \"Choose\", e[e.Move = 2] = \"Move\", e[e.Copy = 3] = \"Copy\", e[e.CopyMove = 4] = \"CopyMove\", e[e.Custom = 5] = \"Custom\", e))(A || {});\nclass b extends Error {\n}\nclass T {\n  title;\n  multiSelect;\n  mimeTypeFilter;\n  directoriesAllowed;\n  buttons;\n  path;\n  filter;\n  container;\n  constructor(t, i, n, r, s, o, l, h) {\n    this.title = t, this.multiSelect = i, this.mimeTypeFilter = n, this.directoriesAllowed = r, this.path = o, this.filter = l, this.buttons = s, this.container = h;\n  }\n  /**\n   * Pick files using the FilePicker\n   *\n   * @return Promise with array of picked files or rejected promise on close without picking\n   */\n  async pick() {\n    const { FilePickerVue: t } = await import(\"./chunks/index-1zThpkd0.mjs\");\n    return new Promise((i, n) => {\n      p(t, {\n        allowPickDirectory: this.directoriesAllowed,\n        buttons: this.buttons,\n        container: this.container,\n        name: this.title,\n        path: this.path,\n        mimetypeFilter: this.mimeTypeFilter,\n        multiselect: this.multiSelect,\n        filterFn: this.filter\n      }, (...r) => {\n        const [s] = r;\n        !Array.isArray(s) || s.length === 0 ? n(new b(\"FilePicker: No nodes selected\")) : this.multiSelect ? i(s.map((o) => o.path)) : i(s[0]?.path || \"/\");\n      });\n    });\n  }\n}\nclass y {\n  title;\n  multiSelect = !1;\n  mimeTypeFilter = [];\n  directoriesAllowed = !1;\n  path;\n  filter;\n  buttons = [];\n  container;\n  /**\n   * Construct a new FilePicker\n   *\n   * @param title Title of the FilePicker\n   */\n  constructor(t) {\n    this.title = t;\n  }\n  /**\n   * Set the container where the FilePicker will be mounted\n   * By default 'body' is used\n   *\n   * @param container The dialog container\n   */\n  setContainer(t) {\n    return this.container = t, this;\n  }\n  /**\n   * Enable or disable picking multiple files\n   *\n   * @param ms True to enable picking multiple files, false otherwise\n   */\n  setMultiSelect(t) {\n    return this.multiSelect = t, this;\n  }\n  /**\n   * Add allowed MIME type\n   *\n   * @param filter MIME type to allow\n   */\n  addMimeTypeFilter(t) {\n    return this.mimeTypeFilter.push(t), this;\n  }\n  /**\n   * Set allowed MIME types\n   *\n   * @param filter Array of allowed MIME types\n   */\n  setMimeTypeFilter(t) {\n    return this.mimeTypeFilter = t, this;\n  }\n  /**\n   * Add a button to the FilePicker\n   * Note: This overrides any previous `setButtonFactory` call\n   *\n   * @param button The button\n   */\n  addButton(t) {\n    return typeof this.buttons == \"function\" && (console.warn(\"FilePicker buttons were set to factory, now overwritten with button object.\"), this.buttons = []), this.buttons.push(t), this;\n  }\n  /**\n   * Set the button factory which is used to generate buttons from current view, path and selected nodes\n   * Note: This overrides any previous `addButton` call\n   *\n   * @param factory The button factory\n   */\n  setButtonFactory(t) {\n    return this.buttons = t, this;\n  }\n  /**\n   * Set FilePicker type based on legacy file picker types\n   * @param type The legacy filepicker type to emulate\n   * @deprecated Use `addButton` or `setButtonFactory` instead as with setType you do not know which button was pressed\n   */\n  setType(t) {\n    return this.buttons = (i, n) => {\n      const r = [], s = i?.[0]?.attributes?.displayName || i?.[0]?.basename, o = s || c(n);\n      if (t === 1) {\n        let l = a(\"Choose\");\n        i.length === 1 ? l = a(\"Choose {file}\", { file: s }) : this.multiSelect && (l = d(\"Choose %n file\", \"Choose %n files\", i.length)), r.push({\n          callback: () => {\n          },\n          type: \"primary\",\n          label: l\n        });\n      }\n      return (t === 4 || t === 3) && r.push({\n        callback: () => {\n        },\n        label: o ? a(\"Copy to {target}\", { target: o }) : a(\"Copy\"),\n        type: \"primary\",\n        icon: f\n      }), (t === 2 || t === 4) && r.push({\n        callback: () => {\n        },\n        label: o ? a(\"Move to {target}\", { target: o }) : a(\"Move\"),\n        type: t === 2 ? \"primary\" : \"secondary\",\n        icon: w\n      }), r;\n    }, this;\n  }\n  /**\n   * Allow to pick directories besides files\n   *\n   * @param allow True to allow picking directories\n   */\n  allowDirectories(t = !0) {\n    return this.directoriesAllowed = t, this;\n  }\n  /**\n   * Set starting path of the FilePicker\n   *\n   * @param path Path to start from picking\n   */\n  startAt(t) {\n    return this.path = t, this;\n  }\n  /**\n   * Add filter function to filter file list of FilePicker\n   *\n   * @param filter Filter function to apply\n   */\n  setFilter(t) {\n    return this.filter = t, this;\n  }\n  /**\n   * Construct the configured FilePicker\n   */\n  build() {\n    return new T(\n      this.title,\n      this.multiSelect,\n      this.mimeTypeFilter,\n      this.directoriesAllowed,\n      this.buttons,\n      this.path,\n      this.filter\n    );\n  }\n}\nfunction M(e) {\n  return new y(e);\n}\nexport {\n  T as FilePicker,\n  y as FilePickerBuilder,\n  b as FilePickerClosed,\n  A as FilePickerType,\n  E as TOAST_ARIA_LIVE_ASSERTIVE,\n  _ as TOAST_ARIA_LIVE_OFF,\n  F as TOAST_ARIA_LIVE_POLITE,\n  I as TOAST_DEFAULT_TIMEOUT,\n  H as TOAST_PERMANENT_TIMEOUT,\n  O as TOAST_UNDO_TIMEOUT,\n  L as ToastAriaLive,\n  x as ToastType,\n  M as getFilePickerBuilder,\n  B as showError,\n  D as showInfo,\n  R as showMessage,\n  U as showSuccess,\n  N as showUndo,\n  k as showWarning,\n  p as spawnDialog\n};\n"],"file":"dist/chunks/index-D0tJKDfW.mjs"}