/*! third party licenses: dist/vendor.LICENSE.txt */
var p=Object.defineProperty;var d=(e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var s=(e,t,i)=>(d(e,typeof t!="symbol"?t+"":t,i),i);import{_ as y}from"./preload-helper-3Yr03P9X.mjs";import{p as w}from"./index-Ca0QcE7e.mjs";import{aH as b,bl as f}from"../core-common.mjs";import{u as h,C as v}from"./toast-7xJhDYMn-BrG8uCqw.mjs";const C=(e,t,i=()=>{})=>{const n=document.createElement("div");(document.querySelector(t==null?void 0:t.container)||document.body).appendChild(n);const l=new b({el:n,name:"VueDialogHelper",render:r=>r(e,{props:t,on:{close:(...o)=>{i(...o.map(a=>f(a))),l.$destroy()}}})})},A='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-move" viewBox="0 0 24 24"><path d="M14,18V15H10V11H14V8L19,13M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" /></svg>',g='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-multiple" viewBox="0 0 24 24"><path d="M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z" /></svg>';var F=(e=>(e[e.Choose=1]="Choose",e[e.Move=2]="Move",e[e.Copy=3]="Copy",e[e.CopyMove=4]="CopyMove",e[e.Custom=5]="Custom",e))(F||{});class V extends Error{}class H{constructor(t,i,n,l,r,o,a,c){s(this,"title");s(this,"multiSelect");s(this,"mimeTypeFilter");s(this,"directoriesAllowed");s(this,"buttons");s(this,"path");s(this,"filter");s(this,"container");this.title=t,this.multiSelect=i,this.mimeTypeFilter=n,this.directoriesAllowed=l,this.path=o,this.filter=a,this.buttons=r,this.container=c}async pick(){const{FilePickerVue:t}=await y(()=>import("./index-1zThpkd0-BaccqBs5.mjs"),__vite__mapDeps([0,1,2]),import.meta.url);return new Promise((i,n)=>{C(t,{allowPickDirectory:this.directoriesAllowed,buttons:this.buttons,container:this.container,name:this.title,path:this.path,mimetypeFilter:this.mimeTypeFilter,multiselect:this.multiSelect,filterFn:this.filter},(...l)=>{var o;const[r]=l;!Array.isArray(r)||r.length===0?n(new V("FilePicker: No nodes selected")):this.multiSelect?i(r.map(a=>a.path)):i(((o=r[0])==null?void 0:o.path)||"/")})})}}class M{constructor(t){s(this,"title");s(this,"multiSelect",!1);s(this,"mimeTypeFilter",[]);s(this,"directoriesAllowed",!1);s(this,"path");s(this,"filter");s(this,"buttons",[]);s(this,"container");this.title=t}setContainer(t){return this.container=t,this}setMultiSelect(t){return this.multiSelect=t,this}addMimeTypeFilter(t){return this.mimeTypeFilter.push(t),this}setMimeTypeFilter(t){return this.mimeTypeFilter=t,this}addButton(t){return typeof this.buttons=="function"&&(console.warn("FilePicker buttons were set to factory, now overwritten with button object."),this.buttons=[]),this.buttons.push(t),this}setButtonFactory(t){return this.buttons=t,this}setType(t){return this.buttons=(i,n)=>{var a,c,m;const l=[],r=((c=(a=i==null?void 0:i[0])==null?void 0:a.attributes)==null?void 0:c.displayName)||((m=i==null?void 0:i[0])==null?void 0:m.basename),o=r||w.basename(n);if(t===1){let u=h("Choose");i.length===1?u=h("Choose {file}",{file:r}):this.multiSelect&&(u=v("Choose %n file","Choose %n files",i.length)),l.push({callback:()=>{},type:"primary",label:u})}return(t===4||t===3)&&l.push({callback:()=>{},label:o?h("Copy to {target}",{target:o}):h("Copy"),type:"primary",icon:g}),(t===2||t===4)&&l.push({callback:()=>{},label:o?h("Move to {target}",{target:o}):h("Move"),type:t===2?"primary":"secondary",icon:A}),l},this}allowDirectories(t=!0){return this.directoriesAllowed=t,this}startAt(t){return this.path=t,this}setFilter(t){return this.filter=t,this}build(){return new H(this.title,this.multiSelect,this.mimeTypeFilter,this.directoriesAllowed,this.buttons,this.path,this.filter)}}function _(e){return new M(e)}export{F as A,_ as M,V as b,C as p};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = [OC.filePath('nextcloud', '', 'dist/chunks/index-1zThpkd0-BaccqBs5.mjs'),OC.filePath('nextcloud', '', 'dist/chunks/preload-helper-3Yr03P9X.mjs'),OC.filePath('nextcloud', '', 'dist/core-common.mjs')]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
