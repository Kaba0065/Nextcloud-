{"version":3,"file":"settings-vue-settings-personal-webauthn.js?v=74bb68aaa559fa6800bc","mappings":";6BAAIA,+FCwBJ,GAAeC,WAAAA,MACbC,OAAO,YACPC,aACAC,yVCQF,aAFC,OAED,6BAPO,qGACiE,OAAjEC,GAAMC,EAAAA,EAAAA,aAAY,gDAA+C,SAEpDC,EAAAA,QAAAA,IAAUF,GAAI,OAAvB,OAAJG,EAAO,EAAH,uBACHA,EAAKC,MAAI,4CAChB,sBAMM,SAAeC,EAAmB,EAAD,kCAOxC,aAFC,OAED,6BAPO,WAAkCC,EAAMF,GAAI,wFACqB,OAAjEJ,GAAMC,EAAAA,EAAAA,aAAY,gDAA+C,SAEpDC,EAAAA,QAAAA,KAAWF,EAAK,CAAEM,KAAAA,EAAMF,KAAAA,IAAO,OAAxC,OAAJD,EAAO,EAAH,uBACHA,EAAKC,MAAI,4CAChB,sBAKM,SAAeG,EAAmB,GAAD,+BAIvC,iDAJM,WAAkCC,GAAE,sFACmC,OAAvER,GAAMC,EAAAA,EAAAA,aAAY,gDAAD,OAAiDO,IAAK,SAEvEN,EAAAA,QAAAA,OAAaF,GAAI,4CACvB,wQCmBD,qCAEA,OADAS,EAAAA,MAAAA,GACA,CACA,GAEA,iBACAC,MAAAA,EACAC,aAAAA,EACAC,OAAAA,EACAC,QAAAA,IAGA,GACAP,KAAAA,YACAQ,MAAAA,CACAC,YAAAA,QACAC,QAAAA,CACAC,KAAAA,QACAC,SAAAA,GAEAC,YAAAA,CACAF,KAAAA,QACAC,SAAAA,IAGAd,KAAAA,WACA,OACAE,KAAAA,GACAc,WAAAA,CAAAA,EACAC,kBAAAA,EACAC,KAAAA,EAAAA,MAEA,EACAC,QAAAA,CACAC,oBAAAA,SAAAA,GACA,uqBACA,EACAC,MAAAA,WAAA,WAIA,OAHA,yBACAC,EAAAA,MAAAA,mCAEA,uBACAC,KAAAA,KAAAA,qBACAA,KAAAA,KAAAA,SAAAA,KAAAA,OACAA,MAAAA,WAAA,mBACAC,OAAAA,SAAAA,GACAF,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,SACA,cACA,GACA,EAEAG,oBAAAA,WAqBA,OApBAH,EAAAA,MAAAA,uCDhGO,WAAgC,+BCoHvC,GACAC,MAAAA,SAAAA,GAIA,OAHAD,EAAAA,MAAAA,GACAI,EAAAA,UAAAA,WAAAA,KArBA,YAOA,OALAC,EAAAA,EACAC,QAAAA,KAAAA,KACAA,QAAAA,KAAAA,MAGA,SACA,MACA,SACA,uGAEAD,GAAAA,IAAAA,MAAAA,EAAAA,GAAAA,KAAAA,IACA,CAEA,qBACA,CAKAD,CAAAA,EAAAA,YAAAA,SAAAA,GAAA,0BACAA,EAAAA,KAAAA,GAAAA,WAAAA,KAAAA,EAAAA,KAAAA,IAAAA,SAAAA,GAAA,0BACA,CACA,IACAF,OAAAA,SAAAA,GAEA,MADAF,EAAAA,MAAAA,uDAAAA,GACA,2EACA,GACA,EAEAO,SAAAA,SAAAA,GAAA,WAGA,OAFAP,EAAAA,MAAAA,kCAEA,8BAAAI,UAAAA,IACAH,MAAAA,SAAAA,GACA,cACAnB,GAAAA,EAAAA,GACAS,KAAAA,EAAAA,KACAiB,MAAAA,EAAAA,oBAAAA,IAAAA,WAAAA,EAAAA,QACAC,SAAAA,CACAC,eAAAA,EAAAA,oBAAAA,IAAAA,WAAAA,EAAAA,SAAAA,iBACAC,kBAAAA,EAAAA,oBAAAA,IAAAA,WAAAA,EAAAA,SAAAA,qBAGA,GACA,EAEAC,OAAAA,WAAA,WAGA,OAFA,qBAEA,uBACAX,KAAAA,EAAAA,uBACAA,KAAAA,KAAAA,sBACAA,KAAAA,EAAAA,4BACAA,MAAAA,WAAA,oBACAA,KAAAA,EAAAA,cACAC,MAAAA,EAAAA,MAAAA,KAAAA,MACA,EAEAW,qBAAAA,WAAA,2KAEAlC,EAAAA,EAAAA,KAAAA,KAAAA,UAAAA,EAAAA,aAAA,OAAAmC,EAAAA,EAAAA,KAEA/B,EAAAA,KAAAA,mBAAAA,CAAA+B,OAAAA,IAEA,0CAEA,MAFA,yBAEA/B,EAAAA,MAAAA,yCAAAA,CAAAgC,MAAAA,EAAAA,KACA,sUAEA,EAEAC,MAAAA,WACA,aACA,yBACA,iBACA,IC3M4L,qICWxLC,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,WALlD,eCbIM,GAAY,OACd,GCTW,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAASF,EAAIlC,SAAYkC,EAAI/B,YAAoIiC,EAAG,MAAM,CAAEF,EAAI5B,OAAS4B,EAAI7B,kBAAkBX,MAAO0C,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,GAAG,CAAC,MAAQJ,EAAIzB,QAAQ,CAACyB,EAAIK,GAAG,WAAWL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,wBAAwB,cAAeP,EAAI5B,OAAS4B,EAAI7B,kBAAkBV,aAAcyC,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,OAAO,CAACM,YAAY,wCAAwCR,EAAIK,GAAG,SAASL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,2CAA2C,UAAWP,EAAI5B,OAAS4B,EAAI7B,kBAAkBT,OAAQwC,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,OAAO,CAACM,YAAY,wCAAwCR,EAAIK,GAAG,KAAKH,EAAG,QAAQ,CAACO,WAAW,CAAC,CAACrD,KAAK,QAAQsD,QAAQ,UAAUC,MAAOX,EAAI5C,KAAMwD,WAAW,SAASC,MAAM,CAAC,KAAO,OAAO,YAAcb,EAAIO,EAAE,WAAY,qBAAqBO,SAAS,CAAC,MAASd,EAAI5C,MAAOgD,GAAG,CAAC,SAAS,SAASW,GAAQ,OAAIA,EAAOhD,KAAKiD,QAAQ,QAAQhB,EAAIiB,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOI,IAAI,SAAgB,KAAYnB,EAAIZ,OAAOgC,MAAM,KAAMC,UAAU,EAAE,MAAQ,SAASN,GAAWA,EAAOO,OAAOC,YAAiBvB,EAAI5C,KAAK2D,EAAOO,OAAOX,MAAK,KAAKX,EAAIK,GAAG,KAAKH,EAAG,SAAS,CAACE,GAAG,CAAC,MAAQJ,EAAIZ,SAAS,CAACY,EAAIK,GAAG,WAAWL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,QAAQ,cAAeP,EAAI5B,OAAS4B,EAAI7B,kBAAkBR,QAASuC,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,OAAO,CAACM,YAAY,wCAAwCR,EAAIK,GAAG,SAASL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,yBAAyB,UAAUL,EAAG,MAAM,CAACF,EAAIK,GAAG,2EAApgDH,EAAG,MAAM,CAACF,EAAIK,GAAG,OAAOL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,8DAA8D,OACrN,GACsB,IDUpB,EACA,KACA,WACA,MAIF,EAAeR,EAAiB,uCEnByJ,ECqCzL,CACA3C,KAAAA,SACAoE,WAAAA,CACAC,qBAAAA,GACAC,UAAAA,KAEA9D,MAAAA,CACAR,KAAAA,CACAW,KAAAA,OACA4D,UAAAA,gBCnCI,EAAU,CAAC,EAEf,EAAQjC,kBAAoB,IAC5B,EAAQC,cAAgB,IAElB,EAAQC,OAAS,SAAc,KAAM,QAE3C,EAAQC,OAAS,IACjB,EAAQC,mBAAqB,IAEhB,IAAI,IAAS,GAKJ,KAAW,YAAiB,WALlD,ICFA,GAXgB,OACd,GCTW,WAAkB,IAAIE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,OAAO,CAACM,YAAY,yBAAyBR,EAAIK,GAAG,OAAOL,EAAIM,GAAGN,EAAI5C,MAAQ4C,EAAIO,EAAE,WAAY,mBAAmB,QAAQL,EAAG,YAAY,CAACW,MAAM,CAAC,cAAa,IAAO,CAACX,EAAG,iBAAiB,CAACW,MAAM,CAAC,KAAO,eAAeT,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOf,EAAI4B,MAAM,SAAS,IAAI,CAAC5B,EAAIK,GAAG,WAAWL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,WAAW,aAAa,IAAI,EAC5c,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,iIEwChC,kBAEA,GACAiB,WAAAA,CACAK,UAAAA,EACAC,OAAAA,GAEAlE,MAAAA,CACAmE,eAAAA,CACAhE,KAAAA,MACA4D,UAAAA,GAEA7D,QAAAA,CACAC,KAAAA,QACAC,SAAAA,GAEAC,YAAAA,CACAF,KAAAA,QACAC,SAAAA,GAEAgE,uBAAAA,CACAjE,KAAAA,QACAC,SAAAA,IAGAd,KAAAA,WACA,OACA+E,QAAAA,KAAAA,eAEA,EACAC,SAAAA,CACAC,cAAAA,WACA,sBACA,GAEA9D,QAAAA,CACA+D,YAAAA,SAAAA,GACA7E,EAAAA,MAAAA,iCAAAA,OAAAA,EAAAA,KAEA,oBACA,EACA8E,aAAAA,SAAAA,GAAA,4IACA,OAAA9E,EAAAA,KAAAA,4BAAAA,OAAAA,IAAA,UAEA+E,EAAAA,EAAAA,mBAAA,uBACAjF,EAAAA,GAAA,OAEA,2DAEAE,EAAAA,KAAAA,mBAAAA,OAAAA,EAAAA,0BAAA,0NACA,IC7G0L,ICkB1L,IAXgB,OACd,GCRW,WAAkB,IAAIyC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,UAAUK,MAAM,CAAC,GAAK,sBAAsB,CAACX,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,mCAAmCP,EAAIK,GAAG,KAAKH,EAAG,IAAI,CAACM,YAAY,mCAAmC,CAACR,EAAIK,GAAG,SAASL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,sFAAsF,UAAUP,EAAIK,GAAG,KAA6B,IAAvBL,EAAIiC,QAAQM,OAAcrC,EAAG,IAAI,CAACF,EAAIK,GAAG,SAASL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,2BAA2B,UAAUL,EAAG,IAAI,CAACF,EAAIK,GAAG,SAASL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,2DAA2D,UAAUP,EAAIK,GAAG,KAAKL,EAAIwC,GAAIxC,EAAImC,eAAe,SAAS7C,GAAQ,OAAOY,EAAG,SAAS,CAACiB,IAAI7B,EAAOhC,GAAGuD,MAAM,CAAC,KAAOvB,EAAOlC,MAAMgD,GAAG,CAAC,OAAS,SAASW,GAAQ,OAAOf,EAAIqC,aAAa/C,EAAOhC,GAAG,IAAI,IAAG0C,EAAIK,GAAG,KAAOL,EAAIgC,uBAAuJhC,EAAIyC,KAAnIvC,EAAG,IAAI,CAACM,YAAY,WAAW,CAACR,EAAIK,GAAG,SAASL,EAAIM,GAAGN,EAAIO,EAAE,WAAY,4CAA4C,UAAmBP,EAAIK,GAAG,KAAML,EAAIgC,uBAAwB9B,EAAG,YAAY,CAACW,MAAM,CAAC,WAAWb,EAAIlC,QAAQ,eAAekC,EAAI/B,aAAamC,GAAG,CAAC,MAAQJ,EAAIoC,eAAepC,EAAIyC,MAAM,EAChqC,GACsB,IDSpB,EACA,KACA,WACA,MAI8B,QEUhCC,EAAAA,GAAoBC,KAAKC,GAAGC,cAE5BC,EAAAA,GAAAA,UAAAA,EAAkBvC,EAIlB,IAFauC,EAAAA,GAAAA,OAAWC,IAExB,CAAS,CACRC,UAAW,CACVjB,gBAHckB,EAAAA,EAAAA,GAAU,WAAY,oBAIpCnF,QAAsC,WAA7BoF,OAAOC,SAASC,SACzBnF,YAA0C,cAA7BiF,OAAOC,SAASE,SAC7BrB,4BAAgE,IAAhCkB,OAAOI,uBAEtCC,OAAO,gFCtCNC,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOpG,GAAI,6MAA8M,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,mEAAmE,MAAQ,GAAG,SAAW,+EAA+E,eAAiB,CAAC,q9NAA88N,WAAa,MAEv6O,gECJIkG,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOpG,GAAI,uNAAwN,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gEAAgE,MAAQ,GAAG,SAAW,uFAAuF,eAAiB,CAAC,+7DAAw7D,WAAa,MAEh6E,QCNIqG,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIN,EAASC,EAAyBE,GAAY,CACjDvG,GAAIuG,EACJI,QAAQ,EACRD,QAAS,CAAC,GAUX,OANAE,EAAoBL,GAAUM,KAAKT,EAAOM,QAASN,EAAQA,EAAOM,QAASJ,GAG3EF,EAAOO,QAAS,EAGTP,EAAOM,OACf,CAGAJ,EAAoBQ,EAAIF,EpB5BpBzH,EAAW,GACfmH,EAAoBS,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAInI,EAAS8F,OAAQqC,IAAK,CACrCL,EAAW9H,EAASmI,GAAG,GACvBJ,EAAK/H,EAASmI,GAAG,GACjBH,EAAWhI,EAASmI,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIP,EAAShC,OAAQuC,MACpB,EAAXL,GAAsBC,GAAgBD,IAAaM,OAAOC,KAAKpB,EAAoBS,GAAGY,OAAM,SAAS9D,GAAO,OAAOyC,EAAoBS,EAAElD,GAAKoD,EAASO,GAAK,IAChKP,EAASW,OAAOJ,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACbpI,EAASyI,OAAON,IAAK,GACrB,IAAIO,EAAIX,SACET,IAANoB,IAAiBb,EAASa,EAC/B,CACD,CACA,OAAOb,CArBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAInI,EAAS8F,OAAQqC,EAAI,GAAKnI,EAASmI,EAAI,GAAG,GAAKH,EAAUG,IAAKnI,EAASmI,GAAKnI,EAASmI,EAAI,GACrGnI,EAASmI,GAAK,CAACL,EAAUC,EAAIC,EAwB/B,EqB5BAb,EAAoBwB,EAAI,SAAS1B,GAChC,IAAI2B,EAAS3B,GAAUA,EAAO4B,WAC7B,WAAa,OAAO5B,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAE,EAAoB2B,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,ECNAzB,EAAoB2B,EAAI,SAASvB,EAASyB,GACzC,IAAI,IAAItE,KAAOsE,EACX7B,EAAoB8B,EAAED,EAAYtE,KAASyC,EAAoB8B,EAAE1B,EAAS7C,IAC5E4D,OAAOY,eAAe3B,EAAS7C,EAAK,CAAEyE,YAAY,EAAMC,IAAKJ,EAAWtE,IAG3E,ECPAyC,EAAoBkC,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO9F,MAAQ,IAAI+F,SAAS,cAAb,EAGhB,CAFE,MAAOC,GACR,GAAsB,iBAAX/C,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBU,EAAoB8B,EAAI,SAASQ,EAAKC,GAAQ,OAAOpB,OAAOqB,UAAUC,eAAelC,KAAK+B,EAAKC,EAAO,ECCtGvC,EAAoBuB,EAAI,SAASnB,GACX,oBAAXsC,QAA0BA,OAAOC,aAC1CxB,OAAOY,eAAe3B,EAASsC,OAAOC,YAAa,CAAE5F,MAAO,WAE7DoE,OAAOY,eAAe3B,EAAS,aAAc,CAAErD,OAAO,GACvD,ECNAiD,EAAoB4C,IAAM,SAAS9C,GAGlC,OAFAA,EAAO+C,MAAQ,GACV/C,EAAOgD,WAAUhD,EAAOgD,SAAW,IACjChD,CACR,ECJAE,EAAoBkB,EAAI,gBCAxBlB,EAAoB+C,EAAIC,SAASC,SAAWC,KAAK3D,SAAS4D,KAK1D,IAAIC,EAAkB,CACrB,KAAM,GAaPpD,EAAoBS,EAAES,EAAI,SAASmC,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4BjK,GAC/D,IAKI2G,EAAUoD,EALV1C,EAAWrH,EAAK,GAChBkK,EAAclK,EAAK,GACnBmK,EAAUnK,EAAK,GAGI0H,EAAI,EAC3B,GAAGL,EAAS+C,MAAK,SAAShK,GAAM,OAA+B,IAAxB0J,EAAgB1J,EAAW,IAAI,CACrE,IAAIuG,KAAYuD,EACZxD,EAAoB8B,EAAE0B,EAAavD,KACrCD,EAAoBQ,EAAEP,GAAYuD,EAAYvD,IAGhD,GAAGwD,EAAS,IAAI/C,EAAS+C,EAAQzD,EAClC,CAEA,IADGuD,GAA4BA,EAA2BjK,GACrD0H,EAAIL,EAAShC,OAAQqC,IACzBqC,EAAU1C,EAASK,GAChBhB,EAAoB8B,EAAEsB,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOrD,EAAoBS,EAAEC,EAC9B,EAEIiD,EAAqBT,KAA4B,sBAAIA,KAA4B,uBAAK,GAC1FS,EAAmBC,QAAQN,EAAqBO,KAAK,KAAM,IAC3DF,EAAmB9D,KAAOyD,EAAqBO,KAAK,KAAMF,EAAmB9D,KAAKgE,KAAKF,OClDvF3D,EAAoB8D,QAAK3D,ECGzB,IAAI4D,EAAsB/D,EAAoBS,OAAEN,EAAW,CAAC,OAAO,WAAa,OAAOH,EAAoB,MAAQ,IACnH+D,EAAsB/D,EAAoBS,EAAEsD","sources":["webpack:///nextcloud/webpack\\runtime\\chunk loaded","webpack:///nextcloud/apps\\settings\\src\\logger.js","webpack:///nextcloud/apps\\settings\\src\\service\\WebAuthnRegistrationSerice.js","webpack:///nextcloud/apps\\settings\\src\\components\\WebAuthn\\AddDevice.vue","webpack:///nextcloud/apps\\settings\\src\\components\\WebAuthn\\AddDevice.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/settings/src/components/WebAuthn/AddDevice.vue?5b33","webpack://nextcloud/./apps/settings/src/components/WebAuthn/AddDevice.vue?5011","webpack://nextcloud/./apps/settings/src/components/WebAuthn/AddDevice.vue?c9ea","webpack:///nextcloud/apps\\settings\\src\\components\\WebAuthn\\Device.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps\\settings\\src\\components\\WebAuthn\\Device.vue","webpack://nextcloud/./apps/settings/src/components/WebAuthn/Device.vue?31b3","webpack://nextcloud/./apps/settings/src/components/WebAuthn/Device.vue?06c3","webpack://nextcloud/./apps/settings/src/components/WebAuthn/Device.vue?37fa","webpack:///nextcloud/apps\\settings\\src\\components\\WebAuthn\\Section.vue","webpack:///nextcloud/apps\\settings\\src\\components\\WebAuthn\\Section.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/settings/src/components/WebAuthn/Section.vue?3346","webpack://nextcloud/./apps/settings/src/components/WebAuthn/Section.vue?ad4f","webpack:///nextcloud/apps\\settings\\src\\main-personal-webauth.js","webpack:///nextcloud/apps\\settings\\src\\components\\WebAuthn\\AddDevice.vue?vue&type=style&index=0&id=10204416&prod&scoped=true&lang=css&","webpack:///nextcloud/apps\\settings\\src\\components\\WebAuthn\\Device.vue?vue&type=style&index=0&id=dec15470&prod&scoped=true&lang=css&","webpack:///nextcloud/webpack\\bootstrap","webpack:///nextcloud/webpack\\runtime\\compat get default export","webpack:///nextcloud/webpack\\runtime\\define property getters","webpack:///nextcloud/webpack\\runtime\\global","webpack:///nextcloud/webpack\\runtime\\hasOwnProperty shorthand","webpack:///nextcloud/webpack\\runtime\\make namespace object","webpack:///nextcloud/webpack\\runtime\\node module decorator","webpack:///nextcloud/webpack\\runtime\\runtimeId","webpack:///nextcloud/webpack\\runtime\\jsonp chunk loading","webpack:///nextcloud/webpack\\runtime\\nonce","webpack:///nextcloud/webpack\\startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/**\r\n * @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @author Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport { getLoggerBuilder } from '@nextcloud/logger'\r\n\r\nexport default getLoggerBuilder()\r\n\t.setApp('settings')\r\n\t.detectUser()\r\n\t.build()\r\n","/**\r\n * @copyright 2020, Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @author Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport axios from '@nextcloud/axios'\r\nimport { generateUrl } from '@nextcloud/router'\r\n\r\n/**\r\n *\r\n */\r\nexport async function startRegistration() {\r\n\tconst url = generateUrl('/settings/api/personal/webauthn/registration')\r\n\r\n\tconst resp = await axios.get(url)\r\n\treturn resp.data\r\n}\r\n\r\n/**\r\n * @param {any} name -\r\n * @param {any} data -\r\n */\r\nexport async function finishRegistration(name, data) {\r\n\tconst url = generateUrl('/settings/api/personal/webauthn/registration')\r\n\r\n\tconst resp = await axios.post(url, { name, data })\r\n\treturn resp.data\r\n}\r\n\r\n/**\r\n * @param {any} id -\r\n */\r\nexport async function removeRegistration(id) {\r\n\tconst url = generateUrl(`/settings/api/personal/webauthn/registration/${id}`)\r\n\r\n\tawait axios.delete(url)\r\n}\r\n","<!--\r\n  - @copyright 2020, Roeland Jago Douma <roeland@famdouma.nl>\r\n  -\r\n  - @author Roeland Jago Douma <roeland@famdouma.nl>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n  -->\r\n\r\n<template>\r\n\t<div v-if=\"!isHttps && !isLocalhost\">\r\n\t\t{{ t('settings', 'Passwordless authentication requires a secure connection.') }}\r\n\t</div>\r\n\t<div v-else>\r\n\t\t<div v-if=\"step === RegistrationSteps.READY\">\r\n\t\t\t<button @click=\"start\">\r\n\t\t\t\t{{ t('settings', 'Add WebAuthn device') }}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div v-else-if=\"step === RegistrationSteps.REGISTRATION\"\r\n\t\t\tclass=\"new-webauthn-device\">\r\n\t\t\t<span class=\"icon-loading-small webauthn-loading\" />\r\n\t\t\t{{ t('settings', 'Please authorize your WebAuthn device.') }}\r\n\t\t</div>\r\n\r\n\t\t<div v-else-if=\"step === RegistrationSteps.NAMING\"\r\n\t\t\tclass=\"new-webauthn-device\">\r\n\t\t\t<span class=\"icon-loading-small webauthn-loading\" />\r\n\t\t\t<input v-model=\"name\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\t:placeholder=\"t('settings', 'Name your device')\"\r\n\t\t\t\t@:keyup.enter=\"submit\">\r\n\t\t\t<button @click=\"submit\">\r\n\t\t\t\t{{ t('settings', 'Add') }}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div v-else-if=\"step === RegistrationSteps.PERSIST\"\r\n\t\t\tclass=\"new-webauthn-device\">\r\n\t\t\t<span class=\"icon-loading-small webauthn-loading\" />\r\n\t\t\t{{ t('settings', 'Adding your device …') }}\r\n\t\t</div>\r\n\r\n\t\t<div v-else>\r\n\t\t\tInvalid registration step. This should not have happened.\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { confirmPassword } from '@nextcloud/password-confirmation'\r\nimport '@nextcloud/password-confirmation/dist/style.css'\r\n\r\nimport logger from '../../logger'\r\nimport {\r\n\tstartRegistration,\r\n\tfinishRegistration,\r\n} from '../../service/WebAuthnRegistrationSerice'\r\n\r\nconst logAndPass = (text) => (data) => {\r\n\tlogger.debug(text)\r\n\treturn data\r\n}\r\n\r\nconst RegistrationSteps = Object.freeze({\r\n\tREADY: 1,\r\n\tREGISTRATION: 2,\r\n\tNAMING: 3,\r\n\tPERSIST: 4,\r\n})\r\n\r\nexport default {\r\n\tname: 'AddDevice',\r\n\tprops: {\r\n\t\thttpWarning: Boolean,\r\n\t\tisHttps: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tisLocalhost: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tname: '',\r\n\t\t\tcredential: {},\r\n\t\t\tRegistrationSteps,\r\n\t\t\tstep: RegistrationSteps.READY,\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tarrayToBase64String(a) {\r\n\t\t\treturn btoa(String.fromCharCode(...a))\r\n\t\t},\r\n\t\tstart() {\r\n\t\t\tthis.step = RegistrationSteps.REGISTRATION\r\n\t\t\tconsole.debug('Starting WebAuthn registration')\r\n\r\n\t\t\treturn confirmPassword()\r\n\t\t\t\t.then(this.getRegistrationData)\r\n\t\t\t\t.then(this.register.bind(this))\r\n\t\t\t\t.then(() => { this.step = RegistrationSteps.NAMING })\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err.name, err.message)\r\n\t\t\t\t\tthis.step = RegistrationSteps.READY\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tgetRegistrationData() {\r\n\t\t\tconsole.debug('Fetching webauthn registration data')\r\n\r\n\t\t\tconst base64urlDecode = function(input) {\r\n\t\t\t\t// Replace non-url compatible chars with base64 standard chars\r\n\t\t\t\tinput = input\r\n\t\t\t\t\t.replace(/-/g, '+')\r\n\t\t\t\t\t.replace(/_/g, '/')\r\n\r\n\t\t\t\t// Pad out with standard base64 required padding characters\r\n\t\t\t\tconst pad = input.length % 4\r\n\t\t\t\tif (pad) {\r\n\t\t\t\t\tif (pad === 1) {\r\n\t\t\t\t\t\tthrow new Error('InvalidLengthError: Input base64url string is the wrong length to determine padding')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinput += new Array(5 - pad).join('=')\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn window.atob(input)\r\n\t\t\t}\r\n\r\n\t\t\treturn startRegistration()\r\n\t\t\t\t.then(publicKey => {\r\n\t\t\t\t\tconsole.debug(publicKey)\r\n\t\t\t\t\tpublicKey.challenge = Uint8Array.from(base64urlDecode(publicKey.challenge), c => c.charCodeAt(0))\r\n\t\t\t\t\tpublicKey.user.id = Uint8Array.from(publicKey.user.id, c => c.charCodeAt(0))\r\n\t\t\t\t\treturn publicKey\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error('Error getting webauthn registration data from server', err)\r\n\t\t\t\t\tthrow new Error(t('settings', 'Server error while trying to add WebAuthn device'))\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tregister(publicKey) {\r\n\t\t\tconsole.debug('starting webauthn registration')\r\n\r\n\t\t\treturn navigator.credentials.create({ publicKey })\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tthis.credential = {\r\n\t\t\t\t\t\tid: data.id,\r\n\t\t\t\t\t\ttype: data.type,\r\n\t\t\t\t\t\trawId: this.arrayToBase64String(new Uint8Array(data.rawId)),\r\n\t\t\t\t\t\tresponse: {\r\n\t\t\t\t\t\t\tclientDataJSON: this.arrayToBase64String(new Uint8Array(data.response.clientDataJSON)),\r\n\t\t\t\t\t\t\tattestationObject: this.arrayToBase64String(new Uint8Array(data.response.attestationObject)),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tsubmit() {\r\n\t\t\tthis.step = RegistrationSteps.PERSIST\r\n\r\n\t\t\treturn confirmPassword()\r\n\t\t\t\t.then(logAndPass('confirmed password'))\r\n\t\t\t\t.then(this.saveRegistrationData)\r\n\t\t\t\t.then(logAndPass('registration data saved'))\r\n\t\t\t\t.then(() => this.reset())\r\n\t\t\t\t.then(logAndPass('app reset'))\r\n\t\t\t\t.catch(console.error.bind(this))\r\n\t\t},\r\n\r\n\t\tasync saveRegistrationData() {\r\n\t\t\ttry {\r\n\t\t\t\tconst device = await finishRegistration(this.name, JSON.stringify(this.credential))\r\n\r\n\t\t\t\tlogger.info('new device added', { device })\r\n\r\n\t\t\t\tthis.$emit('added', device)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tlogger.error('Error persisting webauthn registration', { error: err })\r\n\t\t\t\tthrow new Error(t('settings', 'Server error while trying to complete WebAuthn device registration'))\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\treset() {\r\n\t\t\tthis.name = ''\r\n\t\t\tthis.registrationData = {}\r\n\t\t\tthis.step = RegistrationSteps.READY\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\t.webauthn-loading {\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: sub;\r\n\t\tmargin-left: 2px;\r\n\t\tmargin-right: 2px;\r\n\t}\r\n\r\n\t.new-webauthn-device {\r\n\t\tline-height: 300%;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDevice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDevice.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDevice.vue?vue&type=style&index=0&id=10204416&prod&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDevice.vue?vue&type=style&index=0&id=10204416&prod&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AddDevice.vue?vue&type=template&id=10204416&scoped=true&\"\nimport script from \"./AddDevice.vue?vue&type=script&lang=js&\"\nexport * from \"./AddDevice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddDevice.vue?vue&type=style&index=0&id=10204416&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10204416\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.isHttps && !_vm.isLocalhost)?_c('div',[_vm._v(\"\\n\\t\"+_vm._s(_vm.t('settings', 'Passwordless authentication requires a secure connection.'))+\"\\n\")]):_c('div',[(_vm.step === _vm.RegistrationSteps.READY)?_c('div',[_c('button',{on:{\"click\":_vm.start}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Add WebAuthn device'))+\"\\n\\t\\t\")])]):(_vm.step === _vm.RegistrationSteps.REGISTRATION)?_c('div',{staticClass:\"new-webauthn-device\"},[_c('span',{staticClass:\"icon-loading-small webauthn-loading\"}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('settings', 'Please authorize your WebAuthn device.'))+\"\\n\\t\")]):(_vm.step === _vm.RegistrationSteps.NAMING)?_c('div',{staticClass:\"new-webauthn-device\"},[_c('span',{staticClass:\"icon-loading-small webauthn-loading\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.t('settings', 'Name your device')},domProps:{\"value\":(_vm.name)},on:{\":keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submit.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.name=$event.target.value}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.submit}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Add'))+\"\\n\\t\\t\")])]):(_vm.step === _vm.RegistrationSteps.PERSIST)?_c('div',{staticClass:\"new-webauthn-device\"},[_c('span',{staticClass:\"icon-loading-small webauthn-loading\"}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('settings', 'Adding your device …'))+\"\\n\\t\")]):_c('div',[_vm._v(\"\\n\\t\\tInvalid registration step. This should not have happened.\\n\\t\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Device.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Device.vue?vue&type=script&lang=js&\"","<!--\r\n  - @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n  -\r\n  - @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n  -->\r\n\r\n<template>\r\n\t<div class=\"webauthn-device\">\r\n\t\t<span class=\"icon-webauthn-device\" />\r\n\t\t{{ name || t('settings', 'Unnamed device') }}\r\n\t\t<NcActions :force-menu=\"true\">\r\n\t\t\t<NcActionButton icon=\"icon-delete\" @click=\"$emit('delete')\">\r\n\t\t\t\t{{ t('settings', 'Delete') }}\r\n\t\t\t</NcActionButton>\r\n\t\t</NcActions>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions'\r\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton'\r\n\r\nexport default {\r\n\tname: 'Device',\r\n\tcomponents: {\r\n\t\tNcActionButton,\r\n\t\tNcActions,\r\n\t},\r\n\tprops: {\r\n\t\tname: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\t.webauthn-device {\r\n\t\tline-height: 300%;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.icon-webauthn-device {\r\n\t\tdisplay: inline-block;\r\n\t\tbackground-size: 100%;\r\n\t\tpadding: 3px;\r\n\t\tmargin: 3px;\r\n\t}\r\n</style>\r\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Device.vue?vue&type=style&index=0&id=dec15470&prod&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Device.vue?vue&type=style&index=0&id=dec15470&prod&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Device.vue?vue&type=template&id=dec15470&scoped=true&\"\nimport script from \"./Device.vue?vue&type=script&lang=js&\"\nexport * from \"./Device.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Device.vue?vue&type=style&index=0&id=dec15470&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dec15470\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"webauthn-device\"},[_c('span',{staticClass:\"icon-webauthn-device\"}),_vm._v(\"\\n\\t\"+_vm._s(_vm.name || _vm.t('settings', 'Unnamed device'))+\"\\n\\t\"),_c('NcActions',{attrs:{\"force-menu\":true}},[_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.$emit('delete')}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Delete'))+\"\\n\\t\\t\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n  - @copyright 2020, Roeland Jago Douma <roeland@famdouma.nl>\r\n  -\r\n  - @author Roeland Jago Douma <roeland@famdouma.nl>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n  -->\r\n\r\n<template>\r\n\t<div id=\"security-webauthn\" class=\"section\">\r\n\t\t<h2>{{ t('settings', 'Passwordless Authentication') }}</h2>\r\n\t\t<p class=\"settings-hint hidden-when-empty\">\r\n\t\t\t{{ t('settings', 'Set up your account for passwordless authentication following the FIDO2 standard.') }}\r\n\t\t</p>\r\n\t\t<p v-if=\"devices.length === 0\">\r\n\t\t\t{{ t('settings', 'No devices configured.') }}\r\n\t\t</p>\r\n\t\t<p v-else>\r\n\t\t\t{{ t('settings', 'The following devices are configured for your account:') }}\r\n\t\t</p>\r\n\t\t<Device v-for=\"device in sortedDevices\"\r\n\t\t\t:key=\"device.id\"\r\n\t\t\t:name=\"device.name\"\r\n\t\t\t@delete=\"deleteDevice(device.id)\" />\r\n\r\n\t\t<p v-if=\"!hasPublicKeyCredential\" class=\"warning\">\r\n\t\t\t{{ t('settings', 'Your browser does not support WebAuthn.') }}\r\n\t\t</p>\r\n\r\n\t\t<AddDevice v-if=\"hasPublicKeyCredential\"\r\n\t\t\t:is-https=\"isHttps\"\r\n\t\t\t:is-localhost=\"isLocalhost\"\r\n\t\t\t@added=\"deviceAdded\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { confirmPassword } from '@nextcloud/password-confirmation'\r\nimport '@nextcloud/password-confirmation/dist/style.css'\r\nimport sortBy from 'lodash/fp/sortBy'\r\n\r\nimport AddDevice from './AddDevice'\r\nimport Device from './Device'\r\nimport logger from '../../logger'\r\nimport { removeRegistration } from '../../service/WebAuthnRegistrationSerice'\r\n\r\nconst sortByName = sortBy('name')\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tAddDevice,\r\n\t\tDevice,\r\n\t},\r\n\tprops: {\r\n\t\tinitialDevices: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tisHttps: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tisLocalhost: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\thasPublicKeyCredential: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdevices: this.initialDevices,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tsortedDevices() {\r\n\t\t\treturn sortByName(this.devices)\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tdeviceAdded(device) {\r\n\t\t\tlogger.debug(`adding new device to the list ${device.id}`)\r\n\r\n\t\t\tthis.devices.push(device)\r\n\t\t},\r\n\t\tasync deleteDevice(id) {\r\n\t\t\tlogger.info(`deleting webauthn device ${id}`)\r\n\r\n\t\t\tawait confirmPassword()\r\n\t\t\tawait removeRegistration(id)\r\n\r\n\t\t\tthis.devices = this.devices.filter(d => d.id !== id)\r\n\r\n\t\t\tlogger.info(`webauthn device ${id} removed successfully`)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Section.vue?vue&type=template&id=9f54bc24&scoped=true&\"\nimport script from \"./Section.vue?vue&type=script&lang=js&\"\nexport * from \"./Section.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f54bc24\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section\",attrs:{\"id\":\"security-webauthn\"}},[_c('h2',[_vm._v(_vm._s(_vm.t('settings', 'Passwordless Authentication')))]),_vm._v(\" \"),_c('p',{staticClass:\"settings-hint hidden-when-empty\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('settings', 'Set up your account for passwordless authentication following the FIDO2 standard.'))+\"\\n\\t\")]),_vm._v(\" \"),(_vm.devices.length === 0)?_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('settings', 'No devices configured.'))+\"\\n\\t\")]):_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('settings', 'The following devices are configured for your account:'))+\"\\n\\t\")]),_vm._v(\" \"),_vm._l((_vm.sortedDevices),function(device){return _c('Device',{key:device.id,attrs:{\"name\":device.name},on:{\"delete\":function($event){return _vm.deleteDevice(device.id)}}})}),_vm._v(\" \"),(!_vm.hasPublicKeyCredential)?_c('p',{staticClass:\"warning\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('settings', 'Your browser does not support WebAuthn.'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasPublicKeyCredential)?_c('AddDevice',{attrs:{\"is-https\":_vm.isHttps,\"is-localhost\":_vm.isLocalhost},on:{\"added\":_vm.deviceAdded}}):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * @copyright 2020, Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @author Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport Vue from 'vue'\r\nimport { loadState } from '@nextcloud/initial-state'\r\n\r\nimport WebAuthnSection from './components/WebAuthn/Section'\r\n\r\n// eslint-disable-next-line camelcase\r\n__webpack_nonce__ = btoa(OC.requestToken)\r\n\r\nVue.prototype.t = t\r\n\r\nconst View = Vue.extend(WebAuthnSection)\r\nconst devices = loadState('settings', 'webauthn-devices')\r\nnew View({\r\n\tpropsData: {\r\n\t\tinitialDevices: devices,\r\n\t\tisHttps: window.location.protocol === 'https:',\r\n\t\tisLocalhost: window.location.hostname === 'localhost',\r\n\t\thasPublicKeyCredential: typeof (window.PublicKeyCredential) !== 'undefined',\r\n\t},\r\n}).$mount('#security-webauthn')\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.webauthn-loading[data-v-10204416] {\\n\\tdisplay: inline-block;\\n\\tvertical-align: sub;\\n\\tmargin-left: 2px;\\n\\tmargin-right: 2px;\\n}\\n.new-webauthn-device[data-v-10204416] {\\n\\tline-height: 300%;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/settings/src/components/WebAuthn/AddDevice.vue\"],\"names\":[],\"mappings\":\";AA6NA;CACA,qBAAA;CACA,mBAAA;CACA,gBAAA;CACA,iBAAA;AACA;AAEA;CACA,iBAAA;AACA\",\"sourcesContent\":[\"<!--\\r\\n  - @copyright 2020, Roeland Jago Douma <roeland@famdouma.nl>\\r\\n  -\\r\\n  - @author Roeland Jago Douma <roeland@famdouma.nl>\\r\\n  -\\r\\n  - @license GNU AGPL version 3 or any later version\\r\\n  -\\r\\n  - This program is free software: you can redistribute it and/or modify\\r\\n  - it under the terms of the GNU Affero General Public License as\\r\\n  - published by the Free Software Foundation, either version 3 of the\\r\\n  - License, or (at your option) any later version.\\r\\n  -\\r\\n  - This program is distributed in the hope that it will be useful,\\r\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\r\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\r\\n  - GNU Affero General Public License for more details.\\r\\n  -\\r\\n  - You should have received a copy of the GNU Affero General Public License\\r\\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\\r\\n  -->\\r\\n\\r\\n<template>\\r\\n\\t<div v-if=\\\"!isHttps && !isLocalhost\\\">\\r\\n\\t\\t{{ t('settings', 'Passwordless authentication requires a secure connection.') }}\\r\\n\\t</div>\\r\\n\\t<div v-else>\\r\\n\\t\\t<div v-if=\\\"step === RegistrationSteps.READY\\\">\\r\\n\\t\\t\\t<button @click=\\\"start\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Add WebAuthn device') }}\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<div v-else-if=\\\"step === RegistrationSteps.REGISTRATION\\\"\\r\\n\\t\\t\\tclass=\\\"new-webauthn-device\\\">\\r\\n\\t\\t\\t<span class=\\\"icon-loading-small webauthn-loading\\\" />\\r\\n\\t\\t\\t{{ t('settings', 'Please authorize your WebAuthn device.') }}\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<div v-else-if=\\\"step === RegistrationSteps.NAMING\\\"\\r\\n\\t\\t\\tclass=\\\"new-webauthn-device\\\">\\r\\n\\t\\t\\t<span class=\\\"icon-loading-small webauthn-loading\\\" />\\r\\n\\t\\t\\t<input v-model=\\\"name\\\"\\r\\n\\t\\t\\t\\ttype=\\\"text\\\"\\r\\n\\t\\t\\t\\t:placeholder=\\\"t('settings', 'Name your device')\\\"\\r\\n\\t\\t\\t\\t@:keyup.enter=\\\"submit\\\">\\r\\n\\t\\t\\t<button @click=\\\"submit\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Add') }}\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<div v-else-if=\\\"step === RegistrationSteps.PERSIST\\\"\\r\\n\\t\\t\\tclass=\\\"new-webauthn-device\\\">\\r\\n\\t\\t\\t<span class=\\\"icon-loading-small webauthn-loading\\\" />\\r\\n\\t\\t\\t{{ t('settings', 'Adding your device …') }}\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<div v-else>\\r\\n\\t\\t\\tInvalid registration step. This should not have happened.\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nimport { confirmPassword } from '@nextcloud/password-confirmation'\\r\\nimport '@nextcloud/password-confirmation/dist/style.css'\\r\\n\\r\\nimport logger from '../../logger'\\r\\nimport {\\r\\n\\tstartRegistration,\\r\\n\\tfinishRegistration,\\r\\n} from '../../service/WebAuthnRegistrationSerice'\\r\\n\\r\\nconst logAndPass = (text) => (data) => {\\r\\n\\tlogger.debug(text)\\r\\n\\treturn data\\r\\n}\\r\\n\\r\\nconst RegistrationSteps = Object.freeze({\\r\\n\\tREADY: 1,\\r\\n\\tREGISTRATION: 2,\\r\\n\\tNAMING: 3,\\r\\n\\tPERSIST: 4,\\r\\n})\\r\\n\\r\\nexport default {\\r\\n\\tname: 'AddDevice',\\r\\n\\tprops: {\\r\\n\\t\\thttpWarning: Boolean,\\r\\n\\t\\tisHttps: {\\r\\n\\t\\t\\ttype: Boolean,\\r\\n\\t\\t\\tdefault: false,\\r\\n\\t\\t},\\r\\n\\t\\tisLocalhost: {\\r\\n\\t\\t\\ttype: Boolean,\\r\\n\\t\\t\\tdefault: false,\\r\\n\\t\\t},\\r\\n\\t},\\r\\n\\tdata() {\\r\\n\\t\\treturn {\\r\\n\\t\\t\\tname: '',\\r\\n\\t\\t\\tcredential: {},\\r\\n\\t\\t\\tRegistrationSteps,\\r\\n\\t\\t\\tstep: RegistrationSteps.READY,\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\tmethods: {\\r\\n\\t\\tarrayToBase64String(a) {\\r\\n\\t\\t\\treturn btoa(String.fromCharCode(...a))\\r\\n\\t\\t},\\r\\n\\t\\tstart() {\\r\\n\\t\\t\\tthis.step = RegistrationSteps.REGISTRATION\\r\\n\\t\\t\\tconsole.debug('Starting WebAuthn registration')\\r\\n\\r\\n\\t\\t\\treturn confirmPassword()\\r\\n\\t\\t\\t\\t.then(this.getRegistrationData)\\r\\n\\t\\t\\t\\t.then(this.register.bind(this))\\r\\n\\t\\t\\t\\t.then(() => { this.step = RegistrationSteps.NAMING })\\r\\n\\t\\t\\t\\t.catch(err => {\\r\\n\\t\\t\\t\\t\\tconsole.error(err.name, err.message)\\r\\n\\t\\t\\t\\t\\tthis.step = RegistrationSteps.READY\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\tgetRegistrationData() {\\r\\n\\t\\t\\tconsole.debug('Fetching webauthn registration data')\\r\\n\\r\\n\\t\\t\\tconst base64urlDecode = function(input) {\\r\\n\\t\\t\\t\\t// Replace non-url compatible chars with base64 standard chars\\r\\n\\t\\t\\t\\tinput = input\\r\\n\\t\\t\\t\\t\\t.replace(/-/g, '+')\\r\\n\\t\\t\\t\\t\\t.replace(/_/g, '/')\\r\\n\\r\\n\\t\\t\\t\\t// Pad out with standard base64 required padding characters\\r\\n\\t\\t\\t\\tconst pad = input.length % 4\\r\\n\\t\\t\\t\\tif (pad) {\\r\\n\\t\\t\\t\\t\\tif (pad === 1) {\\r\\n\\t\\t\\t\\t\\t\\tthrow new Error('InvalidLengthError: Input base64url string is the wrong length to determine padding')\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\tinput += new Array(5 - pad).join('=')\\r\\n\\t\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t\\treturn window.atob(input)\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\treturn startRegistration()\\r\\n\\t\\t\\t\\t.then(publicKey => {\\r\\n\\t\\t\\t\\t\\tconsole.debug(publicKey)\\r\\n\\t\\t\\t\\t\\tpublicKey.challenge = Uint8Array.from(base64urlDecode(publicKey.challenge), c => c.charCodeAt(0))\\r\\n\\t\\t\\t\\t\\tpublicKey.user.id = Uint8Array.from(publicKey.user.id, c => c.charCodeAt(0))\\r\\n\\t\\t\\t\\t\\treturn publicKey\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t\\t\\t.catch(err => {\\r\\n\\t\\t\\t\\t\\tconsole.error('Error getting webauthn registration data from server', err)\\r\\n\\t\\t\\t\\t\\tthrow new Error(t('settings', 'Server error while trying to add WebAuthn device'))\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\tregister(publicKey) {\\r\\n\\t\\t\\tconsole.debug('starting webauthn registration')\\r\\n\\r\\n\\t\\t\\treturn navigator.credentials.create({ publicKey })\\r\\n\\t\\t\\t\\t.then(data => {\\r\\n\\t\\t\\t\\t\\tthis.credential = {\\r\\n\\t\\t\\t\\t\\t\\tid: data.id,\\r\\n\\t\\t\\t\\t\\t\\ttype: data.type,\\r\\n\\t\\t\\t\\t\\t\\trawId: this.arrayToBase64String(new Uint8Array(data.rawId)),\\r\\n\\t\\t\\t\\t\\t\\tresponse: {\\r\\n\\t\\t\\t\\t\\t\\t\\tclientDataJSON: this.arrayToBase64String(new Uint8Array(data.response.clientDataJSON)),\\r\\n\\t\\t\\t\\t\\t\\t\\tattestationObject: this.arrayToBase64String(new Uint8Array(data.response.attestationObject)),\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\tsubmit() {\\r\\n\\t\\t\\tthis.step = RegistrationSteps.PERSIST\\r\\n\\r\\n\\t\\t\\treturn confirmPassword()\\r\\n\\t\\t\\t\\t.then(logAndPass('confirmed password'))\\r\\n\\t\\t\\t\\t.then(this.saveRegistrationData)\\r\\n\\t\\t\\t\\t.then(logAndPass('registration data saved'))\\r\\n\\t\\t\\t\\t.then(() => this.reset())\\r\\n\\t\\t\\t\\t.then(logAndPass('app reset'))\\r\\n\\t\\t\\t\\t.catch(console.error.bind(this))\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\tasync saveRegistrationData() {\\r\\n\\t\\t\\ttry {\\r\\n\\t\\t\\t\\tconst device = await finishRegistration(this.name, JSON.stringify(this.credential))\\r\\n\\r\\n\\t\\t\\t\\tlogger.info('new device added', { device })\\r\\n\\r\\n\\t\\t\\t\\tthis.$emit('added', device)\\r\\n\\t\\t\\t} catch (err) {\\r\\n\\t\\t\\t\\tlogger.error('Error persisting webauthn registration', { error: err })\\r\\n\\t\\t\\t\\tthrow new Error(t('settings', 'Server error while trying to complete WebAuthn device registration'))\\r\\n\\t\\t\\t}\\r\\n\\t\\t},\\r\\n\\r\\n\\t\\treset() {\\r\\n\\t\\t\\tthis.name = ''\\r\\n\\t\\t\\tthis.registrationData = {}\\r\\n\\t\\t\\tthis.step = RegistrationSteps.READY\\r\\n\\t\\t},\\r\\n\\t},\\r\\n}\\r\\n</script>\\r\\n\\r\\n<style scoped>\\r\\n\\t.webauthn-loading {\\r\\n\\t\\tdisplay: inline-block;\\r\\n\\t\\tvertical-align: sub;\\r\\n\\t\\tmargin-left: 2px;\\r\\n\\t\\tmargin-right: 2px;\\r\\n\\t}\\r\\n\\r\\n\\t.new-webauthn-device {\\r\\n\\t\\tline-height: 300%;\\r\\n\\t}\\r\\n</style>\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.webauthn-device[data-v-dec15470] {\\n\\tline-height: 300%;\\n\\tdisplay: flex;\\n}\\n.icon-webauthn-device[data-v-dec15470] {\\n\\tdisplay: inline-block;\\n\\tbackground-size: 100%;\\n\\tpadding: 3px;\\n\\tmargin: 3px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/settings/src/components/WebAuthn/Device.vue\"],\"names\":[],\"mappings\":\";AAkEA;CACA,iBAAA;CACA,aAAA;AACA;AAEA;CACA,qBAAA;CACA,qBAAA;CACA,YAAA;CACA,WAAA;AACA\",\"sourcesContent\":[\"<!--\\r\\n  - @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\\r\\n  -\\r\\n  - @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\\r\\n  -\\r\\n  - @license GNU AGPL version 3 or any later version\\r\\n  -\\r\\n  - This program is free software: you can redistribute it and/or modify\\r\\n  - it under the terms of the GNU Affero General Public License as\\r\\n  - published by the Free Software Foundation, either version 3 of the\\r\\n  - License, or (at your option) any later version.\\r\\n  -\\r\\n  - This program is distributed in the hope that it will be useful,\\r\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\r\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\r\\n  - GNU Affero General Public License for more details.\\r\\n  -\\r\\n  - You should have received a copy of the GNU Affero General Public License\\r\\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\\r\\n  -->\\r\\n\\r\\n<template>\\r\\n\\t<div class=\\\"webauthn-device\\\">\\r\\n\\t\\t<span class=\\\"icon-webauthn-device\\\" />\\r\\n\\t\\t{{ name || t('settings', 'Unnamed device') }}\\r\\n\\t\\t<NcActions :force-menu=\\\"true\\\">\\r\\n\\t\\t\\t<NcActionButton icon=\\\"icon-delete\\\" @click=\\\"$emit('delete')\\\">\\r\\n\\t\\t\\t\\t{{ t('settings', 'Delete') }}\\r\\n\\t\\t\\t</NcActionButton>\\r\\n\\t\\t</NcActions>\\r\\n\\t</div>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions'\\r\\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton'\\r\\n\\r\\nexport default {\\r\\n\\tname: 'Device',\\r\\n\\tcomponents: {\\r\\n\\t\\tNcActionButton,\\r\\n\\t\\tNcActions,\\r\\n\\t},\\r\\n\\tprops: {\\r\\n\\t\\tname: {\\r\\n\\t\\t\\ttype: String,\\r\\n\\t\\t\\trequired: true,\\r\\n\\t\\t},\\r\\n\\t},\\r\\n}\\r\\n</script>\\r\\n\\r\\n<style scoped>\\r\\n\\t.webauthn-device {\\r\\n\\t\\tline-height: 300%;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t}\\r\\n\\r\\n\\t.icon-webauthn-device {\\r\\n\\t\\tdisplay: inline-block;\\r\\n\\t\\tbackground-size: 100%;\\r\\n\\t\\tpadding: 3px;\\r\\n\\t\\tmargin: 3px;\\r\\n\\t}\\r\\n</style>\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 1602;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t1602: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [7874], function() { return __webpack_require__(98044); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","getLoggerBuilder","setApp","detectUser","build","url","generateUrl","axios","resp","data","finishRegistration","name","removeRegistration","id","logger","READY","REGISTRATION","NAMING","PERSIST","props","httpWarning","isHttps","type","default","isLocalhost","credential","RegistrationSteps","step","methods","arrayToBase64String","start","console","then","catch","getRegistrationData","publicKey","input","replace","register","rawId","response","clientDataJSON","attestationObject","submit","saveRegistrationData","device","error","reset","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","component","_vm","this","_c","_self","on","_v","_s","t","staticClass","directives","rawName","value","expression","attrs","domProps","$event","indexOf","_k","keyCode","key","apply","arguments","target","composing","components","NcActionButton","NcActions","required","$emit","AddDevice","Device","initialDevices","hasPublicKeyCredential","devices","computed","sortedDevices","deviceAdded","deleteDevice","confirmPassword","length","_l","_e","__webpack_nonce__","btoa","OC","requestToken","Vue","WebAuthnSection","propsData","loadState","window","location","protocol","hostname","PublicKeyCredential","$mount","___CSS_LOADER_EXPORT___","push","module","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","b","document","baseURI","self","href","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","forEach","bind","nc","__webpack_exports__"],"sourceRoot":""}