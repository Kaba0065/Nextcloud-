/*! For license information please see dav-settings-personal-birthday-calendar.js.LICENSE.txt */
!function(){var n,e={81969:function(n,e,r){"use strict";var a=r(20144),i=r(9944),o=r(26932),d=r(16453),s=r(1412),u=r.n(s),c=r(7826),l=r.n(c),f=r(67776),h=r.n(f),p=r(7811),v=r.n(p),b=r(4820),y=r(79753),m=r(81063),g=r(56580),x=r.n(g),C=r(22200),w=x()((function(n){return b.default.defaults.headers["X-Requested-With"]="XMLHttpRequest",m.getPatcher().patch("request",b.default),m.createClient((0,y.generateRemoteUrl)("dav/".concat(n,"/").concat((0,C.getCurrentUser)().uid)))}));function R(n,e,t,r,a,i,o){try{var d=n[i](o),s=d.value}catch(n){return void t(n)}d.done?e(s):Promise.resolve(s).then(r,a)}function A(n){return function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(n){R(i,r,a,o,d,"next",n)}function d(n){R(i,r,a,o,d,"throw",n)}o(void 0)}))}}var B="contact_birthdays";function k(){return O.apply(this,arguments)}function O(){return(O=A(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=w("calendars"),n.next=3,e.customRequest(B,{method:"DELETE"});case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(){return _.apply(this,arguments)}function _(){return(_=A(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=w("calendars"),n.next=3,e.customRequest("",{method:"POST",data:'<x3:enable-birthday-calendar xmlns:x3="http://nextcloud.com/ns"/>'});case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function P(n){return E.apply(this,arguments)}function E(){return(E=A(regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.default.post((0,y.generateOcsUrl)("/apps/provisioning_api/api/v1/config/users/{appId}/{configKey}",{appId:"dav",configKey:"birthdayCalendarReminderOffset"}),{configValue:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function T(n,e,t,r,a,i,o){try{var d=n[i](o),s=d.value}catch(n){return void t(n)}d.done?e(s):Promise.resolve(s).then(r,a)}var M={name:"BirthdayCalendarSettings",components:{Button:u(),CheckboxRadioSwitch:l(),SettingsSection:h(),Multiselect:v()},data:function(){var n=["","PT9H","-PT15H","-P1DT15H","-P6DT15H"],e=[t("dav","None"),t("dav","Same day (9 AM)"),t("dav","1 day before (9 AM)"),t("dav","2 days before (9 AM)"),t("dav","1 week before (9 AM)")],r=(0,d.loadState)("dav","userBirthdayCalendarEnabled"),a=(0,d.loadState)("dav","userBirthdayCalendarReminderOffset");return{saving:!1,isBirthdayCalendarEnabled:r,enableBirthdayCalendar:r,birthdayReminder:e[n.indexOf(a)],birthdayReminderOptions:e,birthdayReminderValues:n}},methods:{save:function(){var n,e=this;return(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.saving=!0,n.next=4,P(e.birthdayReminderValues[e.birthdayReminderOptions.indexOf(e.birthdayReminder)]);case 4:if(!e.isBirthdayCalendarEnabled||e.enableBirthdayCalendar){n.next=9;break}return n.next=7,k();case 7:n.next=12;break;case 9:if(e.isBirthdayCalendarEnabled||!e.enableBirthdayCalendar){n.next=12;break}return n.next=12,S();case 12:e.isBirthdayCalendarEnabled=e.enableBirthdayCalendar,(0,o.s$)(t("dav","Saved birthday calendar settings")),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(0),console.error("could birthday calendar settings",n.t0),(0,o.x2)(t("dav","Failed to save birthday calendar settings"));case 20:return n.prev=20,e.saving=!1,n.finish(20);case 23:case"end":return n.stop()}}),n,null,[[0,16,20,23]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(n){T(i,r,a,o,d,"next",n)}function d(n){T(i,r,a,o,d,"throw",n)}o(void 0)}))})()}}},j=M,$=r(93379),Z=r.n($),q=r(7795),H=r.n(q),I=r(90569),D=r.n(I),U=r(3565),V=r.n(U),F=r(19216),K=r.n(F),L=r(44589),X=r.n(L),z=r(28161),N={};N.styleTagTransform=X(),N.setAttributes=V(),N.insert=D().bind(null,"head"),N.domAPI=H(),N.insertStyleElement=K(),Z()(z.Z,N),z.Z&&z.Z.locals&&z.Z.locals;var W=(0,r(51900).Z)(j,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("SettingsSection",{attrs:{title:n.$t("dav","Birthday Calendar")}},[t("CheckboxRadioSwitch",{attrs:{checked:n.enableBirthdayCalendar},on:{"update:checked":function(e){n.enableBirthdayCalendar=e}}},[n._v("\n\t\t"+n._s(n.$t("dav","Enable birthday calendar"))+"\n\t")]),n._v(" "),t("div",{staticClass:"select-container"},[t("label",{attrs:{for:"birthdayReminder"}},[n._v("\n\t\t\t"+n._s(n.$t("dav","Birthday reminder:"))+"\n\t\t")]),n._v(" "),t("span",{staticClass:"time-zone-text"},[t("Multiselect",{attrs:{options:n.birthdayReminderOptions,disabled:!n.enableBirthdayCalendar,id:"birthdayReminder"},model:{value:n.birthdayReminder,callback:function(e){n.birthdayReminder=e},expression:"birthdayReminder"}})],1)]),n._v(" "),t("Button",{attrs:{disabled:n.saving,type:"primary"},on:{click:n.save}},[n._v("\n\t\t"+n._s(n.$t("dav","Save"))+"\n\t")])],1)}),[],!1,null,null,null).exports;a.default.prototype.$t=i.translate,new(a.default.extend(W))({}).$mount("#settings-personal-birthday-calendar")},28161:function(n,e,t){"use strict";var r=t(87537),a=t.n(r),i=t(23645),o=t.n(i)()(a());o.push([n.id,".select-container{padding:12px 12px 12px 0}.select-container>label{padding-right:22px;font-weight:bold}","",{version:3,sources:["webpack://./apps/dav/src/views/BirthdayCalendarSettings.vue"],names:[],mappings:"AAgIA,kBACC,wBAAA,CAEA,wBACC,kBAAA,CACA,gBAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.select-container {\n\tpadding: 12px 12px 12px 0;\n\n\t> label {\n\t\tpadding-right: 22px;\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]),e.Z=o},69862:function(){},40964:function(){}},r={};function a(n){var t=r[n];if(void 0!==t)return t.exports;var i=r[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,a.amdD=function(){throw new Error("define cannot be used indirect")},a.amdO={},n=[],a.O=function(e,t,r,i){if(!t){var o=1/0;for(c=0;c<n.length;c++){t=n[c][0],r=n[c][1],i=n[c][2];for(var d=!0,s=0;s<t.length;s++)(!1&i||o>=i)&&Object.keys(a.O).every((function(n){return a.O[n](t[s])}))?t.splice(s--,1):(d=!1,i<o&&(o=i));if(d){n.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=n.length;c>0&&n[c-1][2]>i;c--)n[c]=n[c-1];n[c]=[t,r,i]},a.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(e,{a:e}),e},a.d=function(n,e){for(var t in e)a.o(e,t)&&!a.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),a.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.nmd=function(n){return n.paths=[],n.children||(n.children=[]),n},a.j=9340,function(){a.b=document.baseURI||self.location.href;var n={9340:0};a.O.j=function(e){return 0===n[e]};var e=function(e,t){var r,i,o=t[0],d=t[1],s=t[2],u=0;if(o.some((function(e){return 0!==n[e]}))){for(r in d)a.o(d,r)&&(a.m[r]=d[r]);if(s)var c=s(a)}for(e&&e(t);u<o.length;u++)i=o[u],a.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return a.O(c)},t=self.webpackChunknextcloud=self.webpackChunknextcloud||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}(),a.nc=void 0;var i=a.O(void 0,[7874],(function(){return a(81969)}));i=a.O(i)}();
//# sourceMappingURL=dav-settings-personal-birthday-calendar.js.map?v=139a8df093bea961f532